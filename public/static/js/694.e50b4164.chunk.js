"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[694],{27694:function(e,r,n){n.r(r),n.d(r,{default:function(){return Y}});var t=n(29439),l=n(72791),i=n(68087),a=n(4567),s=n(94721),o=n(64554),d=n(5849),u=n(54270),c=n(91933),h=n(61820),x=n(1413),m=n(13967),f=n(5574),p=n(65661),Z=n(4899),j=n(60220),g=n(81153),v=n(93006),b=n(46314),C=n(77386),S=n(4799),y=n.n(S),q=n(65639),T=n(88970),P=n(25801),A=n(45363),w=n(17133),W=n(92810),k=n(92506),I=n(81724),L=n(43992),N=n(12258),z=n(19873),B=n(41286),R=n(98274),F=n(80184);var _=function(e){var r=e.open,n=e.setOpen,i=(0,m.Z)().palette,u=(0,c.useQueryClient)(),h=(0,l.useState)([]),S=(0,t.Z)(h,2),_=S[0],E=S[1];(0,c.useQuery)(["department"],R.Sj,{onSuccess:function(e){var r=e.map((function(e){return e.department}));E(r)}});var M=(0,l.useState)(null),Y=(0,t.Z)(M,2),Q=Y[0],D=Y[1],O=(0,l.useState)(""),U=(0,t.Z)(O,2),V=U[0],G=U[1],H=(0,l.useState)("Male"),J=(0,t.Z)(H,2),K=J[0],X=J[1],$=(0,l.useState)(""),ee=(0,t.Z)($,2),re=ee[0],ne=ee[1],te=(0,l.useState)(""),le=(0,t.Z)(te,2),ie=le[0],ae=le[1],se=(0,l.useState)(""),oe=(0,t.Z)(se,2),de=oe[0],ue=oe[1],ce=(0,l.useState)(""),he=(0,t.Z)(ce,2),xe=he[0],me=he[1],fe=(0,l.useState)(null),pe=(0,t.Z)(fe,2),Ze=pe[0],je=pe[1],ge={profile:Q,fullname:V,gender:K,dob:re,email:ie,address:de,telephoneNo:xe,department:Ze},ve=(0,I.Ry)().shape({fullname:(0,I.Z_)().trim().required("required*"),gender:(0,I.Z_)().trim().required("required*"),dob:(0,I.hT)().required("required*"),email:(0,I.Z_)().trim().required("required").email("Invalid email address"),address:(0,I.Z_)().trim().required("required"),telephoneNo:(0,I.Rx)().required("required*"),department:(0,I.Z_)().trim().required("required*").nullable(!0)}),be=(0,c.useMutation)(z.r0);return(0,F.jsxs)(f.Z,{maxWidth:"md",fullWidth:!0,open:r,onClose:function(){return n(!1)},children:[(0,F.jsxs)(p.Z,{title:"Add Lecturer",borderBottom:"1px solid #5aa7a7",children:[(0,F.jsx)(L.Z,{})," Add Lecturer"]}),(0,F.jsx)(k.J9,{initialValues:ge,validationSchema:ve,onSubmit:function(e,r){r.setSubmitting(!0),e.professionalID="LEC".concat((0,W.Z)().split("-")[0]),be.mutateAsync(e,{onSuccess:function(e){y().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Lecturer saved successfully!!!",confirmButtonColor:"#5aa7a7"}),r.resetForm()},onError:function(e){console.log(e)},onSettled:function(){r.setSubmitting(!1),u.invalidateQueries("lecturer")}})},enableReinitialize:!0,children:function(e){var r=e.isSubmitting,t=e.values,l=e.errors,i=e.touched,u=e.handleSubmit;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(Z.Z,{children:[(0,F.jsxs)(o.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,F.jsx)(j.Z,{src:null===Q?null:URL.createObjectURL(Q),sx:{width:100,height:100,position:"relative"}}),(0,F.jsx)(w.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,F.jsx)(B.Z,{sx:{width:16,color:"#fff"}})}),(0,F.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return D(e.target.files[0])}})]}),(0,F.jsx)(a.Z,{children:"1.Personal Information"}),(0,F.jsx)(s.Z,{}),(0,F.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(v.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:V,error:Boolean(i.fullname&&l.fullname),helperText:l.fullname,onChange:function(e){return G(e.currentTarget.value)},required:!0})}),(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(v.Z,{variant:"filled",label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:t.dob,error:Boolean(i.dob&&l.dob),helperText:l.dob,onChange:function(e,r){return ne(e.currentTarget.value)},required:!0})}),(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsxs)(A.Z,{children:[(0,F.jsx)(w.Z,{id:"gender-group",children:"Gender"}),(0,F.jsxs)(T.Z,{"aria-labelledby":"gender-group",name:"gender-group",row:!0,value:K,onChange:function(e,r){return X(r)},children:[(0,F.jsx)(P.Z,{value:"Male",control:(0,F.jsx)(q.Z,{}),label:"Male"}),(0,F.jsx)(P.Z,{value:"Female",control:(0,F.jsx)(q.Z,{}),label:"Female"})]})]})})]}),(0,F.jsx)(a.Z,{children:"2.Contact Information"}),(0,F.jsx)(s.Z,{}),(0,F.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(v.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:ie,error:Boolean(i.email&&l.email),helperText:l.email,onChange:function(e){return ae(e.currentTarget.value)},required:!0})}),(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(v.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:xe,error:Boolean(i.telephoneNo&&l.telephoneNo),helperText:l.telephoneNo,onChange:function(e,r){return me(e.currentTarget.value)}})}),(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(v.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:de,error:Boolean(i.address&&l.address),helperText:l.address,onChange:function(e){return ue(e.currentTarget.value)}})})]}),(0,F.jsx)(a.Z,{children:"3.Academic Information"}),(0,F.jsx)(s.Z,{}),(0,F.jsx)(g.ZP,{container:!0,spacing:3,paddingY:2,children:(0,F.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,F.jsx)(b.Z,{options:_,value:Ze,onChange:function(e,r){return je(r)},renderInput:function(e){return(0,F.jsx)(v.Z,(0,x.Z)((0,x.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(i.department&&l.department),helperText:l.department}))}})})})]}),(0,F.jsxs)(C.Z,{children:[(0,F.jsx)(N.Z,{sx:{minWidth:100},variant:"contained",onClick:u,loading:r,children:"Save"}),(0,F.jsx)(d.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Close"})]})]})}})]})},E=n(45289),M=n(60502);var Y=function(){var e=(0,l.useState)(!1),r=(0,t.Z)(e,2),n=r[0],x=r[1],m=(0,l.useState)(!1),f=(0,t.Z)(m,2),p=(f[0],f[1]),Z=(0,c.useQuery)(["lecturer"],z.jl,{retry:3,onSuccess:function(e){},onError:function(e){p(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,F.jsxs)("section",{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)("title",{children:"Results System | Lecturer"})}),(0,F.jsxs)(h.Z,{children:[(0,F.jsxs)("section",{children:[(0,F.jsx)(a.Z,{variant:"h4",children:"Lectures"}),(0,F.jsx)(s.Z,{}),(0,F.jsx)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"}})]}),(0,F.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,F.jsx)(d.Z,{variant:"contained",color:"secondary",startIcon:(0,F.jsx)(i.Z,{}),onClick:function(){return x(!0)},children:"Add New"})}),(0,F.jsx)(E.Z,{heading:"Lecturers",columns:M.xS,data:Z.data?Z.data:[],refresh:Z.refetch})]}),(0,F.jsx)(_,{open:n,setOpen:x})]})}},68087:function(e,r,n){var t=n(74223),l=n(80184);r.Z=(0,t.Z)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")}}]);
//# sourceMappingURL=694.e50b4164.chunk.js.map
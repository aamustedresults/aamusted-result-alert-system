{"version":3,"file":"static/js/352.13ca8771.chunk.js","mappings":"2MAEIA,E,0CAIFA,EAAWC,yCAGUC,IAAAA,OAAa,CAClCC,QAAQ,GAAD,OAAKH,EAAL,oBACPI,QAAS,IACTC,QAAS,CACP,eAAgB,sBAJpB,IAiBaC,EAAmC,yCAAG,WAAOC,GAAP,qGAE7BL,IAAM,CACtBC,QAAQ,GAAD,OAAKH,EAAL,4BAAiCO,GACxCC,OAAQ,QAJqC,cAEzCC,EAFyC,yBAMxCA,EAAIC,MANoC,sCAQzC,KAAMC,SAASD,KAR0B,yDAAH,sDAYnCE,EAA8B,yCAAG,WAAOC,GAAP,qGAExBX,IAAM,CACtBC,QAAQ,GAAD,OAAKH,EAAL,gCAAqCa,GAC5CL,OAAQ,QAJgC,cAEpCC,EAFoC,yBAMnCA,EAAIC,MAN+B,sCAQpC,KAAMC,SAASD,KARqB,yDAAH,sDAY9BI,EAAY,yCAAG,WAAOC,GAAP,qGAENb,IAAM,CACtBC,QAAQ,GAAD,OAAKH,EAAL,oBACPQ,OAAQ,OACRE,KAAMK,IALgB,cAElBN,EAFkB,yBAOjBA,EAAIC,MAPa,sCASlB,KAAMC,SAASD,KATG,yDAAH,uD,qOC0CzB,UA5EA,WACE,OAAwCM,EAAAA,EAAAA,YAAWC,EAAAA,GAA3CC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eAErB,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KAiCA,OA/BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQC,aAAaC,QAAQ,kBACrB,OAAVF,GACFF,EAAkBE,KAEnB,QAACN,QAAD,IAACA,OAAD,EAACA,EAAaS,iCAEjBC,EAAAA,EAAAA,UACE,CAAC,kBAAmBP,IACpB,kBAAMf,EAAAA,EAAAA,IAAoCe,KAC1C,CACEQ,UAAWR,EAEXS,UAAU,WAAD,8BAAE,WAAOC,GAAP,mFACHC,EAAkBD,EAAQE,KAAI,SAACC,GACnC,MAAO,CACLC,GAAID,EAAOE,IACXvB,UAAWqB,EAAOrB,UAClBwB,KAAMH,EAAOA,OAAOC,GACpBD,OAAQA,EAAOA,OAAOI,UANjB,SAUHnB,EAAe,CACnBoB,KAAM,kBACNC,QAASR,IAZF,2CAAF,mDAAC,MAmBZ,iBAAKS,UAAU,kBAAf,WACE,SAAC,KAAD,WACE,mEAEF,SAAC,IAAD,WACE,gCACE,SAAC,IAAD,CAAYC,QAAQ,KAApB,oBACA,SAAC,IAAD,CACEC,GAAI,CACFC,QAAS,OACTC,eAAgB,YAHpB,UAME,UAAC,IAAD,YACE,SAAC,IAAD,oBACA,SAAC,IAAD,0BAGJ,SAAC,IAAD,KACA,SAAC,IAAD,CAAOC,UAAU,MAAMC,QAAS,EAAGC,SAAU,EAA7C,UACE,SAAC,KAAD,CAASP,UAAU,WAAWQ,GAAG,cAAjC,oCAUF,8BACE,SAAC,KAAD","sources":["components/api/assignedCourseApi.js","pages/Tutor.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nlet BASE_URL;\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  BASE_URL = process.env.REACT_APP_BASE_URL_LOCAL;\r\n} else {\r\n  BASE_URL = process.env.REACT_APP_BASE_URL;\r\n}\r\n\r\nconst courseInstance = axios.create({\r\n  baseURL: `${BASE_URL}/assigned_course`,\r\n  timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const getAllAssignedCourses = async () => {\r\n  try {\r\n    const res = await courseInstance.get();\r\n    return res.data;\r\n  } catch (error) {\r\n    //error.message);\r\n  }\r\n};\r\n\r\nexport const getAllAssignedCoursesToLecturerByID = async (lecturerID) => {\r\n  try {\r\n    const res = await axios({\r\n      baseURL: `${BASE_URL}/assigned_course/${lecturerID}`,\r\n      method: \"GET\",\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response.data;\r\n  }\r\n};\r\n\r\nexport const getAllAssignedCoursesProgramme = async (programme) => {\r\n  try {\r\n    const res = await axios({\r\n      baseURL: `${BASE_URL}/assigned_course/all/${programme}`,\r\n      method: \"GET\",\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response.data;\r\n  }\r\n};\r\n\r\nexport const assignCourse = async (newCourse) => {\r\n  try {\r\n    const res = await axios({\r\n      baseURL: `${BASE_URL}/assigned_course`,\r\n      method: \"POST\",\r\n      data: newCourse,\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response.data;\r\n  }\r\n};\r\n\r\nexport const updateAssignedCourse = async (updatedCourse) => {\r\n  try {\r\n    const res = await axios({\r\n      baseURL: `${BASE_URL}/assigned_course`,\r\n      method: \"PUT\",\r\n      data: updatedCourse,\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response.data;\r\n  }\r\n};\r\n\r\nexport const deleteAssignedCourse = async (ids) => {\r\n  try {\r\n    if (typeof ids === \"string\") {\r\n      const res = await axios({\r\n        baseURL: `${BASE_URL}/assigned_course`,\r\n        method: \"DELETE\",\r\n        params: {\r\n          id: ids,\r\n        },\r\n      });\r\n\r\n      return res.data;\r\n    }\r\n\r\n    if (typeof ids === \"object\") {\r\n      let resArr = [];\r\n      ids.map(async (id) => {\r\n        const res = await axios({\r\n          baseURL: `${BASE_URL}/assigned_course`,\r\n          method: \"DELETE\",\r\n          params: {\r\n            id,\r\n          },\r\n        });\r\n\r\n        resArr.push(res);\r\n      });\r\n\r\n      return resArr;\r\n    }\r\n  } catch (error) {\r\n    throw error.response.data;\r\n  }\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Breadcrumbs,\r\n  Divider,\r\n  Link,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { NavLink, Outlet } from \"react-router-dom\";\r\nimport Content from \"../components/Content\";\r\nimport { CustomContext } from \"../components/context/provider/CustomProvider\";\r\nimport { useQuery } from \"react-query\";\r\nimport { getAllAssignedCoursesToLecturerByID } from \"../components/api/assignedCourseApi\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nfunction Tutor() {\r\n  const { customState, customDispatch } = useContext(CustomContext);\r\n\r\n  const [professionalID, setProfessionalID] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const proID = localStorage.getItem(\"professionalID\");\r\n    if (proID !== null) {\r\n      setProfessionalID(proID);\r\n    }\r\n  }, [customState?.currentLecturerProfessionalID]);\r\n\r\n  useQuery(\r\n    [\"assigned-course\", professionalID],\r\n    () => getAllAssignedCoursesToLecturerByID(professionalID),\r\n    {\r\n      enabled: !!professionalID,\r\n\r\n      onSuccess: async (courses) => {\r\n        const modifiedCourses = courses.map((course) => {\r\n          return {\r\n            id: course._id,\r\n            programme: course.programme,\r\n            code: course.course.id,\r\n            course: course.course.label,\r\n          };\r\n        });\r\n\r\n        await customDispatch({\r\n          type: \"assignedCourses\",\r\n          payload: modifiedCourses,\r\n        });\r\n      },\r\n    }\r\n  );\r\n\r\n  return (\r\n    <div className=\"tutor-container\">\r\n      <Helmet>\r\n        <title>AAMUSTED  Results System | Tutor</title>\r\n      </Helmet>\r\n      <Content>\r\n        <section>\r\n          <Typography variant=\"h4\">Tutor</Typography>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <Breadcrumbs>\r\n              <Link>Home</Link>\r\n              <Typography>Tutor</Typography>\r\n            </Breadcrumbs>\r\n          </Box>\r\n          <Divider />\r\n          <Stack direction=\"row\" spacing={3} paddingY={2}>\r\n            <NavLink className=\"nav-link\" to=\"/info/tutor\">\r\n              Course Registration\r\n            </NavLink>\r\n            {/* <NavLink className=\"nav-link\" to=\"class\">\r\n              Class\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"students\">\r\n              Students\r\n            </NavLink> */}\r\n          </Stack>\r\n          <section>\r\n            <Outlet />\r\n          </section>\r\n        </section>\r\n      </Content>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tutor;\r\n"],"names":["BASE_URL","process","axios","baseURL","timeout","headers","getAllAssignedCoursesToLecturerByID","lecturerID","method","res","data","response","getAllAssignedCoursesProgramme","programme","assignCourse","newCourse","useContext","CustomContext","customState","customDispatch","useState","professionalID","setProfessionalID","useEffect","proID","localStorage","getItem","currentLecturerProfessionalID","useQuery","enabled","onSuccess","courses","modifiedCourses","map","course","id","_id","code","label","type","payload","className","variant","sx","display","justifyContent","direction","spacing","paddingY","to"],"sourceRoot":""}
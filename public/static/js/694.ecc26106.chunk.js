"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[694],{27694:function(e,r,n){n.r(r),n.d(r,{default:function(){return M}});var t=n(29439),l=n(72791),i=n(68087),a=n(4567),s=n(94721),o=n(64554),d=n(5849),u=n(6907),c=n(91933),h=n(61820),m=n(1413),x=n(13967),p=n(5574),f=n(65661),Z=n(4899),j=n(60220),g=n(81153),b=n(93006),v=n(46314),C=n(77386),S=n(4799),y=n.n(S),q=n(65639),T=n(88970),P=n(25801),w=n(45363),A=n(17133),I=n(92810),L=n(92506),W=n(81724),k=n(43992),B=n(12258),N=n(19873),R=n(41286),_=n(98274),z=n(80184);var E=function(e){var r=e.open,n=e.setOpen,i=(0,x.Z)().palette,u=(0,c.useQueryClient)(),h=(0,l.useState)([]),S=(0,t.Z)(h,2),E=S[0],F=S[1];(0,c.useQuery)(["department"],_.Sj,{onSuccess:function(e){var r=e.map((function(e){return e.department}));F(r)}});var D=(0,l.useState)(null),M=(0,t.Z)(D,2),Y=M[0],Q=M[1],U=(0,l.useState)(""),O=(0,t.Z)(U,2),V=O[0],G=O[1],J=(0,l.useState)("Male"),$=(0,t.Z)(J,2),H=$[0],K=$[1],X=(0,l.useState)(""),ee=(0,t.Z)(X,2),re=ee[0],ne=(ee[1],(0,l.useState)("")),te=(0,t.Z)(ne,2),le=te[0],ie=te[1],ae=(0,l.useState)(""),se=(0,t.Z)(ae,2),oe=se[0],de=se[1],ue=(0,l.useState)(""),ce=(0,t.Z)(ue,2),he=ce[0],me=ce[1],xe=(0,l.useState)(null),pe=(0,t.Z)(xe,2),fe=pe[0],Ze=pe[1],je={profile:Y,fullname:V,gender:H,dob:re,email:le,address:oe,telephoneNo:he,department:fe},ge=(0,W.Ry)().shape({fullname:(0,W.Z_)().trim().required("required*"),gender:(0,W.Z_)().trim().required("required*"),dob:(0,W.hT)().required("required*"),email:(0,W.Z_)().trim().required("required").email("Invalid email address"),address:(0,W.Z_)().trim().required("required"),telephoneNo:(0,W.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,W.Z_)().trim().required("required*").nullable(!0)}),be=(0,c.useMutation)(N.r0);return(0,z.jsxs)(p.Z,{maxWidth:"sm",fullWidth:!0,open:r,onClose:function(){return n(!1)},children:[(0,z.jsxs)(f.Z,{title:"Add Lecturer",borderBottom:"1px solid #8C1438",children:[(0,z.jsx)(k.Z,{})," Add Lecturer"]}),(0,z.jsx)(L.J9,{initialValues:je,validationSchema:ge,onSubmit:function(e,r){r.setSubmitting(!0),e.professionalID="LEC-".concat((0,I.Z)().split("-")[0]).toUpperCase(),be.mutateAsync(e,{onSettled:function(){r.setSubmitting(!1),u.invalidateQueries("lecturer")},onSuccess:function(e){y().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Lecturer added!!!",confirmButtonColor:"#8C1438"}),r.resetForm()},onError:function(e){y().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:e,confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var r=e.isSubmitting,t=e.values,l=e.errors,i=e.touched,u=e.handleChange,c=e.handleSubmit;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(Z.Z,{children:[(0,z.jsxs)(o.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,z.jsx)(j.Z,{src:null===Y?null:URL.createObjectURL(Y),sx:{width:100,height:100,position:"relative"}}),(0,z.jsx)(A.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#8C1438"},children:(0,z.jsx)(R.Z,{sx:{width:16,color:"#fff"}})}),(0,z.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return Q(e.target.files[0])}})]}),(0,z.jsx)(a.Z,{children:"1.Personal Information"}),(0,z.jsx)(s.Z,{}),(0,z.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(b.Z,{label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:V,error:Boolean(i.fullname&&l.fullname),helperText:l.fullname,onChange:function(e){return G(e.currentTarget.value)},required:!0})}),(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(b.Z,{label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:t.dob,error:Boolean(i.dob&&l.dob),helperText:l.dob,onChange:u("dob"),required:!0})}),(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(w.Z,{children:[(0,z.jsx)(A.Z,{id:"gender-group",children:"Gender"}),(0,z.jsxs)(T.Z,{"aria-labelledby":"gender-group",name:"gender-group",row:!0,value:H,onChange:function(e,r){return K(r)},children:[(0,z.jsx)(P.Z,{value:"Male",control:(0,z.jsx)(q.Z,{}),label:"Male"}),(0,z.jsx)(P.Z,{value:"Female",control:(0,z.jsx)(q.Z,{}),label:"Female"})]})]})})]}),(0,z.jsx)(a.Z,{children:"2.Contact Information"}),(0,z.jsx)(s.Z,{}),(0,z.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(b.Z,{label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:le,error:Boolean(i.email&&l.email),helperText:l.email,onChange:function(e){return ie(e.currentTarget.value)},required:!0})}),(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(b.Z,{label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:he,error:Boolean(i.telephoneNo&&l.telephoneNo),helperText:l.telephoneNo,onChange:function(e,r){return me(e.currentTarget.value)}})}),(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(b.Z,{label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:oe,error:Boolean(i.address&&l.address),helperText:l.address,onChange:function(e){return de(e.currentTarget.value)}})})]}),(0,z.jsx)(a.Z,{children:"3.Department Information"}),(0,z.jsx)(s.Z,{}),(0,z.jsx)(g.ZP,{container:!0,spacing:3,paddingY:2,children:(0,z.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(v.Z,{options:E,value:fe,onChange:function(e,r){return Ze(r)},renderInput:function(e){return(0,z.jsx)(b.Z,(0,m.Z)((0,m.Z)({},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(i.department&&l.department),helperText:l.department}))}})})})]}),(0,z.jsxs)(C.Z,{children:[(0,z.jsx)(B.Z,{disabled:r,sx:{minWidth:100},variant:"contained",onClick:c,loading:r,children:"Save"}),(0,z.jsx)(d.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Close"})]})]})}})]})},F=n(97892),D=n(60502);var M=function(){var e=(0,l.useState)(!1),r=(0,t.Z)(e,2),n=r[0],m=r[1],x=(0,l.useState)(!1),p=(0,t.Z)(x,2),f=(p[0],p[1]),Z=(0,c.useQuery)(["lecturer"],N.jl,{retry:3,onSuccess:function(e){},onError:function(e){f(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,z.jsxs)("section",{children:[(0,z.jsx)(u.ql,{children:(0,z.jsx)("title",{children:"AAMUSTED Results System | Lecturer"})}),(0,z.jsxs)(h.Z,{children:[(0,z.jsxs)("section",{children:[(0,z.jsx)(a.Z,{variant:"h4",children:"Lecturers"}),(0,z.jsx)(a.Z,{variant:"body2",children:"View and manage lecturers information"}),(0,z.jsx)(s.Z,{}),(0,z.jsx)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"}})]}),(0,z.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,z.jsx)(d.Z,{variant:"contained",color:"secondary",startIcon:(0,z.jsx)(i.Z,{}),onClick:function(){return m(!0)},children:"New Lecturer"})}),(0,z.jsx)(F.Z,{heading:"Lecturers",columns:D.xS,data:Z.data?Z.data:[],refresh:Z.refetch})]}),(0,z.jsx)(E,{open:n,setOpen:m})]})}}}]);
//# sourceMappingURL=694.ecc26106.chunk.js.map
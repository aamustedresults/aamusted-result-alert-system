{"version":3,"file":"static/js/558.9471a059.chunk.js","mappings":"2YAEA,GAAeA,EAAAA,EAAAA,IAA4BC,EAAAA,EAAAA,KAAK,OAAQ,CACtDC,EAAG,+OACD,e,yECeJ,MAhBA,YAAsD,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,mBAC7B,OACE,gBAAIC,MAAO,CAAEC,UAAW,UAAxB,WACE,wBAAKH,EAAOI,OAAOC,MACnB,wBAAKL,EAAOI,OAAOE,SACnB,wBAAKN,EAAOO,SACZ,wBAAKP,EAAOQ,SACZ,yBACE,SAACC,EAAA,EAAD,CAAQC,QAAS,kBAAMT,EAAmBD,EAAOI,OAAOC,KAAxD,0BCwCR,ICZIM,EDYJ,EA/CA,YAA+C,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,WACxBZ,EAAqB,SAACI,GAC1B,IAAMS,EAAkBF,EAAQG,QAC9B,SAACf,GAAD,OAAYA,EAAOI,OAAOC,KAAOA,KAEnCQ,EAAWC,IAGb,OACE,SAACE,EAAA,EAAD,CACEC,GAAI,CACFC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAJpB,UAOE,mBAAOC,MAAM,OAAb,WACE,kBACEnB,MAAO,CACLoB,MAAO,OACPC,gBAAiB,WAHrB,UAME,2BACE,kCACA,oCACA,mCACA,mCACA,yCAGJ,2BACGX,EAAQY,KAAI,SAACxB,EAAQyB,GACpB,OACE,SAAC,EAAD,CAEEzB,OAAQA,EACRC,mBAAoBA,GAFfwB,c,sBCLfC,G,SAAe,CAAC,MAAO,MAAO,MAAO,QACrCC,EAAkB,CAAC,IAAK,KACxBC,EAAc,CAAC,OAAQ,OAAQ,QAOnCjB,EAAWkB,yCA8eb,MA1eA,WACE,IAAQC,GAAUC,EAAAA,EAAAA,MAAVD,MACR,GAAqCE,EAAAA,EAAAA,iBAArC,eAAkBC,GAAlB,WAEA,GAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA8BN,EAAAA,EAAAA,UAAS,MAAvC,eAAOO,EAAP,KAAgBC,EAAhB,KACA,IAAsCR,EAAAA,EAAAA,UAAS,IAA/C,iBAAOS,GAAP,MAAoBC,GAApB,MACA,IAAwBV,EAAAA,EAAAA,UAAS,IAAjC,iBAAOW,GAAP,MAAaC,GAAb,MACA,IAA0BZ,EAAAA,EAAAA,UAAS,MAAnC,iBAAOa,GAAP,MAAcC,GAAd,MACA,IAAgCd,EAAAA,EAAAA,UAAS,MAAzC,iBAAOe,GAAP,MAAiBC,GAAjB,MACA,IAA4BhB,EAAAA,EAAAA,UAAS,MAArC,iBAAO9B,GAAP,MAAe+C,GAAf,MACA,IAA0BjB,EAAAA,EAAAA,UAAS,GAAnC,iBAAO3B,GAAP,MAAc6C,GAAd,MACA,IAA0BlB,EAAAA,EAAAA,UAAS,IAAnC,iBAAO1B,GAAP,MAAc6C,GAAd,MACA,IAA8BnB,EAAAA,EAAAA,UAAS,IAAvC,iBAAOtB,GAAP,MAAgBC,GAAhB,MACA,IAA2CqB,EAAAA,EAAAA,UAAS,IAApD,iBAAOoB,GAAP,MAAuBC,GAAvB,MACA,IAA8BrB,EAAAA,EAAAA,UAAS,QAAvC,iBAAOhB,GAAP,MAAgBsC,GAAhB,OAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,SAACC,GAChB,IACMC,EAAeC,OAAOC,QAQ5BN,GANII,GAAgB,IACd,QAEA,SAOR,OAFAC,OAAOE,iBAAiB,SAAUL,GAE3B,kBAAMG,OAAOG,oBAAoB,SAAUN,MACjD,KAEHD,EAAAA,EAAAA,YAAU,WACHQ,IAAAA,QAAUnC,KACbU,EAAYV,EAAMoC,QAAQ3B,UAC1BG,EAAWZ,EAAMoC,QAAQzB,SACzBG,GAAed,EAAMoC,QAAQvB,gBAE9B,CAACb,KAEJqC,EAAAA,EAAAA,UACE,CAAC,oBAAqBxB,GAAaI,GAAOE,KADpC,uBAEN,6GAAYmB,EAAAA,EAAAA,IAAwBzB,KAApC,2CACA,CACE0B,UAAW1B,GACX2B,UAAW,SAACC,GACV,IAAIC,EAAY,GACZC,EAAkBF,EAIlBxB,KACF0B,EAAkBA,EAAgB1D,QAChC,SAACX,GAAD,OAAYA,EAAO2C,QAAUA,OAK7BE,KACFwB,EAAkBA,EAAgB1D,QAChC,SAACX,GAAD,OAAYA,EAAO6C,WAAayB,OAAOzB,QAM3C,IAAM0B,EAAsBF,EAAgBjD,KAAI,SAACpB,GAAD,cAC3CA,EAAOwE,YAEZX,IAAAA,QAAUU,GAAqBnD,KAAI,SAACqD,GAAD,OACjCL,EAAUM,KAAK,CAAEzE,GAAIwE,EAAKzE,OAAOC,GAAIC,MAAOuE,EAAKzE,OAAOE,WAG1DiD,GAAiBiB,MAKvB,IAAMO,IAAWZ,EAAAA,EAAAA,UAAS,CAAC,WAAYa,EAAAA,GAAgB,CACrDC,QAAS,SAACC,GACRC,MAAM,wCAIJC,IAAqBC,EAAAA,EAAAA,cAAY,WACrCjD,EAAa,IACb,IAAMkD,EAAS,CACblF,OAAQA,GACRG,MAAOmE,OAAOnE,IACdC,MAAOA,IAGKI,GAAQ2E,MACpB,SAACvF,GAAD,OAAYA,EAAOI,OAAOC,KAAOiF,EAAOlF,OAAOC,MAG/C+B,EAAa,+CAIfvB,GAAW,GAAD,eAAKD,IAAL,CAAc0E,OACvB,CAAClF,GAAQI,GAAOD,GAAOK,MAE1B6C,EAAAA,EAAAA,YAAU,WACR,IAAM+B,EAASd,OAAOnE,IAClBkF,EAAI,GACJD,EAAS,IAAMA,GAAU,MAE3BC,EAAI,KAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,MAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,KAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,MAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,KAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,MAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,KAEFD,EAAS,IAAMA,EAAS,KAE1BC,EAAI,KAEFD,EAAS,KAEXC,EAAI,KAENpC,GAASoC,KACR,CAAClF,KAEJ,IAAMmF,GAAgB,CACpB/C,YAAAA,GACAE,KAAAA,GACAE,MAAAA,GACAE,SAAAA,GACArC,QAAAA,IAWI+E,IAAeC,EAAAA,EAAAA,aAAYC,EAAAA,IAE3BC,GAAQ,yCAAG,WAAOC,EAAQC,GAAf,sEAEfA,EAAQC,eAAc,GAEtBN,GAAaO,YAAYH,EAAQ,CAC/BI,UAAW,WACTH,EAAQC,eAAc,IAExB3B,UAAW,SAACC,GACVY,MAAM,iBATK,2CAAH,wDAiBRiB,GAAsB,SAACzC,GAC3BrB,EAAUqB,EAAE0C,cAAcC,OAC1B,IAAMC,EAAa5C,EAAE0C,cAAcC,MAEnC,GAAmB,KAAfC,GAA2C,IAAtBA,EAAWC,OAIlC,OAHAhE,EAAY,IACZI,GAAe,SACfF,EAAW,MAIbT,GAAgB,WACd,IAAMwE,EAAe1B,GAASR,KAAKxD,QACjC,SAACmD,GAAD,OAAaA,EAAQvB,YAAY+D,YAAYH,IAAe,KAE9D,GAA4B,IAAxBE,EAAaD,OAIf,OAHAhE,EAAY,IACZI,GAAe,SACfF,EAAW,MAKbF,EAAYiE,EAAa,GAAGlE,UAC5BK,GAAe6D,EAAa,GAAG9D,aAC/BD,EAAW+D,EAAa,GAAGhE,aAI/B,OACE,iCACE,SAACkE,EAAA,EAAD,WACE,0EAGF,oBAASC,UAAU,uBAAnB,UACE,SAAC,KAAD,CACElB,cAAeA,GAEfI,SAAUA,GACVe,oBAAoB,EAJtB,SAMG,YAA8D,IAA3DC,EAA0D,EAA1DA,aAAcC,EAA4C,EAA5CA,aAAcC,EAA8B,EAA9BA,OAAgBC,GAAc,EAAtBlB,OAAsB,EAAdkB,SAC9C,OACE,iCACE,SAACC,EAAA,EAAD,CACEjG,GAAI,CACFC,QAASA,GACTG,MAAO,OACP8F,OAAQ,GACR5F,gBAAiB,OACjB6F,WAAY,4BACZC,UAAW,6BACXC,SAAU,SACVC,IAAK,IACLC,OAAQ,IACRC,QAAS,GAXb,UAcE,SAACC,EAAA,EAAD,CACEC,SAA6B,IAAnB/G,GAAQ4F,OAClBoB,QAAQ,YACRC,QAASd,EACTrG,QAASoG,EAJX,6BASF,UAACgB,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CAAYH,QAAQ,KAApB,2BACA,UAAC5G,EAAA,EAAD,CAAOgH,QAAS,EAAGC,SAAU,EAA7B,WACE,SAACC,EAAA,EAAD,CACEC,WAAS,EACTC,YAAY,qBACZC,UAAU,SACVC,KAAK,SACLhC,MAAOjE,EACPkG,SAAUnC,GACVoC,WAAY,CACVC,cACE,SAACC,EAAA,EAAD,CAAgBpB,SAAS,MAAzB,UACE,SAACqB,EAAD,UAMR,UAACzB,EAAA,EAAD,YACE,UAACA,EAAA,EAAD,CACEjG,GAAI,CACFC,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChB6G,SAAU,EACVW,IAAK,GANT,WASE,SAACb,EAAA,EAAD,oCACA,SAACL,EAAA,EAAD,CACEC,SAA6B,IAAnB/G,GAAQ4F,OAClBoB,QAAQ,YACRlH,QAASoG,EAHX,8BAQF,SAAC+B,EAAA,EAAD,KACA,UAAC7H,EAAA,EAAD,CAAOiH,SAAU,EAAGa,UAAU,MAAMd,QAAS,EAA7C,WACE,SAACe,EAAA,EAAD,CACEC,IACc,OAAZvG,GACY,KAAZA,QACYwG,IAAZxG,EACI,KAHJ,UAIO9B,EAJP,mBAI0B8B,GAE5BxB,GAAI,CACFI,MAAO,GACP8F,OAAQ,OAGZ,UAACnG,EAAA,EAAD,YACE,SAAC+G,EAAA,EAAD,CAAYH,QAAQ,KAAKtG,MAAM,YAA/B,SACGiB,KAEH,SAACwF,EAAA,EAAD,CAAYH,QAAQ,OAApB,SAA4BjF,eAKlC,UAACuE,EAAA,EAAD,YACE,SAACa,EAAA,EAAD,CAAYE,SAAU,EAAtB,mCACA,SAACY,EAAA,EAAD,KACA,UAACK,EAAA,GAAD,CACEC,WAAS,EACTlI,GAAI,CACFC,QAAS,OACTE,eAAgB,CAAEgI,GAAI,SAAUC,GAAI,iBACpClI,WAAY,SACZ8G,SAAU,EACVW,IAAK,GAPT,WAUE,SAACM,EAAA,GAAD,CAAMI,MAAI,EAAV,UACE,SAACC,EAAA,EAAD,CACEC,eAAa,EACbxD,QAASpE,EACT6H,UAAQ,EACRnD,MAAOzD,GACP0F,SAAU,SAAC5E,EAAG2C,GAAJ,OAAcxD,GAAQwD,IAChCrF,GAAI,CAAEyI,SAAU,IAAKrI,MAAO,KAC5BsI,YAAa,SAACC,GAAD,OACX,SAAC1B,EAAA,GAAD,gBACE5H,MAAM,gBACNsH,QAAQ,UACJgC,GAHN,IAIEvJ,GAAG,OACHwJ,KAAK,QACLzB,YAAY,gBACZD,WAAS,EACTjD,MAAO4E,QAAQ7C,EAAQpE,MAAQmE,EAAOnE,MACtCkH,WACE9C,EAAQpE,MAAQmE,EAAOnE,MAAQmE,EAAOnE,cAMhD,SAACqG,EAAA,GAAD,CAAMI,MAAI,EAAV,UAEE,SAACC,EAAA,EAAD,CACEC,eAAa,EACbxD,QAAStE,EACT4E,MAAOvD,GACPwF,SAAU,SAAC5E,EAAG2C,GAAJ,OAActD,GAASsD,IACjCrF,GAAI,CAAEyI,SAAU,IAAKrI,MAAO,KAC5BsI,YAAa,SAACC,GAAD,OACX,SAAC1B,EAAA,GAAD,gBACE5H,MAAM,QACNsH,QAAQ,UACJgC,GAHN,IAIEvJ,GAAG,QACHwJ,KAAK,QACL1B,WAAS,EACTC,YAAY,iBAKpB,SAACc,EAAA,GAAD,CAAMI,MAAI,EAAV,UAEE,SAACC,EAAA,EAAD,CACEC,eAAa,EACbxD,QAASrE,EACT2E,MAAOrD,GACPsF,SAAU,SAAC5E,EAAG2C,GAAJ,OAAcpD,GAAYoD,IACpCrF,GAAI,CAAEyI,SAAU,IAAKrI,MAAO,KAC5BsI,YAAa,SAACC,GAAD,OACX,SAAC1B,EAAA,GAAD,gBACE5H,MAAM,WACNsH,QAAQ,UACJgC,GAHN,IAIEvJ,GAAG,WACHwJ,KAAK,QACLzB,YAAY,WACZD,WAAS,iBAOrB,UAACjB,EAAA,EAAD,YACE,SAACa,EAAA,EAAD,CAAYE,SAAU,EAAtB,kCACA,SAACY,EAAA,EAAD,KACA,UAACK,EAAA,GAAD,CACEC,WAAS,EACTlI,GAAI,CACFC,QAAS,OACTE,eAAgB,CACdgI,GAAI,SACJC,GAAI,cAENlI,WAAY,SACZ8G,SAAU,EACVW,IAAK,GAVT,WAaE,SAACM,EAAA,GAAD,CAAMI,MAAI,EAAV,UAEE,SAACC,EAAA,EAAD,CACEC,eAAa,EACbxD,QAAS1C,GACTgD,MAAOlG,GACP4J,qBAAsB,SAACC,EAAQ3D,GAAT,OACpB2D,EAAO3J,QAAUgG,EAAMhG,OAEzBiI,SAAU,SAAC5E,EAAG2C,GAAJ,OAAcnD,GAAUmD,IAClCrF,GAAI,CAAEyI,SAAU,IAAKrI,MAAO,KAC5BsI,YAAa,SAACC,GAAD,OACX,SAAC1B,EAAA,GAAD,gBACEN,QAAQ,SACRtH,MAAM,UACFsJ,GAHN,IAIEvJ,GAAG,SACHwJ,KAAK,QACL1B,WAAS,EACTC,YAAY,SACZ2B,WAC4B,IAA1BzG,GAAekD,OACX,uBADJ,UAEOlD,GAAekD,OAFtB,iCAQV,SAAC0C,EAAA,GAAD,CAAMI,MAAI,EAAV,UACE,SAACpB,EAAA,EAAD,CACE5H,MAAM,QACNsH,QAAQ,SACRvH,GAAG,QACHwJ,KAAK,QACLvB,KAAK,SACLH,WAAS,EACTC,YAAY,QACZ9B,MAAO/F,GACPU,GAAI,CAAEyI,SAAU,IAAKrI,MAAO,KAC5BkH,SAAU,SAAC5E,GAAD,OAAOP,GAASO,EAAE0C,cAAcC,QAC1CyD,WAAW,sCAKjB,SAACtJ,EAAA,EAAD,CACEmH,QAAQ,YACRD,SAAqB,KAAXvH,IAA4B,OAAXA,GAC3ByJ,KAAK,QACL5I,GAAI,CAAEyI,SAAU,IAAKpI,MAAO,QAC5BZ,QAAS0E,GALX,+BAWHjD,IACC,SAAC+H,EAAA,EAAD,CAEEC,SAAS,QACTC,QAAS,kBAAMhI,EAAa,KAH9B,SAKGD,KAGL,SAAC,EAAD,CAAavB,QAASA,GAASC,WAAYA","sources":["../node_modules/@mui/icons-material/esm/SearchSharp.js","components/ResultsItem.js","components/ResultsList.js","pages/DataEntry.js"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'SearchSharp');","import React from \"react\";\r\nimport { Button } from \"@mui/material\";\r\n\r\nfunction ResultsItem({ result, handleRemoveResult }) {\r\n  return (\r\n    <tr style={{ textAlign: \"center\" }}>\r\n      <td>{result.course.id}</td>\r\n      <td>{result.course.label}</td>\r\n      <td>{result.score}</td>\r\n      <td>{result.grade}</td>\r\n      <td>\r\n        <Button onClick={() => handleRemoveResult(result.course.id)}>\r\n          Remove\r\n        </Button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ResultsItem;\r\n","import React from \"react\";\r\nimport { Stack } from \"@mui/material\";\r\nimport ResultsItem from \"./ResultsItem\";\r\n\r\nfunction ResultsList({ results, setResults }) {\r\n  const handleRemoveResult = (id) => {\r\n    const filteredResults = results.filter(\r\n      (result) => result.course.id !== id\r\n    );\r\n    setResults(filteredResults);\r\n  };\r\n\r\n  return (\r\n    <Stack\r\n      sx={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <table width=\"100%\">\r\n        <thead\r\n          style={{\r\n            color: \"#fff\",\r\n            backgroundColor: \"#5aa7a7\",\r\n          }}\r\n        >\r\n          <tr>\r\n            <th>Code</th>\r\n            <th>Course</th>\r\n            <th>Score</th>\r\n            <th>Grade</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {results.map((result, index) => {\r\n            return (\r\n              <ResultsItem\r\n                key={index}\r\n                result={result}\r\n                handleRemoveResult={handleRemoveResult}\r\n              />\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default ResultsList;\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useTransition,\r\n} from \"react\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport {\r\n  Alert,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Autocomplete,\r\n  Grid,\r\n  TextField,\r\n  Stack,\r\n  Avatar,\r\n  InputAdornment,\r\n} from \"@mui/material\";\r\n\r\nimport { Helmet } from \"react-helmet\";\r\nimport { SearchSharp } from \"@mui/icons-material\";\r\nimport _ from \"lodash\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useQuery, useMutation } from \"react-query\";\r\nimport { Formik } from \"formik\";\r\nimport { addResult } from \"../components/api/resultApi\";\r\nimport Content from \"../components/Content\";\r\nimport ResultsList from \"../components/ResultsList\";\r\nimport { getAllStudents } from \"../components/api/studentApi\";\r\nimport { getAllRegisteredCourses } from \"../components/api/registeredCoursesApi\";\r\nimport { object, string } from \"yup\";\r\n\r\nconst levelOptions = [\"100\", \"200\", \"300\", \"400\"];\r\nconst semesterOptions = [\"1\", \"2\"];\r\nconst yearOptions = [\"2021\", \"2022\", \"2023\"];\r\n\r\n\r\nlet BASE_URL;\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  BASE_URL = process.env.REACT_APP_BASE_URL_LOCAL;\r\n} else {\r\n  BASE_URL = process.env.REACT_APP_BASE_URL;\r\n}\r\n\r\n\r\nfunction DataEntry() {\r\n  const { state } = useLocation();\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const [courseErr, setCourseErr] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [fullname, setFullname] = useState(\"\");\r\n  const [profile, setProfile] = useState(null);\r\n  const [indexNumber, setIndexNumber] = useState(\"\");\r\n  const [year, setYear] = useState(\"\");\r\n  const [level, setLevel] = useState(null);\r\n  const [semester, setSemester] = useState(null);\r\n  const [course, setCourse] = useState(null);\r\n  const [score, setScore] = useState(0);\r\n  const [grade, setGrade] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const [coursesOptions, setCourseOptions] = useState([]);\r\n  const [display, setDisplay] = useState(\"none\");\r\n\r\n  useEffect(() => {\r\n    const isSticky = (e) => {\r\n      let d = \"none\";\r\n      const scrollHeight = window.scrollY;\r\n\r\n      if (scrollHeight >= 220) {\r\n        d = \"block\";\r\n      } else {\r\n        d = \"none\";\r\n      }\r\n\r\n      setDisplay(d);\r\n    };\r\n    window.addEventListener(\"scroll\", isSticky);\r\n\r\n    return () => window.removeEventListener(\"scroll\", isSticky);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!_.isEmpty(state)) {\r\n      setFullname(state.student.fullname);\r\n      setProfile(state.student.profile);\r\n      setIndexNumber(state.student.indexNumber);\r\n    }\r\n  }, [state]);\r\n\r\n  useQuery(\r\n    [\"registeredCourses\", indexNumber, level, semester],\r\n    async () => getAllRegisteredCourses(indexNumber),\r\n    {\r\n      enabled: !!indexNumber,\r\n      onSuccess: (data) => {\r\n        let courseArr = [];\r\n        let filteredCourses = data;\r\n\r\n        // filter by level\r\n\r\n        if (level) {\r\n          filteredCourses = filteredCourses.filter(\r\n            (course) => course.level === level\r\n          );\r\n        }\r\n\r\n        //filter by semester\r\n        if (semester) {\r\n          filteredCourses = filteredCourses.filter(\r\n            (course) => course.semester === Number(semester)\r\n          );\r\n        }\r\n\r\n        // console.table(filteredCourses);\r\n\r\n        const myRegisteredCourses = filteredCourses.map((course) => [\r\n          ...course.courses,\r\n        ]);\r\n        _.flatMap(myRegisteredCourses).map((info) =>\r\n          courseArr.push({ id: info.course.id, label: info.course.label })\r\n        );\r\n        // //courseArr);\r\n        setCourseOptions(courseArr);\r\n      },\r\n    }\r\n  );\r\n\r\n  const students = useQuery([\"student\"], getAllStudents, {\r\n    onError: (error) => {\r\n      alert(\"Error occured while fetching data\");\r\n    },\r\n  });\r\n\r\n  const handleSubmitResult = useCallback(() => {\r\n    setCourseErr(\"\");\r\n    const record = {\r\n      course: course,\r\n      score: Number(score),\r\n      grade: grade,\r\n    };\r\n\r\n    const ifAny = results.find(\r\n      (result) => result.course.id === record.course.id\r\n    );\r\n    if (ifAny) {\r\n      setCourseErr(\"Course already exists.Please remove before!\");\r\n      return;\r\n    }\r\n\r\n    setResults([...results, record]);\r\n  }, [course, grade, score, results]);\r\n\r\n  useEffect(() => {\r\n    const scoreT = Number(score);\r\n    let t = \"\";\r\n    if (scoreT > 79 && scoreT <= 100) {\r\n      //80-100\r\n      t = \"A\";\r\n    }\r\n    if (scoreT > 74 && scoreT < 80) {\r\n      //75-79\r\n      t = \"B+\";\r\n    }\r\n    if (scoreT > 69 && scoreT < 75) {\r\n      //70-74\r\n      t = \"B\";\r\n    }\r\n    if (scoreT > 64 && scoreT < 70) {\r\n      //65-69\r\n      t = \"C+\";\r\n    }\r\n    if (scoreT > 59 && scoreT < 65) {\r\n      //60-64\r\n      t = \"C\";\r\n    }\r\n    if (scoreT > 54 && scoreT < 60) {\r\n      //55-59\r\n      t = \"D+\";\r\n    }\r\n    if (scoreT > 49 && scoreT < 55) {\r\n      //50-54\r\n      t = \"D\";\r\n    }\r\n    if (scoreT > 44 && scoreT < 50) {\r\n      //45-49\r\n      t = \"E\";\r\n    }\r\n    if (scoreT < 45) {\r\n      //0-44\r\n      t = \"F\";\r\n    }\r\n    setGrade(t);\r\n  }, [score]);\r\n\r\n  const initialValues = {\r\n    indexNumber,\r\n    year,\r\n    level,\r\n    semester,\r\n    results,\r\n  };\r\n\r\n  // const validationSchema = object().shape({\r\n  //   year: string().trim().required().nullable(true),\r\n  //   level: string().trim().required().nullable(true),\r\n  //   semester: string().trim().required().nullable(true),\r\n  //   course: string().trim().required().nullable(true),\r\n  //   score: string().trim().required().nullable(true),\r\n  // });\r\n\r\n  const resultMutate = useMutation(addResult);\r\n\r\n  const onSubmit = async (values, options) => {\r\n    // //values);\r\n    options.setSubmitting(true);\r\n\r\n    resultMutate.mutateAsync(values, {\r\n      onSettled: () => {\r\n        options.setSubmitting(false);\r\n      },\r\n      onSuccess: (data) => {\r\n        alert(\"Data Saved\");\r\n        // //data);\r\n\r\n\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleSearchStudent = (e) => {\r\n    setSearch(e.currentTarget.value);\r\n    const searchItem = e.currentTarget.value;\r\n\r\n    if (searchItem === \"\" || searchItem.length === 0) {\r\n      setFullname(\"\");\r\n      setIndexNumber(\"\");\r\n      setProfile(null);\r\n      return;\r\n    }\r\n\r\n    startTransition(() => {\r\n      const filteredList = students.data.filter(\r\n        (student) => student.indexNumber.lastIndexOf(searchItem) > -1\r\n      );\r\n      if (filteredList.length === 0) {\r\n        setFullname(\"\");\r\n        setIndexNumber(\"\");\r\n        setProfile(null);\r\n        return;\r\n      }\r\n\r\n      // //filteredList);\r\n      setFullname(filteredList[0].fullname);\r\n      setIndexNumber(filteredList[0].indexNumber);\r\n      setProfile(filteredList[0].profile);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>AAMUSTED Results System | Results Entry</title>\r\n      </Helmet>\r\n\r\n      <section className=\"data-entry-container\">\r\n        <Formik\r\n          initialValues={initialValues}\r\n          // validationSchema={validationSchema}\r\n          onSubmit={onSubmit}\r\n          enableReinitialize={true}\r\n        >\r\n          {({ handleSubmit, isSubmitting, errors, values, touched }) => {\r\n            return (\r\n              <>\r\n                <Box\r\n                  sx={{\r\n                    display: display,\r\n                    width: \"100%\",\r\n                    height: 80,\r\n                    backgroundColor: \"#fff\",\r\n                    transition: \"display 500ms ease-in-out\",\r\n                    boxShadow: \"0 1px 3px rgba(0,0,0,0.15)\",\r\n                    position: \"sticky\",\r\n                    top: 160,\r\n                    zIndex: 100,\r\n                    padding: 1,\r\n                  }}\r\n                >\r\n                  <LoadingButton\r\n                    disabled={results.length === 0}\r\n                    variant=\"contained\"\r\n                    loading={isSubmitting}\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Save Results\r\n                  </LoadingButton>\r\n                </Box>\r\n                <Content>\r\n                  <Typography variant=\"h4\">Result Entry</Typography>\r\n                  <Stack spacing={3} paddingY={3}>\r\n                    <TextField\r\n                      fullWidth\r\n                      placeholder=\"Search for Student\"\r\n                      inputMode=\"search\"\r\n                      type=\"search\"\r\n                      value={search}\r\n                      onChange={handleSearchStudent}\r\n                      InputProps={{\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                            <SearchSharp />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n\r\n                    <Box>\r\n                      <Box\r\n                        sx={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"space-between\",\r\n                          paddingY: 1,\r\n                          gap: 1,\r\n                        }}\r\n                      >\r\n                        <Typography>Personal Information</Typography>\r\n                        <LoadingButton\r\n                          disabled={results.length === 0}\r\n                          variant=\"contained\"\r\n                          onClick={handleSubmit}\r\n                        >\r\n                          Save Results\r\n                        </LoadingButton>\r\n                      </Box>\r\n                      <Divider />\r\n                      <Stack paddingY={1} direction=\"row\" spacing={3}>\r\n                        <Avatar\r\n                          src={\r\n                            profile === null ||\r\n                            profile === \"\" ||\r\n                            profile === undefined\r\n                              ? null\r\n                              : `${BASE_URL}/images/${profile}`\r\n                          }\r\n                          sx={{\r\n                            width: 60,\r\n                            height: 60,\r\n                          }}\r\n                        />\r\n                        <Stack>\r\n                          <Typography variant=\"h6\" color=\"slateblue\">\r\n                            {fullname}\r\n                          </Typography>\r\n                          <Typography variant=\"body\">{indexNumber}</Typography>\r\n                        </Stack>\r\n                      </Stack>\r\n                    </Box>\r\n\r\n                    <Box>\r\n                      <Typography paddingY={1}>Academic Information</Typography>\r\n                      <Divider />\r\n                      <Grid\r\n                        container\r\n                        sx={{\r\n                          display: \"flex\",\r\n                          justifyContent: { xs: \"center\", md: \"space-between\" },\r\n                          alignItems: \"center\",\r\n                          paddingY: 2,\r\n                          gap: 1,\r\n                        }}\r\n                      >\r\n                        <Grid item>\r\n                          <Autocomplete\r\n                            disablePortal\r\n                            options={yearOptions}\r\n                            freeSolo\r\n                            value={year}\r\n                            onChange={(e, value) => setYear(value)}\r\n                            sx={{ minWidth: 150, width: 300 }}\r\n                            renderInput={(props) => (\r\n                              <TextField\r\n                                label=\"Academic Year\"\r\n                                variant=\"filled\"\r\n                                {...props}\r\n                                id=\"year\"\r\n                                size=\"small\"\r\n                                placeholder=\"Academic Year\"\r\n                                fullWidth\r\n                                error={Boolean(touched.year && errors.year)}\r\n                                helperText={\r\n                                  touched.year && errors.year && errors.year\r\n                                }\r\n                              />\r\n                            )}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item>\r\n                          {/* <FormLabel htmlFor=\"level\">Level</FormLabel> */}\r\n                          <Autocomplete\r\n                            disablePortal\r\n                            options={levelOptions}\r\n                            value={level}\r\n                            onChange={(e, value) => setLevel(value)}\r\n                            sx={{ minWidth: 150, width: 300 }}\r\n                            renderInput={(props) => (\r\n                              <TextField\r\n                                label=\"Level\"\r\n                                variant=\"filled\"\r\n                                {...props}\r\n                                id=\"level\"\r\n                                size=\"small\"\r\n                                fullWidth\r\n                                placeholder=\"Level\"\r\n                              />\r\n                            )}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item>\r\n                          {/* <FormLabel htmlFor=\"semester\">Semester</FormLabel> */}\r\n                          <Autocomplete\r\n                            disablePortal\r\n                            options={semesterOptions}\r\n                            value={semester}\r\n                            onChange={(e, value) => setSemester(value)}\r\n                            sx={{ minWidth: 150, width: 300 }}\r\n                            renderInput={(props) => (\r\n                              <TextField\r\n                                label=\"Semester\"\r\n                                variant=\"filled\"\r\n                                {...props}\r\n                                id=\"semester\"\r\n                                size=\"small\"\r\n                                placeholder=\"Semester\"\r\n                                fullWidth\r\n                              />\r\n                            )}\r\n                          />\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography paddingY={1}>Results Information</Typography>\r\n                      <Divider />\r\n                      <Grid\r\n                        container\r\n                        sx={{\r\n                          display: \"flex\",\r\n                          justifyContent: {\r\n                            xs: \"center\",\r\n                            md: \"flex-start\",\r\n                          },\r\n                          alignItems: \"center\",\r\n                          paddingY: 2,\r\n                          gap: 1,\r\n                        }}\r\n                      >\r\n                        <Grid item>\r\n                          {/* <FormLabel htmlFor=\"course\">Select Course</FormLabel> */}\r\n                          <Autocomplete\r\n                            disablePortal\r\n                            options={coursesOptions}\r\n                            value={course}\r\n                            isOptionEqualToValue={(option, value) =>\r\n                              option.label === value.label\r\n                            }\r\n                            onChange={(e, value) => setCourse(value)}\r\n                            sx={{ minWidth: 150, width: 300 }}\r\n                            renderInput={(props) => (\r\n                              <TextField\r\n                                variant=\"filled\"\r\n                                label=\"Course\"\r\n                                {...props}\r\n                                id=\"course\"\r\n                                size=\"small\"\r\n                                fullWidth\r\n                                placeholder=\"Course\"\r\n                                helperText={\r\n                                  coursesOptions.length === 0\r\n                                    ? \"No courses available\"\r\n                                    : `${coursesOptions.length} course(s) available`\r\n                                }\r\n                              />\r\n                            )}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item>\r\n                          <TextField\r\n                            label=\"Score\"\r\n                            variant=\"filled\"\r\n                            id=\"score\"\r\n                            size=\"small\"\r\n                            type=\"number\"\r\n                            fullWidth\r\n                            placeholder=\"Score\"\r\n                            value={score}\r\n                            sx={{ minWidth: 150, width: 300 }}\r\n                            onChange={(e) => setScore(e.currentTarget.value)}\r\n                            helperText=\"Scores should be from 0-100\"\r\n                          />\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        disabled={course === \"\" || course === null}\r\n                        size=\"large\"\r\n                        sx={{ minWidth: 200, color: \"#fff\" }}\r\n                        onClick={handleSubmitResult}\r\n                      >\r\n                        Add Results\r\n                      </Button>\r\n                    </Box>\r\n                  </Stack>\r\n                  {courseErr && (\r\n                    <Alert\r\n                      // variant=\"filled\"\r\n                      severity=\"error\"\r\n                      onClose={() => setCourseErr(\"\")}\r\n                    >\r\n                      {courseErr}\r\n                    </Alert>\r\n                  )}\r\n                  <ResultsList results={results} setResults={setResults} />\r\n                </Content>\r\n              </>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DataEntry;\r\n"],"names":["createSvgIcon","_jsx","d","result","handleRemoveResult","style","textAlign","course","id","label","score","grade","Button","onClick","BASE_URL","results","setResults","filteredResults","filter","Stack","sx","display","alignItems","justifyContent","width","color","backgroundColor","map","index","levelOptions","semesterOptions","yearOptions","process","state","useLocation","useTransition","startTransition","useState","courseErr","setCourseErr","search","setSearch","fullname","setFullname","profile","setProfile","indexNumber","setIndexNumber","year","setYear","level","setLevel","semester","setSemester","setCourse","setScore","setGrade","coursesOptions","setCourseOptions","setDisplay","useEffect","isSticky","e","scrollHeight","window","scrollY","addEventListener","removeEventListener","_","student","useQuery","getAllRegisteredCourses","enabled","onSuccess","data","courseArr","filteredCourses","Number","myRegisteredCourses","courses","info","push","students","getAllStudents","onError","error","alert","handleSubmitResult","useCallback","record","find","scoreT","t","initialValues","resultMutate","useMutation","addResult","onSubmit","values","options","setSubmitting","mutateAsync","onSettled","handleSearchStudent","currentTarget","value","searchItem","length","filteredList","lastIndexOf","Helmet","className","enableReinitialize","handleSubmit","isSubmitting","errors","touched","Box","height","transition","boxShadow","position","top","zIndex","padding","LoadingButton","disabled","variant","loading","Content","Typography","spacing","paddingY","TextField","fullWidth","placeholder","inputMode","type","onChange","InputProps","endAdornment","InputAdornment","SearchSharp","gap","Divider","direction","Avatar","src","undefined","Grid","container","xs","md","item","Autocomplete","disablePortal","freeSolo","minWidth","renderInput","props","size","Boolean","helperText","isOptionEqualToValue","option","Alert","severity","onClose"],"sourceRoot":""}
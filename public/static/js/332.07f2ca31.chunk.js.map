{"version":3,"file":"static/js/332.07f2ca31.chunk.js","mappings":"sJACO,IAAMA,EAAqB,SAACC,GACjC,OAAQA,GACN,IAAK,IACH,OAAO,GACT,IAAK,KACH,OAAO,KACT,IAAK,IACH,OAAO,EACT,IAAK,KACH,OAAO,IACT,IAAK,IACH,OAAO,EACT,IAAK,KACH,OAAO,IACT,IAAK,IACH,OAAO,EACT,IAAK,IACH,OAAO,IACT,IAAK,IACH,OAAO,EACT,QACE,MAAO,M,sQCwLb,MAxMA,YAAqD,IAA/BC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,cAC7BC,EAAkB,GAClBC,EAAkB,GAShBC,OACcC,IAAlBJ,EAAA,OACIA,QADJ,IACIA,OADJ,EACIA,EAAeK,KAAI,SAACC,EAAQC,GAC1B,OACE,UAAC,WAAD,YACE,0BACE,iBACEC,MAAO,CACLC,gBAAiB,UACjBC,MAAO,OACPC,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,QAAS,OAPb,WAUE,eAAGN,MAAO,CAAEO,SAAU,QAAtB,UACGT,EAAOU,KADV,qBAGA,eAAGR,MAAO,CAAEO,SAAU,QAAtB,mBAAuCT,EAAOW,UAC9C,eAAGT,MAAO,CAAEO,SAAU,QAAtB,UAAiCT,EAAOY,SAAxC,qBAGJ,mBAAOC,YAAY,OAAOC,MAAM,OAAhC,WACE,kBACEZ,MAAO,CACLC,gBAAiB,OACjBC,MAAO,OACPW,UAAW,QAJf,UAOE,2BACE,kCACA,oCACA,0CACA,mCACA,mCACA,8CAGJ,kBAAOb,MAAO,CAAEC,gBAAiB,cAAjC,SACGH,EAAOgB,QAAQjB,KAAI,SAACkB,EAAMhB,GACzB,IAAMiB,GAAK3B,EAAAA,EAAAA,GAAmB0B,EAAKzB,OAGnC,OAFAG,EAAgBwB,KAAKF,EAAKG,aAC1BxB,EAAgBuB,KAAKD,IAEnB,2BACE,wBAAKD,EAAKI,OAAOC,MACjB,wBAAKL,EAAKI,OAAOE,SACjB,wBAAKN,EAAKG,eACV,wBAAKH,EAAKO,SACV,wBAAKP,EAAKzB,SACV,wBAAK0B,MANED,EAAKI,OAAOC,UAW3B,kBAAOpB,MAAO,CAAEuB,cAAe,SAA/B,UACE,2BACE,mBACA,mBACA,mBACA,mBACA,mBACA,gBAAIvB,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,QAAhD,kBAtEQsB,IAAAA,IAAM9B,GACL8B,IAAAA,IAAM/B,IAEpBgC,QAAQ,gBAOU3B,EAAO4B,QAqEhC,KAEN,OACE,+BACE,gBACE1B,MAAO,CACLY,MAAO,MACPe,UAAW,SACXC,OAAQ,OACRC,UAAW,OACX5B,gBAAiB,OACjB6B,UAAW,2BAPf,UAUE,iBACE9B,MAAO,CACLY,MAAO,QACPe,UAAW,OACXC,OAAQ,OACRtB,QAAS,OACTyB,WAAW,sEAAD,OAAwEC,EAAxE,6BACVC,eAAgB,eAElBb,GAAG,YATL,WAWE,iBACEpB,MAAO,CACLG,QAAS,OACTE,WAAY,SACZD,eAAgB,gBAChB8B,IAAK,OACL5B,QAAS,UANb,WASE,gBACE6B,IAAKH,EACLI,IAAI,OACJpC,MAAO,CACLY,MAAO,QACPyB,OAAQ,YAGZ,gBACErC,MAAO,CACLsC,SAAU,EACVnC,QAAS,OACTE,WAAY,SACZD,eAAgB,UALpB,UAQE,iBACEJ,MAAO,CACLa,UAAW,UAFf,WAKE,6DACA,oDACA,kDAIN,cACEb,MAAO,CACLa,UAAW,SACXX,MAAO,OACPD,gBAAiB,OACjBK,QAAS,UALb,sDAUA,SAACiC,EAAA,EAAD,KACA,iBACEvC,MAAO,CACLG,QAAS,OACTE,WAAY,SACZD,eAAgB,aAChBoC,SAAU,OACVC,UAAW,OACXC,OAAQ,OACRC,WAAY,QARhB,WAWE,iBAAK3C,MAAO,CAAE4C,UAAW,SAAzB,WACE,cAAG5C,MAAO,CAAE6C,WAAY,QAAxB,+BACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAauD,kBAEnB,iBAAK9C,MAAO,CAAE4C,UAAW,SAAzB,WACE,cAAG5C,MAAO,CAAE6C,WAAY,QAAxB,wBACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAawD,eAEnB,iBAAK/C,MAAO,CAAE4C,UAAW,SAAzB,WACE,cAAG5C,MAAO,CAAE6C,WAAY,QAAxB,8BACA,uBAAI,IAAIG,KAAJ,OAASzD,QAAT,IAASA,OAAT,EAASA,EAAa0D,KAAKC,2BAGjC,iBAAKlD,MAAO,CAAE4C,UAAW,SAAzB,WACE,cAAG5C,MAAO,CAAE6C,WAAY,QAAxB,sBACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAa4D,aAEnB,4BACE,cAAGnD,MAAO,CAAE6C,WAAY,QAAxB,0BACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAa6D,mBAGrB,gBAAKpD,MAAO,CAAEY,MAAO,OAAQN,QAAS,UAAtC,SAC4B,IAAzBd,EAAc6D,aAAkCzD,IAAlBJ,EAC3B,KACAG,Y,oDCnFhB,MArGA,WACE,IAAM2D,GAAWC,EAAAA,EAAAA,MACTC,GAAgBC,EAAAA,EAAAA,YAAWC,EAAAA,GAA3BF,YACR,GAAgCG,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAsCF,EAAAA,EAAAA,UACpCH,EAAYM,2BADd,eAAOhB,EAAP,KAAoBiB,EAApB,MASAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAMC,aAAaC,QAAQ,eACrB,OAARF,GACFF,EAAeE,KAEhB,CAACnB,IAEJ,IAAQsB,GAAYC,EAAAA,EAAAA,UAClB,CAAC,YACD,kBAAMC,EAAAA,EAAAA,IAAcxB,EAAac,KACjC,CACEW,SAAS,EACTC,UAAW,SAACC,GACVC,IAAAA,KAAU,CACRC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,KAAM,uBACNC,mBAAoB,eAXpBX,QAwDR,OARAJ,EAAAA,EAAAA,YAAU,WAC+B,IAAnCR,EAAYjE,YAAY8D,QAC1BC,EAAS,gBAAiB,CACxB0B,SAAS,MAGZ,CAAC1B,EAAUE,EAAYjE,eAGxB,iCACE,SAAC0F,EAAA,EAAD,WACE,oEAEF,SAACC,EAAA,EAAD,CAAOC,UAAU,MAAM/E,eAAe,WAAWE,QAAS,EAA1D,UACE,UAAC8E,EAAA,EAAD,CAAaC,QAAQ,YAArB,WACE,SAACC,EAAA,EAAD,CAAQC,QA9CY,WAC1B,IAAMC,EAAQC,SAASC,eAAe,aACtCC,IAAYH,GAAOI,MAAK,SAACC,GACvB,IAAMC,EAAUD,EAAOE,UAAU,aAG3BC,EAAM,IAAIC,EAAAA,MAAM,CACpBC,YAAa,WACbC,KAAM,KACNC,OAAQ,CAAC,IAAK,MAGhBJ,EAAIK,SAASP,EAAS,OAAQ,EAAG,GAEjCE,EAAIM,KAAJ,UAAYxD,EAAZ,aAgC0C1B,GAAG,QAAzC,mBAG2B,kBAA1BoC,EAAY+C,KAAKC,OAChB,SAAClB,EAAA,EAAD,CAAQmB,GAAC,EAACrF,GAAG,UAAUmE,QAhCV,WACrB,IAAMmB,GAAoBC,EAAAA,EAAAA,KACxB,SAACC,EAAA,EAAD,CACErH,YAAaiE,EAAYjE,YACzBC,cAAegE,EAAYhE,iBAG/BqE,EAAY6C,GAGZtC,KAsBQ,2BAMN,SAAC,EAAD,CACE7E,YAAaiE,EAAYjE,YACzBC,cAAegE,EAAYhE,qB,wFC6FnC,IApMA,YAAqD,IAA/BD,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,cAC7BC,EAAkB,GAClBC,EAAkB,GAShBC,EAAQ,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAeK,KAAI,SAACC,EAAQC,GAC3C,OACE,UAAC,WAAD,YACE,kBAAOa,MAAM,OAAOiG,OAAO,IAA3B,UACE,gBACE7G,MAAO,CACLC,gBAAiB,UACjBC,MAAO,OACPI,QAAS,QAJb,WAOE,0BAAKR,EAAOU,KAAZ,qBACA,mCAAWV,EAAOW,UAClB,0BAAKX,EAAOY,SAAZ,qBAGJ,mBAAOE,MAAM,OAAOiG,OAAO,IAAI7G,MAAO,CAAEuB,cAAe,QAAvD,WACE,kBACEvB,MAAO,CACLC,gBAAiB,OACjBC,MAAO,OACPW,UAAW,QAJf,UAOE,2BACE,kCACA,oCACA,0CACA,mCACA,mCACA,8CAGJ,kBAAOb,MAAO,CAAEC,gBAAiB,cAAjC,SACGH,EAAOgB,QAAQjB,KAAI,SAACkB,EAAMhB,GACzB,IAAMiB,GAAK3B,EAAAA,EAAAA,GAAmB0B,EAAKzB,OAGnC,OAFAG,EAAgBwB,KAAKF,EAAKG,aAC1BxB,EAAgBuB,KAAKD,IAEnB,2BACE,wBAAKD,EAAKI,OAAOC,MACjB,wBAAKL,EAAKI,OAAOE,SACjB,wBAAKN,EAAKG,eACV,wBAAKH,EAAKO,SACV,wBAAKP,EAAKzB,SACV,wBAAK0B,MANED,EAAKI,OAAOC,UAW3B,mBAAOpB,MAAO,CAAEuB,cAAe,SAA/B,WACE,2BACE,mBACA,mBACA,mBACA,mBACA,mBACA,gBAAIvB,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,QAAhD,kBA/DcsB,IAAAA,IAAM9B,GACL8B,IAAAA,IAAM/B,IAEpBgC,QAAQ,UAgEX,yBACE,0CA5Da3B,EAAO4B,QAoEhC,OACE,+BACE,iBACE1B,MAAO,CACLY,MAAO,OACPkG,SAAU,QACVlF,OAAQ,OACRtB,QAAS,OACTL,gBAAiB,QAEnBmB,GAAG,aARL,WAUE,gBACEpB,MAAO,CACLG,QAAS,OACTE,WAAY,SACZD,eAAgB,gBAChB8B,IAAK,OACL5B,QAAS,UANb,UASE,kBACEM,MAAM,OACNZ,MAAO,CACLa,UAAW,UAHf,UAME,2BACE,yBACE,gBACEsB,IAAI,sPACJC,IAAI,OACJpC,MAAO,CAAEY,MAAO,QAASyB,OAAQ,cAGrC,2BACE,6DACA,oDACA,oDAKR,cACErC,MAAO,CACLa,UAAW,SACXX,MAAO,OACPD,gBAAiB,OACjBK,QAAS,UALb,sDAUA,SAAC,IAAD,KACA,mBACEM,MAAM,OACNZ,MAAO,CACLa,UAAW,UAHf,WAME,eACEb,MAAO,CACLC,gBAAiB,WAFrB,UAKE,eACED,MAAO,CACLE,MAAO,OACPI,QAAS,OAHb,oCASF,yBACE,eAAIN,MAAO,CAAEM,QAAS,kBAG1B,mBAAOM,MAAM,OAAb,WACE,2BACE,2BACE,cAAGZ,MAAO,CAAE6C,WAAY,QAAxB,+BACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAauD,kBAGnB,2BACE,cAAG9C,MAAO,CAAE6C,WAAY,QAAxB,wBACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAawD,eAGnB,2BACE,cAAG/C,MAAO,CAAE6C,WAAY,QAAxB,8BACA,uBAAI,IAAIG,KAAJ,OAASzD,QAAT,IAASA,OAAT,EAASA,EAAa0D,KAAKC,8BAGnC,2BACE,2BACE,cAAGlD,MAAO,CAAE6C,WAAY,QAAxB,sBACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAa4D,aAGnB,2BACE,cAAGnD,MAAO,CAAE6C,WAAY,QAAxB,0BACA,8BAAItD,QAAJ,IAAIA,OAAJ,EAAIA,EAAa6D,sBAIvB,gBAAKpD,MAAO,CAAEY,MAAO,QAArB,SAC4B,IAAzBpB,EAAc6D,OAAe,KAAO1D","sources":["config/index.js","pages/PrintPage2.js","pages/Preview.js","pages/PrintPage3.js"],"sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\nexport const generateGradePoint = (grade) => {\r\n  switch (grade) {\r\n    case \"A\":\r\n      return 12;\r\n    case \"B+\":\r\n      return 10.5;\r\n    case \"B\":\r\n      return 9;\r\n    case \"C+\":\r\n      return 7.5;\r\n    case \"C\":\r\n      return 6;\r\n    case \"D+\":\r\n      return 4.5;\r\n    case \"D\":\r\n      return 3;\r\n    case \"E\":\r\n      return 1.5;\r\n    case \"F\":\r\n      return 0;\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nexport default { generateGradePoint };\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport {  Divider } from \"@mui/material\";\r\nimport aamustedLogo from \"../assets/images/aamusted.jpg\";\r\nimport { generateGradePoint } from \"../config\";\r\n\r\nfunction PrintPage2({ studentInfo, studentRecord }) {\r\n  let creditHoursList = [];\r\n  let gradePointsList = [];\r\n\r\n  function generateGPA() {\r\n    const totalGradePoint = _.sum(gradePointsList);\r\n    const totalCreditHours = _.sum(creditHoursList);\r\n    const gpa = totalGradePoint / totalCreditHours;\r\n    return gpa.toFixed(2);\r\n  }\r\n\r\n  const infoData =\r\n    studentRecord !== undefined\r\n      ? studentRecord?.map((record, index) => {\r\n          return (\r\n            <React.Fragment key={record._id}>\r\n              <div>\r\n                <div\r\n                  style={{\r\n                    backgroundColor: \"#5aa7a7\",\r\n                    color: \"#fff\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\",\r\n                    padding: \"4px\",\r\n                  }}\r\n                >\r\n                  <p style={{ fontSize: \"12px\" }}>\r\n                    {record.year} ACADEMIC YEAR\r\n                  </p>\r\n                  <p style={{ fontSize: \"12px\" }}>LEVEL {record.level}</p>\r\n                  <p style={{ fontSize: \"12px\" }}>{record.semester} SEMESTER</p>\r\n                </div>\r\n              </div>\r\n              <table cellPadding=\"10px\" width=\"100%\">\r\n                <thead\r\n                  style={{\r\n                    backgroundColor: \"#000\",\r\n                    color: \"#fff\",\r\n                    textAlign: \"left\",\r\n                  }}\r\n                >\r\n                  <tr>\r\n                    <th>Code</th>\r\n                    <th>Course</th>\r\n                    <th>Credit Hours</th>\r\n                    <th>Score</th>\r\n                    <th>Grade</th>\r\n                    <th>Grade Point</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody style={{ backgroundColor: \"whitesmoke\" }}>\r\n                  {record.results.map((info, index) => {\r\n                    const gp = generateGradePoint(info.grade);\r\n                    creditHoursList.push(info.creditHours);\r\n                    gradePointsList.push(gp);\r\n                    return (\r\n                      <tr key={info.course.id}>\r\n                        <td>{info.course.id}</td>\r\n                        <td>{info.course.label}</td>\r\n                        <td>{info.creditHours}</td>\r\n                        <td>{info.score}</td>\r\n                        <td>{info.grade}</td>\r\n                        <td>{gp}</td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n                <tfoot style={{ paddingBottom: \"200px\" }}>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td style={{ backgroundColor: \"#5aa7a7\", color: \"#fff\" }}>\r\n                      GPA-{generateGPA()}\r\n                    </td>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </React.Fragment>\r\n          );\r\n        })\r\n      : null;\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: \"9in\",\r\n          minHeight: \"11.5in\",\r\n          margin: \"auto\",\r\n          marginTop: \"16px\",\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 0 5px rgba(0,0,0,0.5)\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"8.5in\",\r\n            minHeight: \"11in\",\r\n            margin: \"auto\",\r\n            padding: \"16px\",\r\n            background: `linear-gradient(rgba(255,255,255,0.96),rgba(255,255,255,0.96)),url(${aamustedLogo}) no-repeat center center`,\r\n            backgroundSize: \"350px 350px\",\r\n          }}\r\n          id=\"printPage\"\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n              gap: \"10px\",\r\n              padding: \"32px 0\",\r\n            }}\r\n          >\r\n            <img\r\n              src={aamustedLogo}\r\n              alt=\"logo\"\r\n              style={{\r\n                width: \"120px\",\r\n                height: \"120px\",\r\n              }}\r\n            />\r\n            <div\r\n              style={{\r\n                flexGrow: 1,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                <h2>AKENTEN APPIAH-MENKA UNIVERSITY</h2>\r\n                <p>ACADEMIC AFFAIRS OFFICE</p>\r\n                <p>TANOSO-KUMASI</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p\r\n            style={{\r\n              textAlign: \"center\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#000\",\r\n              padding: \"10px 0\",\r\n            }}\r\n          >\r\n            OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD\r\n          </p>\r\n          <Divider />\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"flex-start\",\r\n              flexWrap: \"wrap\",\r\n              columnGap: \"20px\",\r\n              rowGap: \"10px\",\r\n              paddingTop: \"20px\",\r\n            }}\r\n          >\r\n            <div style={{ flexBasis: \"700px\" }}>\r\n              <p style={{ fontWeight: \"bold\" }}> Student Number </p>\r\n              <p>{studentInfo?.indexNumber}</p>\r\n            </div>\r\n            <div style={{ flexBasis: \"150px\" }}>\r\n              <p style={{ fontWeight: \"bold\" }}>Full Name</p>\r\n              <p>{studentInfo?.fullname}</p>\r\n            </div>\r\n            <div style={{ flexBasis: \"150px\" }}>\r\n              <p style={{ fontWeight: \"bold\" }}> Date of Birth </p>\r\n              <p>{new Date(studentInfo?.dob).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            <div style={{ flexBasis: \"150px\" }}>\r\n              <p style={{ fontWeight: \"bold\" }}>Gender </p>\r\n              <p>{studentInfo?.gender}</p>\r\n            </div>\r\n            <div>\r\n              <p style={{ fontWeight: \"bold\" }}> Programme </p>\r\n              <p>{studentInfo?.programme}</p>\r\n            </div>\r\n          </div>\r\n          <div style={{ width: \"100%\", padding: \"40px 0\" }}>\r\n            {studentRecord.length === 0 || studentRecord === undefined\r\n              ? null\r\n              : infoData}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PrintPage2;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button, ButtonGroup, Stack } from \"@mui/material\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { CustomContext } from \"../components/context/provider/CustomProvider\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\nimport PrintPage2 from \"./PrintPage2\";\r\nimport PrintPage3 from \"./PrintPage3\";\r\nimport { publishResult } from \"../components/api/resultApi\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction Preview() {\r\n  const navigate = useNavigate();\r\n  const { customState } = useContext(CustomContext);\r\n  const [htmlText, setHtmlText] = useState(\"\");\r\n  const [indexNumber, setIndexNumber] = useState(\r\n    customState.currentStudentIndexNumber\r\n  );\r\n\r\n  // window.onpopstate = () => {\r\n  //   navigate(`/info/student-personal-info`, {\r\n  //     replace: true,\r\n  //   });\r\n  // };\r\n  useEffect(() => {\r\n    const idx = localStorage.getItem(\"indexNumber\");\r\n    if (idx !== null) {\r\n      setIndexNumber(idx);\r\n    }\r\n  }, [indexNumber]);\r\n\r\n  const { refetch } = useQuery(\r\n    [\"publish\"],\r\n    () => publishResult(indexNumber, htmlText),\r\n    {\r\n      enabled: false,\r\n      onSuccess: (data) => {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          iconColor: \"#5aa7a7\",\r\n          title: \"Success\",\r\n          text: \"Results Published!!!\",\r\n          confirmButtonColor: \"#5aa7a7\",\r\n        });\r\n      },\r\n    }\r\n  );\r\n\r\n  const downloadPdfDocument = () => {\r\n    const input = document.getElementById(\"printPage\");\r\n    html2canvas(input).then((canvas) => {\r\n      const imgData = canvas.toDataURL(\"image/png\");\r\n\r\n      //imgData);\r\n      const pdf = new jsPDF({\r\n        orientation: \"portrait\",\r\n        unit: \"in\",\r\n        format: [8.5, 11],\r\n      });\r\n\r\n      pdf.addImage(imgData, \"JPEG\", 0, 0);\r\n\r\n      pdf.save(`${indexNumber}.pdf`);\r\n    });\r\n  };\r\n\r\n  const publishResults = () => {\r\n    const dataToBePublished = renderToStaticMarkup(\r\n      <PrintPage3\r\n        studentInfo={customState.studentInfo}\r\n        studentRecord={customState.studentRecord}\r\n      />\r\n    );\r\n    setHtmlText(dataToBePublished);\r\n    // //dataToBePublished);\r\n\r\n    refetch();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (customState.studentInfo.length === 0) {\r\n      navigate(\"/info/student\", {\r\n        replace: true,\r\n      });\r\n    }\r\n  }, [navigate, customState.studentInfo]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>AAMUSTED Results System | Preview</title>\r\n      </Helmet>\r\n      <Stack direction=\"row\" justifyContent=\"flex-end\" padding={2}>\r\n        <ButtonGroup variant=\"contained\">\r\n          <Button onClick={downloadPdfDocument} id=\"print\">\r\n            Print\r\n          </Button>\r\n          {customState.user.role === \"administrator\" && (\r\n            <Button c id=\"publish\" onClick={publishResults}>\r\n              Publish\r\n            </Button>\r\n          )}\r\n        </ButtonGroup>\r\n      </Stack>\r\n      <PrintPage2\r\n        studentInfo={customState.studentInfo}\r\n        studentRecord={customState.studentRecord}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Preview;\r\n","import React from \"react\";\r\nimport { Divider } from \"@mui/material\";\r\n\r\nimport _ from \"lodash\";\r\nimport { generateGradePoint } from \"../config\";\r\n\r\nfunction PrintPage3({ studentInfo, studentRecord }) {\r\n  let creditHoursList = [];\r\n  let gradePointsList = [];\r\n\r\n  function generateGPA() {\r\n    const totalGradePoint = _.sum(gradePointsList);\r\n    const totalCreditHours = _.sum(creditHoursList);\r\n    const gpa = totalGradePoint / totalCreditHours;\r\n    return gpa.toFixed(2);\r\n  }\r\n\r\n  const infoData = studentRecord?.map((record, index) => {\r\n    return (\r\n      <React.Fragment key={record._id}>\r\n        <table width=\"100%\" border=\"0\">\r\n          <tr\r\n            style={{\r\n              backgroundColor: \"#5aa7a7\",\r\n              color: \"#fff\",\r\n              padding: \"16px\",\r\n            }}\r\n          >\r\n            <td>{record.year} ACADEMIC YEAR</td>\r\n            <td>LEVEL {record.level}</td>\r\n            <td>{record.semester} SEMESTER</td>\r\n          </tr>\r\n        </table>\r\n        <table width=\"100%\" border=\"0\" style={{ paddingBottom: \"16px\" }}>\r\n          <thead\r\n            style={{\r\n              backgroundColor: \"#333\",\r\n              color: \"#fff\",\r\n              textAlign: \"left\",\r\n            }}\r\n          >\r\n            <tr>\r\n              <th>Code</th>\r\n              <th>Course</th>\r\n              <th>Credit Hours</th>\r\n              <th>Score</th>\r\n              <th>Grade</th>\r\n              <th>Grade Point</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody style={{ backgroundColor: \"whitesmoke\" }}>\r\n            {record.results.map((info, index) => {\r\n              const gp = generateGradePoint(info.grade);\r\n              creditHoursList.push(info.creditHours);\r\n              gradePointsList.push(gp);\r\n              return (\r\n                <tr key={info.course.id}>\r\n                  <td>{info.course.id}</td>\r\n                  <td>{info.course.label}</td>\r\n                  <td>{info.creditHours}</td>\r\n                  <td>{info.score}</td>\r\n                  <td>{info.grade}</td>\r\n                  <td>{gp}</td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n          <tfoot style={{ paddingBottom: \"200px\" }}>\r\n            <tr>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td style={{ backgroundColor: \"#5aa7a7\", color: \"#fff\" }}>\r\n                GPA-{generateGPA()}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>End</td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </React.Fragment>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          maxWidth: \"600px\",\r\n          margin: \"auto\",\r\n          padding: \"20px\",\r\n          backgroundColor: \"#fff\",\r\n        }}\r\n        id=\"printPageA\"\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            gap: \"10px\",\r\n            padding: \"16px 0\",\r\n          }}\r\n        >\r\n          <table\r\n            width=\"100%\"\r\n            style={{\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <tr>\r\n              <td>\r\n                <img\r\n                  src=\"https://blogger.googleusercontent.com/img/a/AVvXsEjmgQKEPuA2OPPl0sErJ4oijrFu0fOYFIScPxZrtsOKsmN6lTTzi6CsX0TPnqzHCL44VU4ghmzmV6LScpciyOehKGuN9GH9OuIb299rBwE9bsTqmb26Ju6opaR_RkWnQarH6w8bIA9NaRBdZ-hT7UDWcgO5bcFuFneiUZAmvmPU1K998YJ7c83ZNQVHHA=s715\"\r\n                  alt=\"logo\"\r\n                  style={{ width: \"120px\", height: \"120px\" }}\r\n                />\r\n              </td>\r\n              <td>\r\n                <h2>AKENTEN APPIAH-MENKA UNIVERSITY</h2>\r\n                <p>ACADEMIC AFFAIRS OFFICE</p>\r\n                <p>TANOSO-KUMASI</p>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n        <p\r\n          style={{\r\n            textAlign: \"center\",\r\n            color: \"#fff\",\r\n            backgroundColor: \"#000\",\r\n            padding: \"10px 0\",\r\n          }}\r\n        >\r\n          OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD\r\n        </p>\r\n        <Divider />\r\n        <table\r\n          width=\"100%\"\r\n          style={{\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <tr\r\n            style={{\r\n              backgroundColor: \"#5aa7a7\",\r\n            }}\r\n          >\r\n            <td\r\n              style={{\r\n                color: \"#fff\",\r\n                padding: \"8px\",\r\n              }}\r\n            >\r\n              STUDENT INFORMATION\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ padding: \"10px 0\" }}></td>\r\n          </tr>\r\n        </table>\r\n        <table width=\"100%\">\r\n          <tr>\r\n            <td>\r\n              <p style={{ fontWeight: \"bold\" }}> Student Number </p>\r\n              <p>{studentInfo?.indexNumber}</p>\r\n            </td>\r\n\r\n            <td>\r\n              <p style={{ fontWeight: \"bold\" }}>Full Name</p>\r\n              <p>{studentInfo?.fullname}</p>\r\n            </td>\r\n\r\n            <td>\r\n              <p style={{ fontWeight: \"bold\" }}> Date of Birth </p>\r\n              <p>{new Date(studentInfo?.dob).toLocaleDateString()}</p>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <p style={{ fontWeight: \"bold\" }}>Gender </p>\r\n              <p>{studentInfo?.gender}</p>\r\n            </td>\r\n\r\n            <td>\r\n              <p style={{ fontWeight: \"bold\" }}> Programme </p>\r\n              <p>{studentInfo?.programme}</p>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        <div style={{ width: \"100%\" }}>\r\n          {studentRecord.length === 0 ? null : infoData}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PrintPage3;\r\n"],"names":["generateGradePoint","grade","studentInfo","studentRecord","creditHoursList","gradePointsList","infoData","undefined","map","record","index","style","backgroundColor","color","display","justifyContent","alignItems","padding","fontSize","year","level","semester","cellPadding","width","textAlign","results","info","gp","push","creditHours","course","id","label","score","paddingBottom","_","toFixed","_id","minHeight","margin","marginTop","boxShadow","background","aamustedLogo","backgroundSize","gap","src","alt","height","flexGrow","Divider","flexWrap","columnGap","rowGap","paddingTop","flexBasis","fontWeight","indexNumber","fullname","Date","dob","toLocaleDateString","gender","programme","length","navigate","useNavigate","customState","useContext","CustomContext","useState","htmlText","setHtmlText","currentStudentIndexNumber","setIndexNumber","useEffect","idx","localStorage","getItem","refetch","useQuery","publishResult","enabled","onSuccess","data","Swal","icon","iconColor","title","text","confirmButtonColor","replace","Helmet","Stack","direction","ButtonGroup","variant","Button","onClick","input","document","getElementById","html2canvas","then","canvas","imgData","toDataURL","pdf","jsPDF","orientation","unit","format","addImage","save","user","role","c","dataToBePublished","renderToStaticMarkup","PrintPage3","border","maxWidth"],"sourceRoot":""}
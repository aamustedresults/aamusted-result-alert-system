"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[694],{27694:function(e,r,n){n.r(r),n.d(r,{default:function(){return M}});var t=n(29439),i=n(72791),l=n(68087),a=n(4567),s=n(94721),o=n(64554),d=n(5849),u=n(6907),c=n(91933),h=n(61820),m=n(1413),x=n(13967),f=n(5574),p=n(65661),Z=n(4899),j=n(60220),g=n(81153),v=n(93006),b=n(46314),C=n(77386),y=n(4799),S=n.n(y),q=n(65639),T=n(88970),P=n(25801),w=n(45363),A=n(17133),I=n(92810),L=n(92506),W=n(81724),k=n(43992),B=n(12258),N=n(19873),E=n(41286),R=n(98274),_=n(80184);var z=function(e){var r=e.open,n=e.setOpen,l=(0,x.Z)().palette,u=(0,c.useQueryClient)(),h=(0,i.useState)([]),y=(0,t.Z)(h,2),z=y[0],F=y[1];(0,c.useQuery)(["department"],R.Sj,{onSuccess:function(e){var r=e.map((function(e){return e.department}));F(r)}});var D=(0,i.useState)(null),M=(0,t.Z)(D,2),Y=M[0],Q=M[1],O=(0,i.useState)(""),U=(0,t.Z)(O,2),V=U[0],G=U[1],J=(0,i.useState)("Male"),$=(0,t.Z)(J,2),H=$[0],K=$[1],X=(0,i.useState)(""),ee=(0,t.Z)(X,2),re=ee[0],ne=ee[1],te=(0,i.useState)(""),ie=(0,t.Z)(te,2),le=ie[0],ae=ie[1],se=(0,i.useState)(""),oe=(0,t.Z)(se,2),de=oe[0],ue=oe[1],ce=(0,i.useState)(""),he=(0,t.Z)(ce,2),me=he[0],xe=he[1],fe=(0,i.useState)(null),pe=(0,t.Z)(fe,2),Ze=pe[0],je=pe[1],ge={profile:Y,fullname:V,gender:H,dob:re,email:le,address:de,telephoneNo:me,department:Ze},ve=(0,W.Ry)().shape({fullname:(0,W.Z_)().trim().required("required*"),gender:(0,W.Z_)().trim().required("required*"),dob:(0,W.hT)().required("required*"),email:(0,W.Z_)().trim().required("required").email("Invalid email address"),address:(0,W.Z_)().trim().required("required"),telephoneNo:(0,W.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,W.Z_)().trim().required("required*").nullable(!0)}),be=(0,c.useMutation)(N.r0);return(0,_.jsxs)(f.Z,{maxWidth:"sm",fullWidth:!0,open:r,onClose:function(){return n(!1)},children:[(0,_.jsxs)(p.Z,{title:"Add Lecturer",borderBottom:"1px solid #8C1438",children:[(0,_.jsx)(k.Z,{})," Add Lecturer"]}),(0,_.jsx)(L.J9,{initialValues:ge,validationSchema:ve,onSubmit:function(e,r){r.setSubmitting(!0),e.professionalID="LEC".concat((0,I.Z)().split("-")[0]),be.mutateAsync(e,{onSettled:function(){r.setSubmitting(!1),u.invalidateQueries("lecturer")},onSuccess:function(e){S().fire({icon:"success",iconColor:l.primary.main,title:"Success",text:"New Lecturer added!!!",confirmButtonColor:"#8C1438"}),r.resetForm()},onError:function(e){S().fire({icon:"error",iconColor:l.primary.main,title:"Error",text:"Error saving lecturer information.Please try again",confirmButtonColor:l.primary.main})}})},enableReinitialize:!0,children:function(e){var r=e.isSubmitting,t=e.values,i=e.errors,l=e.touched,u=e.handleSubmit;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(Z.Z,{children:[(0,_.jsxs)(o.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,_.jsx)(j.Z,{src:null===Y?null:URL.createObjectURL(Y),sx:{width:100,height:100,position:"relative"}}),(0,_.jsx)(A.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#8C1438"},children:(0,_.jsx)(E.Z,{sx:{width:16,color:"#fff"}})}),(0,_.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return Q(e.target.files[0])}})]}),(0,_.jsx)(a.Z,{children:"1.Personal Information"}),(0,_.jsx)(s.Z,{}),(0,_.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(v.Z,{label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:V,error:Boolean(l.fullname&&i.fullname),helperText:i.fullname,onChange:function(e){return G(e.currentTarget.value)},required:!0})}),(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(v.Z,{label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:t.dob,error:Boolean(l.dob&&i.dob),helperText:i.dob,onChange:function(e,r){return ne(e.currentTarget.value)},required:!0})}),(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsxs)(w.Z,{children:[(0,_.jsx)(A.Z,{id:"gender-group",children:"Gender"}),(0,_.jsxs)(T.Z,{"aria-labelledby":"gender-group",name:"gender-group",row:!0,value:H,onChange:function(e,r){return K(r)},children:[(0,_.jsx)(P.Z,{value:"Male",control:(0,_.jsx)(q.Z,{}),label:"Male"}),(0,_.jsx)(P.Z,{value:"Female",control:(0,_.jsx)(q.Z,{}),label:"Female"})]})]})})]}),(0,_.jsx)(a.Z,{children:"2.Contact Information"}),(0,_.jsx)(s.Z,{}),(0,_.jsxs)(g.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(v.Z,{label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:le,error:Boolean(l.email&&i.email),helperText:i.email,onChange:function(e){return ae(e.currentTarget.value)},required:!0})}),(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(v.Z,{label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:me,error:Boolean(l.telephoneNo&&i.telephoneNo),helperText:i.telephoneNo,onChange:function(e,r){return xe(e.currentTarget.value)}})}),(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(v.Z,{label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:de,error:Boolean(l.address&&i.address),helperText:i.address,onChange:function(e){return ue(e.currentTarget.value)}})})]}),(0,_.jsx)(a.Z,{children:"3.Department Information"}),(0,_.jsx)(s.Z,{}),(0,_.jsx)(g.ZP,{container:!0,spacing:3,paddingY:2,children:(0,_.jsx)(g.ZP,{item:!0,xs:12,md:6,children:(0,_.jsx)(b.Z,{options:z,value:Ze,onChange:function(e,r){return je(r)},renderInput:function(e){return(0,_.jsx)(v.Z,(0,m.Z)((0,m.Z)({},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(l.department&&i.department),helperText:i.department}))}})})})]}),(0,_.jsxs)(C.Z,{children:[(0,_.jsx)(B.Z,{disabled:r,sx:{minWidth:100},variant:"contained",onClick:u,loading:r,children:"Save"}),(0,_.jsx)(d.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Close"})]})]})}})]})},F=n(76884),D=n(60502);var M=function(){var e=(0,i.useState)(!1),r=(0,t.Z)(e,2),n=r[0],m=r[1],x=(0,i.useState)(!1),f=(0,t.Z)(x,2),p=(f[0],f[1]),Z=(0,c.useQuery)(["lecturer"],N.jl,{retry:3,onSuccess:function(e){},onError:function(e){p(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,_.jsxs)("section",{children:[(0,_.jsx)(u.ql,{children:(0,_.jsx)("title",{children:"AAMUSTED Results System | Lecturer"})}),(0,_.jsxs)(h.Z,{children:[(0,_.jsxs)("section",{children:[(0,_.jsx)(a.Z,{variant:"h4",children:"Lecturers"}),(0,_.jsx)(a.Z,{variant:"body2",children:"View and manage lecturers information"}),(0,_.jsx)(s.Z,{}),(0,_.jsx)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"}})]}),(0,_.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,_.jsx)(d.Z,{variant:"contained",color:"secondary",startIcon:(0,_.jsx)(l.Z,{}),onClick:function(){return m(!0)},children:"New Lecturer"})}),(0,_.jsx)(F.Z,{heading:"Lecturers",columns:D.xS,data:Z.data?Z.data:[],refresh:Z.refetch})]}),(0,_.jsx)(z,{open:n,setOpen:m})]})}}}]);
//# sourceMappingURL=694.9a04a30a.chunk.js.map
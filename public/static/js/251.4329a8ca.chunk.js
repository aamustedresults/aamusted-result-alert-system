"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[251],{40077:function(e,n,t){t.d(n,{v:function(){return r}});var r=function(e){switch(e){case"A":return 12;case"B+":return 10.5;case"B":return 9;case"C+":return 7.5;case"C":return 6;case"D+":return 4.5;case"D":return 3;case"E":return 1.5;case"F":return 0;default:return""}}},92633:function(e,n,t){var r=t(72791),i=t(94721),l=t(763),o=t.n(l),s=t(40077),d=t(80184);n.Z=function(e){var n=e.studentInfo,t=e.studentRecord,l=[],a=[];function u(){var e=o().sum(a)/o().sum(l);return console.log(e),e.toFixed(2)}var c=null===t||void 0===t?void 0:t.map((function(e,n){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)("table",{width:"100%",border:"0",children:(0,d.jsxs)("tr",{style:{backgroundColor:"#8C1438",color:"#fff",padding:"16px"},children:[(0,d.jsxs)("td",{children:[e.year," ACADEMIC YEAR"]}),(0,d.jsxs)("td",{children:["LEVEL ",e.level]}),(0,d.jsxs)("td",{children:[e.semester," SEMESTER"]})]})}),(0,d.jsxs)("table",{width:"100%",border:"0",style:{paddingBottom:"16px"},children:[(0,d.jsx)("thead",{style:{backgroundColor:"#333",color:"#fff",textAlign:"left"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Code"}),(0,d.jsx)("th",{children:"Course"}),(0,d.jsx)("th",{children:"Credit Hours"}),(0,d.jsx)("th",{children:"Score"}),(0,d.jsx)("th",{children:"Grade"}),(0,d.jsx)("th",{children:"Grade Point"})]})}),(0,d.jsx)("tbody",{style:{backgroundColor:"whitesmoke"},children:e.results.map((function(e,n){var t=(0,s.v)(e.grade);return l.push(Number(e.creditHours)),a.push(Number(t)),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.course.id}),(0,d.jsx)("td",{children:e.course.label}),(0,d.jsx)("td",{children:e.creditHours}),(0,d.jsx)("td",{children:e.score}),(0,d.jsx)("td",{children:e.grade}),(0,d.jsx)("td",{children:t})]},e.course.id)}))}),(0,d.jsxs)("tfoot",{style:{paddingBottom:"200px"},children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsxs)("td",{style:{backgroundColor:"#8C1438",color:"#fff"},children:["GPA-",u()]})]}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"End"})})]})]})]},e._id)}));return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{style:{width:"100%",maxWidth:"600px",margin:"auto",padding:"20px",backgroundColor:"#fff"},id:"printPageA",children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"16px 0"},children:(0,d.jsx)("table",{width:"100%",style:{textAlign:"center"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("img",{src:"https://blogger.googleusercontent.com/img/a/AVvXsEjmgQKEPuA2OPPl0sErJ4oijrFu0fOYFIScPxZrtsOKsmN6lTTzi6CsX0TPnqzHCL44VU4ghmzmV6LScpciyOehKGuN9GH9OuIb299rBwE9bsTqmb26Ju6opaR_RkWnQarH6w8bIA9NaRBdZ-hT7UDWcgO5bcFuFneiUZAmvmPU1K998YJ7c83ZNQVHHA=s715",alt:"logo",style:{width:"120px",height:"120px"}})}),(0,d.jsxs)("td",{children:[(0,d.jsx)("h2",{children:"AKENTEN APPIAH-MENKA UNIVERSITY"}),(0,d.jsx)("p",{children:"ACADEMIC AFFAIRS OFFICE"}),(0,d.jsx)("p",{children:"TANOSO-KUMASI"})]})]})})}),(0,d.jsx)("p",{style:{textAlign:"center",color:"#fff",backgroundColor:"#000",padding:"10px 0"},children:"OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD"}),(0,d.jsx)(i.Z,{}),(0,d.jsxs)("table",{width:"100%",style:{textAlign:"center"},children:[(0,d.jsx)("tr",{style:{backgroundColor:"#8C1438"},children:(0,d.jsx)("td",{style:{color:"#fff",padding:"8px"},children:"STUDENT INFORMATION"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{style:{padding:"10px 0"}})})]}),(0,d.jsxs)("table",{width:"100%",children:[(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Student Number "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.indexNumber})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:"Full Name"}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.fullname})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Date of Birth "}),(0,d.jsx)("p",{children:new Date(null===n||void 0===n?void 0:n.dob).toLocaleDateString()})]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:"Gender "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.gender})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Programme "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.programme})]})]})]}),(0,d.jsx)("div",{style:{width:"100%"},children:0===t.length?null:c})]})})}},12251:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ze}});var r=t(1413),i=t(29439),l=t(72791),o=t(68087),s=t(6907),d=t(91933),a=t(4567),u=t(64554),c=t(48312),h=t(65469),x=t(94721),m=t(63515),p=t(5849),f=t(46314),j=t(93006),Z=t(61820),g=t(13967),v=t(5574),b=t(65661),C=t(4899),S=t(60220),y=t(81153),E=t(77386),N=t(4799),P=t.n(N),I=t(65639),A=t(88970),w=t(25801),T=t(45363),D=t(17133),q=t(92810),z=t(92506),k=t(81724),F=t(43992),W=t(12258),O=t(90110),B=t(99873),R=t(41286),M=t(80184);var _,L=function(e){var n=e.open,t=e.setOpen,o=(0,l.useContext)(B.D).customState,s=(0,g.Z)().palette,c=(0,d.useQueryClient)(),h=["100","200","300","400"],m=(0,l.useState)([]),Z=(0,i.Z)(m,2),N=Z[0],_=Z[1],L=(0,l.useState)([]),H=(0,i.Z)(L,2),V=H[0],Y=H[1];(0,l.useEffect)((function(){var e=[],n=[];o.departmentOptions.forEach((function(n,t){e.push(n.department)})),o.programmeOptions.forEach((function(e,t){n.push(e.programme)})),_(e),Y(n)}),[o.programmeOptions,o.departmentOptions]);var G=(0,l.useState)(null),Q=(0,i.Z)(G,2),U=Q[0],K=Q[1],J=(0,l.useState)(""),X=(0,i.Z)(J,2),$=X[0],ee=X[1],ne=(0,l.useState)("Male"),te=(0,i.Z)(ne,2),re=te[0],ie=te[1],le=(0,l.useState)("1995-12-13"),oe=(0,i.Z)(le,2),se=oe[0],de=(oe[1],(0,l.useState)("")),ae=(0,i.Z)(de,2),ue=ae[0],ce=ae[1],he=(0,l.useState)(""),xe=(0,i.Z)(he,2),me=xe[0],pe=xe[1],fe=(0,l.useState)(""),je=(0,i.Z)(fe,2),Ze=je[0],ge=je[1],ve=(0,l.useState)(null),be=(0,i.Z)(ve,2),Ce=be[0],Se=be[1],ye=(0,l.useState)(null),Ee=(0,i.Z)(ye,2),Ne=Ee[0],Pe=Ee[1],Ie=(0,l.useState)(null),Ae=(0,i.Z)(Ie,2),we=Ae[0],Te=Ae[1],De={profile:U,fullname:$,gender:re,dob:se,email:ue,address:me,telephoneNo:Ze,department:Ce,programme:Ne,level:we},qe=(0,k.Ry)().shape({fullname:(0,k.Z_)().trim().required("required*"),gender:(0,k.Z_)().trim().required("required*"),dob:(0,k.hT)().required("required*"),email:(0,k.Z_)().trim().required("required").email("Invalid email address"),address:(0,k.Z_)().trim().required("required"),telephoneNo:(0,k.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,k.Z_)().trim().required("required*").nullable(!0),programme:(0,k.Z_)().trim().required("required*").nullable(!0),level:(0,k.Z_)().required("required*").nullable(!0)}),ze=(0,d.useMutation)(O.tS);return(0,M.jsxs)(v.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,M.jsx)(b.Z,{title:"Add Student",borderBottom:"1px solid #8C1438",children:(0,M.jsxs)(a.Z,{children:[(0,M.jsx)(F.Z,{})," Add Student"]})}),(0,M.jsx)(z.J9,{initialValues:De,validationSchema:qe,onSubmit:function(e,n){n.setSubmitting(!0);var t=(0,q.Z)().split("-")[0];e.indexNumber=t,ze.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),c.invalidateQueries(["student"])},onSuccess:function(e){P().fire({icon:"success",iconColor:s.primary.main,title:"Success",text:"Student saved successfully!!!",confirmButtonColor:"#8C1438"}),n.resetForm()},onError:function(e){P().fire({icon:"error",iconColor:s.primary.main,title:"Error",text:e,confirmButtonColor:s.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,i=e.values,l=e.errors,o=e.touched,s=e.handleChange,d=e.handleSubmit;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(C.Z,{children:[(0,M.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,M.jsx)(S.Z,{src:null===U?null:URL.createObjectURL(U),sx:{width:100,height:100,position:"relative"}}),(0,M.jsx)(D.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#8C1438"},children:(0,M.jsx)(R.Z,{sx:{width:16,color:"#fff"}})}),(0,M.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return K(e.target.files[0])}})]}),(0,M.jsx)(a.Z,{children:"1.Personal Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:$,error:Boolean(o.fullname&&l.fullname),helperText:l.fullname,onChange:function(e){return ee(e.currentTarget.value)},required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:i.dob,error:Boolean(o.dob&&l.dob),helperText:l.dob,onChange:s("dob"),required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsxs)(T.Z,{children:[(0,M.jsx)(D.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,M.jsxs)(A.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:re,onChange:function(e,n){return ie(n)},children:[(0,M.jsx)(w.Z,{value:"Male",control:(0,M.jsx)(I.Z,{}),label:"Male"}),(0,M.jsx)(w.Z,{value:"Female",control:(0,M.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,M.jsx)(a.Z,{children:"2.Contact Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:ue,error:Boolean(o.email&&l.email),helperText:l.email,onChange:function(e){return ce(e.currentTarget.value)},required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:Ze,error:Boolean(o.telephoneNo&&l.telephoneNo),helperText:l.telephoneNo,onChange:function(e,n){return ge(e.currentTarget.value)}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:me,error:Boolean(o.address&&l.address),helperText:l.address,onChange:function(e){return pe(e.currentTarget.value)}})})]}),(0,M.jsx)(a.Z,{children:"3.Academic Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:N,value:Ce,onChange:function(e,n){return Se(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(o.department&&l.department),helperText:l.department}))}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:V,value:Ne,onChange:function(e,n){return Pe(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(o.programme&&l.programme),helperText:l.programme}))}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:h,value:we,onChange:function(e,n){return Te(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(o.level&&l.level),helperText:l.level}))}})})]})]}),(0,M.jsxs)(E.Z,{children:[(0,M.jsx)(W.Z,{disabled:n,variant:"contained",onClick:d,loading:n,children:"Save"}),(0,M.jsx)(p.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})},H=t(98274),V=t(10477),Y=t(74165),G=t(15861),Q=t(15617),U=t.n(Q),K=t(44059),J=t(60183),X=t(53767),$=t(58340),ee=t(81639),ne=t(74223),te=(0,ne.Z)((0,M.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilitySharp"),re=(0,ne.Z)((0,M.jsx)("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4h4zm-7 4h-4l1-4h4l-1 4z"}),"NumbersSharp"),ie=t(38820),le=t(4208),oe=t(89712),se=t(73767),de=t(16871),ae=t(90038),ue=t(763),ce=t.n(ue);_="https://aamusted-results.herokuapp.com";var he=function(e){var n=e.open,t=e.setOpen,o=(0,d.useQueryClient)(),s=(0,l.useContext)(B.D).customState,c=(0,g.Z)().palette,h=["100","200","300","400"],m=(0,l.useState)([]),Z=(0,i.Z)(m,2),N=Z[0],q=Z[1],F=(0,l.useState)([]),R=(0,i.Z)(F,2),L=R[0],H=R[1],V=(0,l.useState)(""),Y=(0,i.Z)(V,2),G=Y[0],Q=Y[1],U=(0,l.useState)(null),K=(0,i.Z)(U,2),J=K[0],X=K[1],$=(0,l.useState)(""),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1],re=(0,l.useState)("Male"),le=(0,i.Z)(re,2),oe=le[0],se=le[1],de=(0,l.useState)(""),ae=(0,i.Z)(de,2),ue=ae[0],he=ae[1],xe=(0,l.useState)(""),me=(0,i.Z)(xe,2),pe=me[0],fe=me[1],je=(0,l.useState)(""),Ze=(0,i.Z)(je,2),ge=Ze[0],ve=Ze[1],be=(0,l.useState)(""),Ce=(0,i.Z)(be,2),Se=Ce[0],ye=Ce[1],Ee=(0,l.useState)(null),Ne=(0,i.Z)(Ee,2),Pe=Ne[0],Ie=Ne[1],Ae=(0,l.useState)(null),we=(0,i.Z)(Ae,2),Te=we[0],De=we[1],qe=(0,l.useState)(null),ze=(0,i.Z)(qe,2),ke=ze[0],Fe=ze[1];(0,l.useEffect)((function(){var e=[],n=[];s.departmentOptions.forEach((function(n,t){e.push(n.department)})),s.programmeOptions.forEach((function(e,t){n.push(e.programme)})),q(e),H(n)}),[s.programmeOptions,s.departmentOptions]),(0,l.useEffect)((function(){var e,n,t,r,i,l,o,d,a,u,c;ce().isEmpty(s.studentEditData)||(Q(null===s||void 0===s||null===(e=s.studentEditData)||void 0===e?void 0:e._id),X(null===s||void 0===s||null===(n=s.studentEditData)||void 0===n?void 0:n.profile),te(null===s||void 0===s||null===(t=s.studentEditData)||void 0===t?void 0:t.fullname),se(null===s||void 0===s||null===(r=s.studentEditData)||void 0===r?void 0:r.gender),he(null===s||void 0===s||null===(i=s.studentEditData)||void 0===i?void 0:i.dob),fe(null===s||void 0===s||null===(l=s.studentEditData)||void 0===l?void 0:l.email),ve(null===s||void 0===s||null===(o=s.studentEditData)||void 0===o?void 0:o.address),ye(null===s||void 0===s||null===(d=s.studentEditData)||void 0===d?void 0:d.telephoneNo),Ie(null===s||void 0===s||null===(a=s.studentEditData)||void 0===a?void 0:a.department),De(null===s||void 0===s||null===(u=s.studentEditData)||void 0===u?void 0:u.programme),Fe(null===s||void 0===s||null===(c=s.studentEditData)||void 0===c?void 0:c.level))}),[s.studentEditData]);var We=(0,k.Ry)().shape({fullname:(0,k.Z_)().trim().required("required*"),gender:(0,k.Z_)().trim().required("required*"),dob:(0,k.hT)().required("required*"),email:(0,k.Z_)().trim().required("required").email("Invalid email address"),address:(0,k.Z_)().trim().required("required"),telephoneNo:(0,k.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,k.Z_)().trim().required("required*").nullable(!0),programme:(0,k.Z_)().trim().required("required*").nullable(!0),level:(0,k.Z_)().required("required*").nullable(!0)}),Oe=(0,d.useMutation)(O.Gc);return(0,M.jsxs)(v.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,M.jsxs)(b.Z,{children:[(0,M.jsx)(ie.Z,{})," Edit Student"]}),(0,M.jsx)(z.J9,{initialValues:{_id:G,profile:J,fullname:ne,gender:oe,dob:ue,email:pe,address:ge,telephoneNo:Se,department:Pe,programme:Te,level:ke},validationSchema:We,onSubmit:function(e,n){n.setSubmitting(!0),Oe.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),o.invalidateQueries(["student"])},onSuccess:function(e){P().fire({icon:"success",iconColor:c.primary.main,title:"Success",text:"Student information updated!",confirmButtonColor:c.primary.main}),n.resetForm()},onError:function(e){P().fire({icon:"error",iconColor:c.primary.main,title:"Error",text:"Error updating student info.Please try again",confirmButtonColor:c.primary.main})}})},enableReinitialize:!0,children:function(e){var n,i,l,o,d=e.isSubmitting,c=e.values,m=e.errors,Z=e.touched,g=e.handleChange,v=e.handleSubmit;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(C.Z,{children:[(0,M.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto"},children:[(0,M.jsx)(S.Z,{src:""===(null===s||void 0===s||null===(n=s.studentEditData)||void 0===n?void 0:n.profile)||void 0===(null===s||void 0===s||null===(i=s.studentEditData)||void 0===i?void 0:i.profile)||null===(null===s||void 0===s||null===(l=s.studentEditData)||void 0===l?void 0:l.profile)?null:"".concat(_,"/images/").concat(null===s||void 0===s||null===(o=s.studentEditData)||void 0===o?void 0:o.profile),sx:{width:100,height:100,position:"relative"}}),(0,M.jsx)(D.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#8C1438"},children:(0,M.jsx)(ie.Z,{sx:{width:16,color:"#fff"}})}),(0,M.jsx)("input",{type:"file",hidden:!0,id:"profile"})]}),(0,M.jsx)(a.Z,{fontWeight:"bold",children:"1.Personal Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:ne,error:Boolean(Z.fullname&&m.fullname),helperText:m.fullname,onChange:function(e){return te(e.currentTarget.value)},required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{placeholder:"",type:"date",fullWidth:!0,size:"small",value:c.dob,error:Boolean(Z.dob&&m.dob),helperText:m.dob,onChange:g("dob"),required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsxs)(T.Z,{children:[(0,M.jsx)(D.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,M.jsxs)(A.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:oe,onChange:function(e,n){return se(n)},children:[(0,M.jsx)(w.Z,{value:"Male",control:(0,M.jsx)(I.Z,{}),label:"Male"}),(0,M.jsx)(w.Z,{value:"Female",control:(0,M.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,M.jsx)(a.Z,{fontWeight:"bold",children:"2.Contact Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:pe,error:Boolean(Z.email&&m.email),helperText:m.email,onChange:function(e){return fe(e.currentTarget.value)},required:!0})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:Se,error:Boolean(Z.telephoneNo&&m.telephoneNo),helperText:m.telephoneNo,onChange:function(e,n){return ye(e.currentTarget.value)}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(j.Z,{label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:ge,error:Boolean(Z.address&&m.address),helperText:m.address,onChange:function(e){return ve(e.currentTarget.value)}})})]}),(0,M.jsx)(a.Z,{fontWeight:"bold",children:"3.Academic Information"}),(0,M.jsx)(x.Z,{}),(0,M.jsxs)(y.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:N,value:Pe,onChange:function(e,n){return Ie(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(Z.department&&m.department),helperText:m.department}))}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:L,value:Te,onChange:function(e,n){return De(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(Z.programme&&m.programme),helperText:m.programme}))}})}),(0,M.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,M.jsx)(f.Z,{disablePortal:!0,options:h,value:ke,onChange:function(e,n){return Fe(n)},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(Z.level&&m.level),helperText:m.level}))}})})]})]}),(0,M.jsxs)(E.Z,{children:[(0,M.jsx)(W.Z,{disabled:d,variant:"contained",onClick:v,loading:d,children:"Save Changes"}),(0,M.jsx)(p.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var xe=function(e){var n=e.open,t=e.setOpen,r=(0,l.useContext)(B.D).customState,o=(0,l.useState)(""),s=(0,i.Z)(o,2),a=s[0],c=s[1],h=(0,l.useState)(" Assign New Index Number"),x=(0,i.Z)(h,2),m=x[0],f=x[1];(0,l.useEffect)((function(){"object"===typeof r.assignedIndexNo&&f("Start Index Number")}),[r.assignedIndexNo]);var Z=(0,d.useMutation)(O.KV);return(0,M.jsxs)(v.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return t(!1)},children:[(0,M.jsx)(b.Z,{title:m,textAlign:"center",children:m}),(0,M.jsx)(C.Z,{children:(0,M.jsx)(u.Z,{padding:2,children:(0,M.jsx)(j.Z,{label:"Index Number",fullWidth:!0,value:a,onChange:function(e){return c(e.currentTarget.value)}})})}),(0,M.jsxs)(E.Z,{children:[(0,M.jsx)(p.Z,{onClick:function(){var e=r.assignedIndexNo,n=[];if("object"===typeof e){var t=a;e.map((function(e){var r={indexNumber:t,id:e._id};return n.push(r),t++,r}))}else n.push({indexNumber:a,id:r.assignedIndexNo});Z.mutateAsync(n,{onSuccess:function(e){P().fire({icon:"success",iconColor:"#8C1438",title:"Success",text:"Index Number Updated!!!",confirmButtonColor:"#8C1438"})}})},children:"Save"}),(0,M.jsx)(p.Z,{onClick:function(){return t(!1)},children:"Cancel"})]})]})},me=t(76385),pe=t(92633);function fe(e){var n=e.heading,t=e.isLoading,o=e.data,s=e.refresh,a=e.sortComponent,c=(0,de.s0)(),h=(0,l.useContext)(B.D).customDispatch,x=(0,g.Z)().palette,p=(0,d.useQueryClient)(),f=(0,l.useState)("none"),j=(0,i.Z)(f,2),Z=j[0],v=j[1],b=(0,l.useState)(!1),C=(0,i.Z)(b,2),y=C[0],E=C[1],N=(0,l.useState)(!1),I=(0,i.Z)(N,2),A=I[0],w=I[1],T=(0,l.useState)([]),D=(0,i.Z)(T,2),q=D[0],z=D[1],k=(0,l.useState)([]),F=(0,i.Z)(k,2),R=F[0],_=F[1],L=(0,l.useState)(!1),H=(0,i.Z)(L,2),V=H[0],ne=H[1],ue=(0,l.useState)(!1),ce=(0,i.Z)(ue,2),fe=ce[0],je=ce[1],Ze=(0,l.useState)({severity:"",msg:""}),ge=(0,i.Z)(Ze,2),ve=ge[0],be=ge[1];(0,l.useEffect)((function(){return window.addEventListener("scroll",Ce),function(){window.removeEventListener("scroll",Ce)}}));var Ce=function(e){var n=window.scrollY;v(n>=340?"block":"none")},Se=(0,d.useMutation)(O.MA),ye=(0,d.useMutation)(me.bN),Ee=(0,d.useMutation)(me.G);function Ne(e){P().fire({icon:"question",title:"Deleting",text:"Do you want to remove student?",timer:5e3,confirmButtonColor:x.primary.main,denyButtonColor:x.secondary.main,showCancelButton:!0}).then((function(n){!0===n.isConfirmed&&Se.mutateAsync(e,{onSettled:function(){p.invalidateQueries(["student"])},onSuccess:function(e){P().fire({icon:"success",title:"Deleted",text:"Student info has been removed successfully!!!",confirmButtonColor:x.primary.main})}})})).catch((function(e){}))}function Pe(e){ne(!0);var n=e.map((function(e){return e.indexNumber}));Promise.all(n).then((function(e){ye.mutateAsync(e,{onSettled:function(){ne(!1)},onSuccess:function(e){_(e),be({severity:"info",msg:"Results of ".concat(e.length," students generated!!")})}})}))}var Ie=function(){je(!0);var e=R.map((function(e){var n=(0,$.uS)((0,M.jsx)(pe.Z,{studentInfo:e.student,studentRecord:e.result}));return{fullname:e.student.fullname,indexNumber:e.student.indexNumber,email:e.student.email,telephoneNo:e.student.telephoneNo,htmlText:n}}));Promise.all(e).then((function(e){Ee.mutateAsync(e,{onSettled:function(){je(!1),z([]),_([]),s()},onSuccess:function(e){be({severity:"success",msg:"Results of ".concat(e," students published!!")}),P().fire({icon:"success",iconColor:"#8C1438",title:"Success",text:"Results of ".concat(e," students published!!"),confirmButtonColor:"#8C1438"})}})}))},Ae=function(){be({severity:"",msg:""})};return(0,M.jsxs)(M.Fragment,{children:[ve.msg&&(0,M.jsx)(m.Z,{severity:ve.severity,onClose:Ae,children:ve.msg}),(0,M.jsxs)(u.Z,{sx:{paddingY:2},children:[(0,M.jsxs)(u.Z,{sx:{display:Z,width:"100%",backgroundColor:"#fff",transition:"all 500ms ease-in-out",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"sticky",top:160,zIndex:100},children:[(0,M.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,M.jsx)(W.Z,{loading:V,variant:"contained",onClick:function(){return Pe(q)},disabled:0===q.length,children:"Generate Results"}),(0,M.jsx)(W.Z,{loading:fe,variant:"contained",onClick:Ie,disabled:0===R.length,children:"Publish Results"})]}),ve.msg&&(0,M.jsx)(m.Z,{severity:ve.severity,onClose:Ae,children:ve.msg})]}),(0,M.jsx)(U(),{icons:ae.P,title:n,isLoading:t,components:{Toolbar:function(e){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Q.MTableToolbar,(0,r.Z)({},e)),a,(0,M.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,M.jsx)(W.Z,{loading:V,variant:"contained",onClick:function(){return Pe(q)},disabled:0===q.length,children:"Generate Results"}),(0,M.jsx)(W.Z,{loading:fe,variant:"contained",onClick:Ie,disabled:0===R.length,children:"Publish Results"})]})]})}},style:{borderTop:"solid 2px #8C1438",boxShadow:"0px 0px 13px 0px rgb(82 63 105 / 10%)",borderRadius:"10px",transition:"all 1000ms linear ease-in-out"},options:{selection:!0,pageSizeOptions:[5,10,20,50,100],exportButton:!0,exportMenu:[{label:"Export PDF",exportFunc:function(e,t){return(0,K.oK)(e,t,n)}},{label:"Export CSV",exportFunc:function(e,t){return(0,K.b6)(e,t,n)}}]},columns:[{title:"ID",field:"_id",hidden:!0},{title:"Index Number",field:"indexNumber"},{title:"Profile",field:"profile",render:function(e){return(0,M.jsx)(S.Z,{src:""===e.profile||void 0===e.profile||null===e.profile?null:"".concat("https://aamusted-results.herokuapp.com","/images/").concat(e.profile)})},grouping:!1,export:!1},{title:"Fullname",field:"fullname"},{title:"Gender",field:"gender"},{title:"DOB",field:"dob",hidden:!0},{title:"Email",field:"email",width:"100px"},{title:"Telephone No.",field:"telephoneNo",hidden:!0},{title:"Department",field:"department",hidden:!0},{title:"Programme",field:"programme"},{title:"Level",field:"level"},{title:"Options",sorting:!1,export:!1,grouping:!1,render:function(e){return(0,M.jsxs)(se.v2,{style:{zIndex:2e3},children:[(0,M.jsx)(se.j2,{style:{backgroundColor:"transparent",outline:"none",border:"none"},children:(0,M.jsx)(ee.Z,{})}),(0,M.jsxs)(se.qy,{children:[(0,M.jsxs)(se.sN,{onSelect:function(){localStorage.setItem("indexNumber",e.indexNumber),h({type:"currentStudentIndexNumber",payload:e.indexNumber}),c("/info/student-personal-info",{replace:!0})},children:[(0,M.jsx)(te,{fontSize:"32px"}),(0,M.jsx)("span",{children:"View Student Info"})]}),(0,M.jsxs)(se.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function n(){return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h({type:"assignIndexNo",payload:e._id});case 2:w(!0);case 3:case"end":return n.stop()}}),n)}))),children:[(0,M.jsx)(re,{fontSize:"32px"}),(0,M.jsx)("span",{children:"Assign Index Number"})]}),(0,M.jsx)(se.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function t(){return(0,Y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({type:n,payload:e});case 2:E(!0);case 3:case"end":return t.stop()}}),t)}))),children:(0,M.jsxs)(X.Z,{direction:"row",children:[(0,M.jsx)(ie.Z,{fontSize:"32px"}),(0,M.jsx)("span",{children:"Edit"})]})}),(0,M.jsxs)(se.sN,{onSelect:function(){Ne(e._id)},children:[(0,M.jsx)(le.Z,{fontSize:"32px"}),(0,M.jsx)("span",{children:"Delete"})]})]})]})}}],data:o,actions:[{position:"toolbar",icon:function(){return(0,M.jsx)(oe.Z,{})},tooltip:"Refresh",isFreeAction:!0,onClick:function(){s()}},{position:"auto",tooltip:"Assign Index Number",icon:function(){return(0,M.jsx)(re,{fontSize:"32px"})},onClick:function(){var e=(0,G.Z)((0,Y.Z)().mark((function e(n,t){return(0,Y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({type:"assignIndexNo",payload:t});case 2:w(!0);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{position:"auto",tooltip:"Delete Students",icon:function(){return(0,M.jsx)(le.Z,{})},onClick:function(e,n){var t=[];n.map((function(e){return t.push(e._id)})),Ne(t)}}],onSelectionChange:function(e){z(e)}})]}),(0,M.jsx)(he,{open:y,setOpen:E}),(0,M.jsx)(xe,{open:A,setOpen:w})]})}var je=l.memo(fe),Ze=function(){var e=(0,l.useContext)(B.D),n=e.customState,t=e.customDispatch,g=(0,l.useState)(!1),v=(0,i.Z)(g,2),b=v[0],C=v[1],S=(0,l.useState)(""),y=(0,i.Z)(S,2),E=y[0],N=y[1],P=(0,l.useState)({department:"",programme:"",level:""}),I=(0,i.Z)(P,2),A=I[0],w=I[1],T=(0,l.useState)([]),D=(0,i.Z)(T,2),q=D[0],z=D[1],k=(0,l.useState)([]),F=(0,i.Z)(k,2),W=F[0],R=F[1],_=(0,d.useQuery)(["student",A],(function(){return(0,O.uH)(A)}),{retry:3,onSuccess:function(e){t({type:"allStudents",payload:e})},onError:function(e){N(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,d.useQuery)(["department"],H.Sj,{retry:3,onSuccess:function(e){t({type:"departOptions",payload:e})}}),(0,d.useQuery)(["programme"],V.Sc,{retry:3,onSuccess:function(e){t({type:"progOptions",payload:e})}}),(0,l.useEffect)((function(){var e=[],t=[];n.departmentOptions.forEach((function(n,t){e.push(n.department)})),n.programmeOptions.forEach((function(e,n){t.push(e.programme)})),z(e),R(t)}),[n.programmeOptions,n.departmentOptions]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.ql,{children:(0,M.jsx)("title",{children:" AAMUSTED Results System | Student"})}),(0,M.jsxs)("section",{className:"student-container",children:[(0,M.jsx)(Z.Z,{children:(0,M.jsxs)("section",{children:[(0,M.jsx)(a.Z,{variant:"h4",children:"Students"}),(0,M.jsx)(a.Z,{variant:"body2",children:"View and manage student information"}),(0,M.jsx)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,M.jsxs)(c.Z,{children:[(0,M.jsx)(h.Z,{children:"Home"}),(0,M.jsx)(a.Z,{children:"Student"})]})}),(0,M.jsx)(x.Z,{}),_.isLoading&&(0,M.jsx)(m.Z,{severity:"info",children:"Loading"}),E&&(0,M.jsx)(m.Z,{severity:"error",children:E}),(0,M.jsx)(u.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,M.jsx)(p.Z,{variant:"contained",disableElevation:!0,color:"secondary",startIcon:(0,M.jsx)(o.Z,{}),onClick:function(){return C(!0)},children:"New Student"})}),(0,M.jsx)(a.Z,{gutterBottom:!0,children:"Sort by :"}),(0,M.jsxs)(u.Z,{sx:{display:"flex",justifyContent:{xs:"center",md:"flex-start"},alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,M.jsx)(f.Z,{disablePortal:!0,options:q,onChange:function(e,n){return w((0,r.Z)((0,r.Z)({},A),{},{department:n}))},sx:{width:250},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Department",size:"small",fullWidth:!0}))}}),(0,M.jsx)(f.Z,{disablePortal:!0,options:W,onChange:function(e,n){return w((0,r.Z)((0,r.Z)({},A),{},{programme:n}))},sx:{width:250},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Programme",size:"small",fullWidth:!0}))}}),(0,M.jsx)(f.Z,{disablePortal:!0,options:["100","200","300","400"],onChange:function(e,n){return w((0,r.Z)((0,r.Z)({},A),{},{level:n}))},sx:{width:250},renderInput:function(e){return(0,M.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Level",size:"small",fullWidth:!0}))}})]}),(0,M.jsx)(je,{isLoading:_.isLoading,heading:"Student",data:_.data,refresh:_.refetch})]})}),(0,M.jsx)(L,{open:b,setOpen:C})]})]})}},68087:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},4208:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteSharp")},38820:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},43992:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd")}}]);
//# sourceMappingURL=251.4329a8ca.chunk.js.map
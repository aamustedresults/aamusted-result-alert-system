"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[783],{94783:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r=t(29439),a=t(72791),i=t(6907),o=t(4567),s=t(64554),l=t(48312),c=t(65469),u=t(94721),d=t(61474),m=t(61820),h=t(83449),p=t(47283),f=t(2249),x=t(68087),j=t(5849),Z=t(97892),y=t(1413),g=t(13967),v=t(5574),C=t(65661),S=t(4899),b=t(53767),D=t(46314),B=t(93006),z=t(77386),E=t(12258),P=t(92506),W=t(81724),O=t(64130),w=t(91933),A=t(98274),Q=t(4799),T=t.n(Q),k=t(99873),F=t(91372),L=t(80184);var N=function(e){var n=e.open,t=e.setOpen,i=((0,a.useContext)(k.D).customState,(0,g.Z)().palette),o=(0,w.useQueryClient)(),s=(0,a.useState)([]),l=(0,r.Z)(s,2),c=l[0],u=l[1],d=(0,a.useState)(null),m=(0,r.Z)(d,2),h=m[0],p=m[1];(0,w.useQuery)(["faculty"],F.uf,{onSuccess:function(e){var n=e.map((function(e){return e.faculty}));u(n)}});var f={id:"",faculty:h,department:""},x=W.Ry().shape({department:W.Z_().trim().required(),faculty:W.Z_().trim().required().nullable(!0)}),Z=(0,w.useMutation)(A.BZ);return(0,L.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return t(!1)},tabIndex:"-1",children:[(0,L.jsxs)(C.Z,{title:"Add Department",children:[(0,L.jsx)(O.Z,{}),"Add Department"]}),(0,L.jsx)(P.J9,{initialValues:f,validationSchema:x,onSubmit:function(e,n){n.setSubmitting(!0),Z.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),o.invalidateQueries(["department"])},onSuccess:function(e){T().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Department added!!!",confirmButtonColor:i.primary.main})},onError:function(e){T().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:"Error saving department information.Please try again",confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.values,r=e.errors,a=e.handleChange,i=e.handleSubmit,o=e.handleBlur,s=e.touched,l=e.isSubmitting;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(S.Z,{children:(0,L.jsxs)(b.Z,{paddingTop:2,rowGap:3,children:[(0,L.jsx)(D.Z,{id:"faculty",size:"small",options:c,value:h,onChange:function(e,n){return p(n)},renderInput:function(e){return(0,L.jsx)(B.Z,(0,y.Z)((0,y.Z)({label:"Select faculty",size:"small",placeholder:"Select faculty",fullWidth:!0},e),{},{error:Boolean(s.faculty&&r.faculty),helperText:r.faculty,autoFocus:!0}))}}),(0,L.jsx)(B.Z,{label:"Department",size:"small",fullWidth:!0,value:n.department,onChange:a("department"),onBlur:o("department"),error:s.department&&r.department,helperText:r.department})]})}),(0,L.jsxs)(z.Z,{children:[(0,L.jsx)(E.Z,{variant:"contained",loading:l,onClick:i,sx:{minWidth:100},children:"Add"}),(0,L.jsx)(j.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})},R=t(60502);var V=function(){var e=(0,a.useContext)(k.D).customDispatch,n=(0,w.useQuery)(["department"],A.Sj,{onSuccess:function(n){e({type:"departOptions",payload:n})}}),t=(0,a.useState)(!1),i=(0,r.Z)(t,2),o=i[0],l=i[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return l(!0)},startIcon:(0,L.jsx)(x.Z,{}),children:"Add New Department"})}),(0,L.jsx)(Z.Z,{isLoading:n.isLoading,heading:"Department",columns:R.pu,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,L.jsx)(N,{open:o,setOpen:l})]})},q=t(10477);var I=function(e){var n=e.open,t=e.setOpen,i=(0,g.Z)().palette,o=(0,a.useContext)(k.D).customState,s=(0,w.useQueryClient)(),l=(0,a.useState)([]),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,a.useState)(null),h=(0,r.Z)(m,2),p=h[0],f=h[1],x=(0,a.useState)(""),Z=(0,r.Z)(x,2),O=Z[0],A=Z[1];(0,a.useEffect)((function(){var e=[];o.departmentOptions.forEach((function(n,t){e.push(n.department)})),d(e)}),[o.departmentOptions]);var Q={id:"",programme:O,department:p},F=W.Ry().shape({department:W.Z_().trim().required().nullable(!0),programme:W.Z_().trim().required()}),N=(0,w.useMutation)(q.Eg);return(0,L.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return t(!1)},children:[(0,L.jsx)(C.Z,{title:"Add Department",children:"Add Programme"}),(0,L.jsx)(P.J9,{initialValues:Q,validationSchema:F,onSubmit:function(e,n){n.setSubmitting(!0),N.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),s.invalidateQueries(["programme"])},onSuccess:function(e){T().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Programme addeed!!!",confirmButtonColor:i.primary.main}),s.invalidateQueries(["programme"])},onError:function(e){T().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:"Error saving programme information.Please try again",confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,r=e.values,a=e.errors,i=e.touched,o=(e.handleChange,e.handleSubmit);e.handleBlur;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(S.Z,{children:(0,L.jsxs)(b.Z,{paddingTop:2,rowGap:3,children:[(0,L.jsx)(D.Z,{id:"department",disablePortal:!0,size:"small",options:u,value:p,onChange:function(e,n){return f(n)},renderInput:function(e){return(0,L.jsx)(B.Z,(0,y.Z)((0,y.Z)({label:"Select Department",size:"small",placeholder:"Select Department",fullWidth:!0},e),{},{error:Boolean(i.department&&a.department),helperText:a.department,autoFocus:!0}))}}),(0,L.jsx)(B.Z,{label:"Programme",size:"small",fullWidth:!0,id:"programe",placeholder:"Enter Programme here",value:r.programme,onChange:function(e,n){return A(e.currentTarget.value)},error:Boolean(i.programme&&a.programme),helperText:a.programme})]})}),(0,L.jsxs)(z.Z,{children:[(0,L.jsx)(E.Z,{loading:n,onClick:o,sx:{minWidth:100},variant:"contained",children:"Save"}),(0,L.jsx)(j.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var M=function(){var e=(0,a.useContext)(k.D).customDispatch,n=(0,a.useState)(!1),t=(0,r.Z)(n,2),i=t[0],o=t[1],l=(0,w.useQuery)(["programme"],q.Sc,{onSuccess:function(n){e({type:"progOptions",payload:n})}});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("section",{children:(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,L.jsx)(x.Z,{}),children:"Add New Programme"})}),(0,L.jsx)(Z.Z,{heading:"Programme",columns:R.lU,data:l.data,refresh:l.refetch})]})}),(0,L.jsx)(I,{open:i,setOpen:o})]})},_=t(41992),H=t(19895);var J=function(e){var n=e.open,t=e.setOpen,i=(0,a.useContext)(k.D).customState,o=(0,g.Z)().palette,s=(0,w.useQueryClient)(),l=(0,a.useState)([]),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,a.useState)(null),h=(0,r.Z)(m,2),p=h[0],f=h[1],x=(0,a.useState)(""),Z=(0,r.Z)(x,2),O=Z[0],A=Z[1],Q=(0,a.useState)(""),F=(0,r.Z)(Q,2),N=F[0],R=F[1];(0,a.useEffect)((function(){var e=[];i.programmeOptions.forEach((function(n,t){e.push(n.programme)})),d(e)}),[i.programmeOptions]);var V={id:"",programme:p,code:O,course:N},q=W.Ry().shape({programme:W.Z_().trim().required().nullable(!0),code:W.Z_().trim().required(),course:W.Z_().trim().required()}),I=(0,w.useMutation)(H.bq);return(0,L.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return t(!1)},children:[(0,L.jsxs)(C.Z,{title:"Add New Course",children:[(0,L.jsx)(_.Z,{}),"Add New Course"]}),(0,L.jsx)(P.J9,{initialValues:V,validationSchema:q,onSubmit:function(e,n){n.setSubmitting(!0),I.mutateAsync(e,{onSettled:function(){s.invalidateQueries(["course"]),n.setSubmitting(!1)},onSuccess:function(e){T().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"New Course addeed!!!",confirmButtonColor:o.primary.main})},onError:function(e){T().fire({icon:"error",iconColor:o.primary.main,title:"Error",text:"Error saving course information.Please try again",confirmButtonColor:o.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,r=e.values,a=e.errors,i=e.touched,o=e.handleSubmit;e.handleBlur;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(S.Z,{children:(0,L.jsxs)(b.Z,{paddingTop:2,rowGap:2,children:[(0,L.jsx)(D.Z,{id:"programme",disablePortal:!0,size:"small",options:u,value:p,onChange:function(e,n){return f(n)},renderInput:function(e){return(0,L.jsx)(B.Z,(0,y.Z)((0,y.Z)({label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(i.programme&&a.programme),helperText:a.programme}))}}),(0,L.jsx)(B.Z,{label:"Course Code",id:"code",size:"small",placeholder:"Enter Course Code here",fullWidth:!0,value:r.code,onChange:function(e,n){return A(e.currentTarget.value)},error:Boolean(i.code&&a.code),helperText:a.code}),(0,L.jsx)(B.Z,{label:"Course",id:"course",size:"small",placeholder:"Enter Course here",fullWidth:!0,value:r.course,onChange:function(e,n){return R(e.currentTarget.value)},error:Boolean(i.course&&a.course),helperText:a.course})]})}),(0,L.jsxs)(z.Z,{children:[(0,L.jsx)(E.Z,{variant:"contained",loading:n,onClick:o,children:"Save"}),(0,L.jsx)(j.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var G=function(){var e=(0,w.useQuery)(["course"],H.V3),n=(0,a.useState)(!1),t=(0,r.Z)(n,2),i=t[0],o=t[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,L.jsx)(x.Z,{}),children:"Add New Course"})}),(0,L.jsx)(Z.Z,{isLoading:e.isLoading,heading:"Course",columns:R.dc,data:e.data?e.data:[],refresh:e.refetch})]}),(0,L.jsx)(J,{open:i,setOpen:o})]})},U=t(74223),K=(0,U.Z)((0,L.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-6.54 4.09c-.65.41-1.47.41-2.12 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"}),"LocalPostOfficeRounded"),X=(0,U.Z)((0,L.jsx)("path",{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"}),"House"),Y=(0,U.Z)((0,L.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeSharp"),$=(0,U.Z)((0,L.jsx)("path",{d:"M22 3h-3V1h-2v2H7V1H5v2H2v20h20V3zm-2 18H4V8h16v13z"}),"CalendarTodaySharp");var ee=function(e){var n=e.open,t=e.setOpen,r=(0,g.Z)().palette,a=(0,w.useQueryClient)(),i=W.Ry().shape({faculty:W.Z_().trim().required()}),o=(0,w.useMutation)(F.I5);return(0,L.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return t(!1)},tabIndex:"-1",children:[(0,L.jsxs)(C.Z,{title:"Add Department",children:[(0,L.jsx)(O.Z,{}),"New Faculty"]}),(0,L.jsx)(P.J9,{initialValues:{id:"",faculty:""},validationSchema:i,onSubmit:function(e,n){n.setSubmitting(!0),o.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),a.invalidateQueries(["faculty"])},onSuccess:function(e){T().fire({icon:"success",iconColor:r.primary.main,title:"Success",text:"New Faculty added!!!",confirmButtonColor:r.primary.main})},onError:function(e){T().fire({icon:"error",iconColor:r.primary.main,title:"Error",text:"Error saving faculty information.Please try again",confirmButtonColor:r.primary.main})}})},children:function(e){return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(S.Z,{children:(0,L.jsx)(b.Z,{paddingTop:2,children:(0,L.jsx)(B.Z,{label:"Faculty",size:"sm",fullWidth:!0,value:e.values.faculty,onChange:e.handleChange("faculty"),onBlur:e.handleBlur("faculty"),error:e.touched.faculty&&e.errors.faculty,helperText:e.errors.faculty})})}),(0,L.jsxs)(z.Z,{children:[(0,L.jsx)(E.Z,{variant:"contained",loading:e.isSubmitting,onClick:e.handleSubmit,sx:{minWidth:100},children:"Save"}),(0,L.jsx)(j.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var ne=function(){var e=(0,a.useContext)(k.D).customDispatch,n=(0,w.useQuery)(["faculty"],F.uf,{onSuccess:function(n){e({type:"facultyOptions",payload:n})}}),t=(0,a.useState)(!1),i=(0,r.Z)(t,2),o=i[0],l=i[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return l(!0)},startIcon:(0,L.jsx)(x.Z,{}),children:"New Faculty"})}),(0,L.jsx)(Z.Z,{isLoading:n.isLoading,heading:"Faculty",columns:R.WE,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,L.jsx)(ee,{open:o,setOpen:l})]})};var te=function(){var e=a.useState("1"),n=(0,r.Z)(e,2),t=n[0],x=n[1],j=(0,a.useContext)(k.D).customDispatch;return(0,w.useQuery)(["faculty"],F.uf,{onSuccess:function(e){j({type:"faculOptions",payload:e})}}),(0,w.useQuery)(["department"],A.Sj,{onSuccess:function(e){j({type:"departOptions",payload:e})}}),(0,w.useQuery)(["programme"],q.Sc,{onSuccess:function(e){j({type:"progOptions",payload:e})}}),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(i.ql,{children:(0,L.jsx)("title",{children:"AAMUSTED Results System | Department"})}),(0,L.jsx)("section",{className:"department-container",children:(0,L.jsx)(m.Z,{children:(0,L.jsxs)("section",{children:[(0,L.jsx)(o.Z,{variant:"h4",children:"Department"}),(0,L.jsx)(o.Z,{variant:"body2",children:"Assess and Manage various departments,programmes and courses"}),(0,L.jsx)(s.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,L.jsxs)(l.Z,{children:[(0,L.jsx)(c.Z,{children:"Home"}),(0,L.jsx)(o.Z,{children:"Department"})]})}),(0,L.jsx)(u.Z,{}),(0,L.jsxs)(h.ZP,{value:t,children:[(0,L.jsxs)(p.Z,{onChange:function(e,n){return x(n)},"aria-label":"department tabs",centered:!0,children:[(0,L.jsx)(d.Z,{label:"Faculty",value:"1",icon:(0,L.jsx)(K,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Department",value:"2",icon:(0,L.jsx)(X,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Programme",value:"3",icon:(0,L.jsx)(Y,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Course",value:"4",icon:(0,L.jsx)($,{}),iconPosition:"start"})]}),(0,L.jsx)(f.Z,{value:"1",children:(0,L.jsx)(ne,{})}),(0,L.jsx)(f.Z,{value:"2",children:(0,L.jsx)(V,{})}),(0,L.jsx)(f.Z,{value:"3",children:(0,L.jsx)(M,{})}),(0,L.jsx)(f.Z,{value:"4",children:(0,L.jsx)(G,{})})]})]})})})]})}}}]);
//# sourceMappingURL=783.faba76f2.chunk.js.map
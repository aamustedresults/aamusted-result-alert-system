"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[223],{35621:function(e,t,r){r.d(t,{eH:function(){return c},vu:function(){return l},zk:function(){return s}});var n,a=r(74165),i=r(15861),o=r(74569),u=r.n(o);n="https://aamusted-results.herokuapp.com";u().create({baseURL:"".concat(n,"/assigned_course"),timeout:1e4,headers:{"Content-Type":"application/json"}});var s=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/assigned_course/").concat(t),method:"GET"});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/assigned_course/all/").concat(t),method:"GET"});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/assigned_course"),method:"POST",data:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},19895:function(e,t,r){r.d(t,{A:function(){return p},Hf:function(){return d},V3:function(){return s},bq:function(){return c},jN:function(){return l}});var n,a=r(74165),i=r(15861),o=r(74569),u=r.n(o);n="https://aamusted-results.herokuapp.com";var s=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/course"),method:"GET"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/course"),method:"GET",params:{programme:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/course"),method:"POST",data:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/course"),method:"PUT",data:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!==typeof t){e.next=6;break}return e.next=4,u()({baseURL:"".concat(n,"/course"),method:"DELETE",params:{id:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:if("object"!==typeof t){e.next=10;break}return o=[],t.map(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({baseURL:"".concat(n,"/course"),method:"DELETE",params:{id:t}});case 2:r=e.sent,o.push(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},19873:function(e,t,r){r.d(t,{$B:function(){return m},ek:function(){return p},jl:function(){return c},r0:function(){return d}});var n,a=r(74165),i=r(15861),o=r(74569),u=r.n(o),s=r(92810);n="https://aamusted-results.herokuapp.com";var l=u().create({baseURL:"".concat(n,"/lecturer"),timeout:1e4,headers:{"Content-Type":"application/json"}}),c=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get();case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("profile",t.profile),r.append("professionalID",t.professionalID),r.append("fullname",t.fullname),r.append("gender",t.gender),r.append("dob",t.dob),r.append("email",t.email),r.append("address",t.address),r.append("telephoneNo",t.telephoneNo),r.append("department",t.department),e.prev=10,e.next=13,u()({baseURL:"".concat(n,"/lecturer"),method:"POST",data:r,headers:{"Content-Type":"multipart/form-data"},params:{_up:(0,s.Z)()}});case 13:return i=e.sent,e.abrupt("return",i.data);case 17:throw e.prev=17,e.t0=e.catch(10),e.t0.response.data;case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({baseURL:"".concat(n,"/lecturer"),method:"PUT",data:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!==typeof t){e.next=6;break}return e.next=4,u()({baseURL:"".concat(n,"/lecturer"),method:"DELETE",params:{id:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:if("object"!==typeof t){e.next=10;break}return o=[],t.map(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({baseURL:"".concat(n,"/lecturer"),method:"DELETE",params:{id:t}});case 2:r=e.sent,o.push(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0.response.data;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},60502:function(e,t,r){r.d(t,{dc:function(){return s},lU:function(){return u},pu:function(){return o},xS:function(){return l}});var n,a=r(60220),i=(r(85771),r(80184));n="https://aamusted-results.herokuapp.com";var o=[{title:"ID",field:"_id",hidden:!0},{title:"Department",field:"department",width:"95%"}],u=[{title:"ID",field:"_id",hidden:!0},{title:"Programme",field:"programme"},{title:"Department",field:"department"}],s=[{title:"ID",field:"_id",hidden:!0},{title:"Course Code",field:"code"},{title:"Course",field:"course"},{title:"Programme",field:"programme"},{title:"Department",field:"department",hidden:!0}],l=[{title:"ID",field:"id",hidden:!0},{title:"Professional ID",field:"professionalID"},{title:"Profile",field:"profileImg",render:function(e){return(0,i.jsx)(a.Z,{src:""===e.profile||void 0===e.profile||null===e.profile?null:"".concat(n,"/images/").concat(e.profile)})}},{title:"Fullname",field:"fullname"},{title:"Gender",field:"gender"},{title:"DOB",field:"dob",hidden:!0},{title:"Email",field:"email",width:"100px"},{title:"Telephone No.",field:"telephoneNo",hidden:!0},{title:"Department",field:"department",hidden:!0}]},76884:function(e,t,r){r.d(t,{Z:function(){return ce}});var n=r(74165),a=r(15861),i=r(93433),o=r(1413),u=r(29439),s=r(72791),l=r(15617),c=r.n(l),d=r(44059),p=r(13967),m=r(64554),f=r(53767),h=r(81639),v=r(38820),x=r(4208),Z=r(89712),g=r(4799),b=r.n(g),j=r(5574),S=r(65661),C=r(4899),y=r(93006),E=r(77386),D=r(5849),w=r(763),k=r.n(w),T=r(12258),z=r(92506),P=r(81724),B=r(64130),L=r(91933),I=r(98274),R=r(99873),q=r(80184);var _=function(e){var t=e.open,r=e.setOpen,n=(0,p.Z)().palette,a=(0,s.useContext)(R.D).customState,i=(0,L.useQueryClient)(),o=(0,s.useState)(""),l=(0,u.Z)(o,2),c=l[0],d=l[1],m=(0,s.useState)(""),h=(0,u.Z)(m,2),v=h[0],x=h[1];(0,s.useEffect)((function(){var e,t;k().isEmpty(a.departmentEditData)||(d(null===a||void 0===a||null===(e=a.departmentEditData)||void 0===e?void 0:e._id),x(null===a||void 0===a||null===(t=a.departmentEditData)||void 0===t?void 0:t.department))}),[a.departmentEditData]);var Z=P.Ry().shape({department:P.Z_().trim().required()}),g=(0,L.useMutation)(I.j4);return(0,q.jsxs)(j.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:function(){return r(!1)},children:[(0,q.jsxs)(S.Z,{title:"Add Department",children:[(0,q.jsx)(B.Z,{}),"Edit Department"]}),(0,q.jsx)(z.J9,{initialValues:{id:c,department:v},validationSchema:Z,onSubmit:function(e,t){t.setSubmitting(!0),g.mutateAsync(e,{onSettled:function(){t.setSubmitting(!1),i.invalidateQueries(["department"])},onSuccess:function(e){b().fire({icon:"success",iconColor:n.primary.main,title:"Success",text:"Department information updated!",confirmButtonColor:n.primary.main})},onError:function(e){b().fire({icon:"error",iconColor:n.primary.main,title:"Error",text:"Error updating department info.Please try again",confirmButtonColor:n.primary.main})}})},enableReinitialize:!0,children:function(e){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.Z,{children:(0,q.jsx)(f.Z,{paddingTop:2,children:(0,q.jsx)(y.Z,{variant:"filled",label:"Department",size:"sm",fullWidth:!0,value:void 0===e.values.department?"":e.values.department,onChange:function(e){return x(e.currentTarget.value)},onBlur:e.handleBlur("department"),error:e.touched.department&&e.errors.department,helperText:e.errors.department})})}),(0,q.jsxs)(E.Z,{children:[(0,q.jsx)(T.Z,{variant:"contained",loading:e.isSubmitting,onClick:e.handleSubmit,children:"Save Changes"}),(0,q.jsx)(D.Z,{variant:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},A=r(90038),M=r(10477),W=r(19895),N=r(46314);var O=function(e){var t=e.open,r=e.setOpen,n=(0,L.useQueryClient)(),a=(0,s.useContext)(R.D).customState,i=(0,p.Z)().palette,l=(0,s.useState)([]),c=(0,u.Z)(l,2),d=c[0],m=c[1],h=(0,s.useState)(""),v=(0,u.Z)(h,2),x=v[0],Z=v[1],g=(0,s.useState)(null),w=(0,u.Z)(g,2),B=w[0],I=w[1],_=(0,s.useState)(""),A=(0,u.Z)(_,2),W=A[0],O=A[1];(0,s.useEffect)((function(){var e=[];a.departmentOptions.forEach((function(t,r){e.push(t.department)})),m(e)}),[a.departmentOptions]),(0,s.useEffect)((function(){var e,t,r;k().isEmpty(a.programmeEditData)||(Z(null===a||void 0===a||null===(e=a.programmeEditData)||void 0===e?void 0:e._id),O(null===a||void 0===a||null===(t=a.programmeEditData)||void 0===t?void 0:t.programme),I(null===a||void 0===a||null===(r=a.programmeEditData)||void 0===r?void 0:r.department))}),[a.programmeEditData]);var H=P.Ry().shape({department:P.Z_().trim().required().nullable(!0),programme:P.Z_().trim().required()}),F=(0,L.useMutation)(M.J6);return(0,q.jsxs)(j.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:function(){return r(!1)},children:[(0,q.jsx)(S.Z,{children:"Edit Programme"}),(0,q.jsx)(z.J9,{initialValues:{id:x,programme:W,department:B},validationSchema:H,onSubmit:function(e,t){t.setSubmitting(!0),F.mutateAsync(e,{onSettled:function(){t.setSubmitting(!1),n.invalidateQueries(["programme"])},onSuccess:function(e){b().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"Programme information updated!",confirmButtonColor:i.primary.main})},onError:function(e){b().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:"Error updating programme info.Please try again",confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.values,a=e.errors,i=e.touched,u=(e.handleChange,e.handleSubmit);e.handleBlur;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.Z,{children:(0,q.jsxs)(f.Z,{paddingTop:2,rowGap:3,children:[(0,q.jsx)(N.Z,{id:"department",disablePortal:!0,size:"small",options:d,value:B,onChange:function(e,t){return I(t)},renderInput:function(e){return(0,q.jsx)(y.Z,(0,o.Z)((0,o.Z)({variant:"filled",label:"Select Department",size:"small",placeholder:"Select Department",fullWidth:!0},e),{},{error:Boolean(i.department&&a.department),helperText:a.department}))}}),(0,q.jsx)(y.Z,{variant:"filled",label:"Programme",size:"small",fullWidth:!0,id:"programe",placeholder:"Enter Programme here",value:void 0===n.programme?"":n.programme,onChange:function(e,t){return O(e.currentTarget.value)},error:Boolean(i.programme&&a.programme),helperText:a.programme})]})}),(0,q.jsxs)(E.Z,{children:[(0,q.jsx)(T.Z,{loading:t,onClick:u,variant:"contained",children:"Save Changes"}),(0,q.jsx)(D.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},H=r(41992);var F=function(e){var t=e.open,r=e.setOpen,n=(0,s.useContext)(R.D).customState,a=(0,p.Z)().palette,i=(0,L.useQueryClient)(),l=(0,s.useState)([]),c=(0,u.Z)(l,2),d=c[0],m=c[1],h=(0,s.useState)(""),v=(0,u.Z)(h,2),x=v[0],Z=v[1],g=(0,s.useState)(null),w=(0,u.Z)(g,2),B=w[0],I=w[1],_=(0,s.useState)(""),A=(0,u.Z)(_,2),M=A[0],O=A[1],F=(0,s.useState)(""),Q=(0,u.Z)(F,2),U=Q[0],V=Q[1];(0,s.useEffect)((function(){var e=[];n.programmeOptions.forEach((function(t,r){e.push(t.programme)})),m(e)}),[n.programmeOptions]),(0,s.useEffect)((function(){var e,t,r,a;k().isEmpty(n.courseEditData)||(Z(null===n||void 0===n||null===(e=n.courseEditData)||void 0===e?void 0:e._id),I(null===n||void 0===n||null===(t=n.courseEditData)||void 0===t?void 0:t.programme),O(null===n||void 0===n||null===(r=n.courseEditData)||void 0===r?void 0:r.code),V(null===n||void 0===n||null===(a=n.courseEditData)||void 0===a?void 0:a.course))}),[n.courseEditData]);var G=P.Ry().shape({programme:P.Z_().trim().required().nullable(!0),code:P.Z_().trim().required(),course:P.Z_().trim().required()}),J=(0,L.useMutation)(W.Hf);return(0,q.jsxs)(j.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:function(){return r(!1)},children:[(0,q.jsxs)(S.Z,{title:"Add New Course",children:[(0,q.jsx)(H.Z,{}),"Add New Course"]}),(0,q.jsx)(z.J9,{initialValues:{id:x,programme:B,code:M,course:U},validationSchema:G,onSubmit:function(e,t){t.setSubmitting(!0),J.mutateAsync(e,{onSettled:function(){i.invalidateQueries(["course"]),t.setSubmitting(!1)},onSuccess:function(e){b().fire({icon:"success",iconColor:a.primary.main,title:"Success",text:"Course information updated!",confirmButtonColor:a.primary.main})},onError:function(e){b().fire({icon:"error",iconColor:a.primary.main,title:"Error",text:"Error updating course info.Please try again",confirmButtonColor:a.primary.main})}})},enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.values,a=e.errors,i=e.touched,u=e.handleSubmit;e.handleBlur;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.Z,{children:(0,q.jsxs)(f.Z,{paddingTop:2,rowGap:2,children:[(0,q.jsx)(N.Z,{id:"programme",disablePortal:!0,size:"small",options:d,value:B,onChange:function(e,t){return I(t)},renderInput:function(e){return(0,q.jsx)(y.Z,(0,o.Z)((0,o.Z)({variant:"filled",label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(i.programme&&a.programme),helperText:a.programme}))}}),(0,q.jsx)(y.Z,{variant:"filled",label:"Code Course",id:"code",size:"small",placeholder:"Enter Course Code here",fullWidth:!0,value:n.code,onChange:function(e,t){return O(e.currentTarget.value)},error:Boolean(i.code&&a.code),helperText:a.code}),(0,q.jsx)(y.Z,{variant:"filled",label:"Course",id:"course",size:"small",placeholder:"Enter Course here",fullWidth:!0,value:n.course,onChange:function(e,t){return V(e.currentTarget.value)},error:Boolean(i.course&&a.course),helperText:a.course})]})}),(0,q.jsxs)(E.Z,{children:[(0,q.jsx)(T.Z,{variant:"contained",loading:t,onClick:u,children:"Save Changes"}),(0,q.jsx)(D.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},Q=r(73767),U=r(19873),V=r(35621);var G,J=function(e){var t=e.open,r=e.setOpen,n=(0,p.Z)().palette,a=(0,L.useQueryClient)(),i=(0,s.useContext)(R.D).customState,l=(0,s.useState)([]),c=(0,u.Z)(l,2),d=c[0],m=c[1],h=(0,s.useState)([]),v=(0,u.Z)(h,2),x=v[0],Z=v[1],g=(0,s.useState)(null===i||void 0===i?void 0:i.lecturerID),w=(0,u.Z)(g,2),k=w[0],B=w[1],I=(0,s.useState)(null),_=(0,u.Z)(I,2),A=_[0],O=_[1],F=(0,s.useState)(null),Q=(0,u.Z)(F,2),U=Q[0],G=Q[1];(0,L.useQuery)(["programme"],M.Sc,{onSuccess:function(e){var t=e.map((function(e){return e.programme}));m(t)}}),(0,L.useQuery)(["selected-courses",A],(function(){return(0,W.jN)(A)}),{enabled:!!A,onSuccess:function(e){G(null);var t=e.map((function(e){return{id:e.code,label:e.course}}));Z(t)}}),(0,s.useEffect)((function(){B(null===i||void 0===i?void 0:i.lecturerID)}),[i.lecturerID]);var J={professionalID:k,programme:A,course:U},Y=P.Ry().shape({programme:P.Z_().trim().required().nullable(!0),course:P.Ry().required().nullable(!0)}),$=(0,L.useMutation)(V.eH);return(0,q.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",open:t,onClose:function(){return r(!1)},children:[(0,q.jsxs)(S.Z,{title:"Add New Course",children:[(0,q.jsx)(H.Z,{}),"Assign Course"]}),(0,q.jsx)(z.J9,{initialValues:J,validationSchema:Y,onSubmit:function(e,t){t.setSubmitting(!0),$.mutateAsync(e,{onSettled:function(){a.invalidateQueries(["assigned-course"]),t.setSubmitting(!1)},onSuccess:function(e){b().fire({icon:"success",iconColor:n.primary.main,title:"Success",text:"New Course assiged!!!",confirmButtonColor:n.primary.main})},onError:function(e,t,r){b().fire({icon:"error",iconColor:n.primary.main,title:"Error",text:"Error assigning new course info.Please try again",confirmButtonColor:n.primary.main})}})},enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=(e.values,e.errors),a=e.touched,i=e.handleSubmit;e.handleBlur;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.Z,{children:(0,q.jsxs)(f.Z,{paddingTop:2,rowGap:2,children:[(0,q.jsx)(N.Z,{id:"programme",size:"small",isOptionEqualToValue:function(e,t){return e.id===t.id},options:d,value:A,onChange:function(e,t){return O(t)},renderInput:function(e){return(0,q.jsx)(y.Z,(0,o.Z)((0,o.Z)({variant:"filled",label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(a.programme&&n.programme),helperText:n.programme}))}}),(0,q.jsx)(N.Z,{id:"course",size:"small",options:x,isOptionEqualToValue:function(e,t){return e.id===t.id},value:U,onChange:function(e,t){return G(t)},renderInput:function(e){return(0,q.jsx)(y.Z,(0,o.Z)((0,o.Z)({variant:"filled",label:"Select Course",size:"small",placeholder:"Select Course",fullWidth:!0},e),{},{error:Boolean(a.course&&n.course),helperText:n.course}))}})]})}),(0,q.jsxs)(E.Z,{children:[(0,q.jsx)(T.Z,{variant:"contained",loading:t,onClick:i,children:"Save"}),(0,q.jsx)(D.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},Y=r(60220),$=r(4567),K=r(94721),X=r(81153),ee=r(65639),te=r(88970),re=r(25801),ne=r(45363),ae=r(17133),ie=r(92810),oe=r(43992),ue=r(41286);G="https://aamusted-results.herokuapp.com";var se=function(e){var t=e.open,r=e.setOpen,n=(0,p.Z)().palette,a=(0,L.useQueryClient)(),i=(0,s.useContext)(R.D).customState,l=(0,s.useState)(""),c=(0,u.Z)(l,2),d=c[0],f=c[1],h=(0,s.useState)(null),v=(0,u.Z)(h,2),x=v[0],Z=v[1],g=(0,s.useState)(""),w=(0,u.Z)(g,2),B=w[0],_=w[1],A=(0,s.useState)("Male"),M=(0,u.Z)(A,2),W=M[0],O=M[1],H=(0,s.useState)(""),F=(0,u.Z)(H,2),Q=F[0],V=F[1],J=(0,s.useState)(""),se=(0,u.Z)(J,2),le=se[0],ce=se[1],de=(0,s.useState)(""),pe=(0,u.Z)(de,2),me=pe[0],fe=pe[1],he=(0,s.useState)(""),ve=(0,u.Z)(he,2),xe=ve[0],Ze=ve[1],ge=(0,s.useState)(null),be=(0,u.Z)(ge,2),je=be[0],Se=be[1],Ce=(0,s.useState)([]),ye=(0,u.Z)(Ce,2),Ee=ye[0],De=ye[1];(0,s.useEffect)((function(){var e,t,r,n,a,o,u,s,l;k().isEmpty(i.lecturerEditData)||(f(null===i||void 0===i||null===(e=i.lecturerEditData)||void 0===e?void 0:e._id),Z(null===i||void 0===i||null===(t=i.lecturerEditData)||void 0===t?void 0:t.profile),_(null===i||void 0===i||null===(r=i.lecturerEditData)||void 0===r?void 0:r.fullname),O(null===i||void 0===i||null===(n=i.lecturerEditData)||void 0===n?void 0:n.gender),V(null===i||void 0===i||null===(a=i.lecturerEditData)||void 0===a?void 0:a.dob),ce(null===i||void 0===i||null===(o=i.lecturerEditData)||void 0===o?void 0:o.email),fe(null===i||void 0===i||null===(u=i.lecturerEditData)||void 0===u?void 0:u.address),Ze(null===i||void 0===i||null===(s=i.lecturerEditData)||void 0===s?void 0:s.telephoneNo),Se(null===i||void 0===i||null===(l=i.lecturerEditData)||void 0===l?void 0:l.department))}),[i.lecturerEditData]),(0,L.useQuery)(["department"],I.Sj,{onSuccess:function(e){var t=e.map((function(e){return e.department}));De(t)}});var we={id:d,profile:x,fullname:B,gender:W,dob:Q,email:le,address:me,telephoneNo:xe,department:je},ke=(0,P.Ry)().shape({fullname:(0,P.Z_)().trim().required("required*"),gender:(0,P.Z_)().trim().required("required*"),dob:(0,P.hT)().required("required*"),email:(0,P.Z_)().trim().required("required").email("Invalid email address"),address:(0,P.Z_)().trim().required("required"),telephoneNo:(0,P.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,P.Z_)().trim().required("required*").nullable(!0)}),Te=(0,L.useMutation)(U.ek);return(0,q.jsxs)(j.Z,{maxWidth:"sm",fullWidth:!0,open:t,onClose:function(){return r(!1)},children:[(0,q.jsxs)(S.Z,{title:"Add Lecturer",borderBottom:"1px solid #5aa7a7",children:[(0,q.jsx)(oe.Z,{})," Edit Lecturer Info"]}),(0,q.jsx)(z.J9,{initialValues:we,validationSchema:ke,onSubmit:function(e,t){t.setSubmitting(!0),e.professionalID="LEC".concat((0,ie.Z)().split("-")[0]),Te.mutateAsync(e,{onSettled:function(){t.setSubmitting(!1),a.invalidateQueries("lecturer")},onSuccess:function(e){b().fire({icon:"success",iconColor:n.primary.main,title:"Success",text:"Lecturer info updated!!!",confirmButtonColor:"#5aa7a7"}),t.resetForm()},onError:function(e){b().fire({icon:"error",iconColor:n.primary.main,title:"Error",text:"Error updating lecturer info.Please try again",confirmButtonColor:n.primary.main})}})},enableReinitialize:!0,children:function(e){var t=e.isSubmitting,n=e.values,a=e.errors,u=e.touched,s=e.handleSubmit;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(C.Z,{children:[(0,q.jsxs)(m.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,q.jsx)(Y.Z,{src:""===i.lecturerEditData.profile||void 0===i.lecturerEditData.profile||null===i.lecturerEditData.profile?null:"".concat(G,"/images/").concat(i.lecturerEditData.profile),sx:{width:100,height:100,position:"relative"}}),(0,q.jsx)(ae.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,q.jsx)(ue.Z,{sx:{width:16,color:"#fff"}})}),(0,q.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return Z(e.target.files[0])}})]}),(0,q.jsx)($.Z,{children:"1.Personal Information"}),(0,q.jsx)(K.Z,{}),(0,q.jsxs)(X.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(y.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:B,error:Boolean(u.fullname&&a.fullname),helperText:a.fullname,onChange:function(e){return _(e.currentTarget.value)},required:!0})}),(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(y.Z,{variant:"filled",label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:n.dob,error:Boolean(u.dob&&a.dob),helperText:a.dob,onChange:function(e,t){return V(e.currentTarget.value)},required:!0})}),(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsxs)(ne.Z,{children:[(0,q.jsx)(ae.Z,{id:"gender-group",children:"Gender"}),(0,q.jsxs)(te.Z,{"aria-labelledby":"gender-group",name:"gender-group",row:!0,value:W,onChange:function(e,t){return O(t)},children:[(0,q.jsx)(re.Z,{value:"Male",control:(0,q.jsx)(ee.Z,{}),label:"Male"}),(0,q.jsx)(re.Z,{value:"Female",control:(0,q.jsx)(ee.Z,{}),label:"Female"})]})]})})]}),(0,q.jsx)($.Z,{children:"2.Contact Information"}),(0,q.jsx)(K.Z,{}),(0,q.jsxs)(X.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(y.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:le,error:Boolean(u.email&&a.email),helperText:a.email,onChange:function(e){return ce(e.currentTarget.value)},required:!0})}),(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(y.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:xe,error:Boolean(u.telephoneNo&&a.telephoneNo),helperText:a.telephoneNo,onChange:function(e,t){return Ze(e.currentTarget.value)}})}),(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(y.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:me,error:Boolean(u.address&&a.address),helperText:a.address,onChange:function(e){return fe(e.currentTarget.value)}})})]}),(0,q.jsx)($.Z,{children:"3.Academic Information"}),(0,q.jsx)(K.Z,{}),(0,q.jsx)(X.ZP,{container:!0,spacing:3,paddingY:2,children:(0,q.jsx)(X.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(N.Z,{options:Ee,value:je,onChange:function(e,t){return Se(t)},renderInput:function(e){return(0,q.jsx)(y.Z,(0,o.Z)((0,o.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(u.department&&a.department),helperText:a.department}))}})})})]}),(0,q.jsxs)(E.Z,{children:[(0,q.jsx)(T.Z,{sx:{minWidth:100},variant:"contained",onClick:s,loading:t,children:"Save Changes"}),(0,q.jsx)(D.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Close"})]})]})}})]})};function le(e){var t=e.heading,r=e.isLoading,l=e.columns,g=e.data,j=e.refresh,S=(0,p.Z)().palette,C=(0,s.useContext)(R.D).customDispatch,y=(0,L.useQueryClient)(),E=(0,s.useState)(!1),D=(0,u.Z)(E,2),w=D[0],k=D[1],T=(0,s.useState)(!1),z=(0,u.Z)(T,2),P=z[0],B=z[1],N=(0,s.useState)(!1),H=(0,u.Z)(N,2),V=H[0],G=H[1],Y=(0,s.useState)(!1),$=(0,u.Z)(Y,2),K=$[0],X=$[1],ee=(0,s.useState)(!1),te=(0,u.Z)(ee,2),re=te[0],ne=te[1],ae=(0,L.useMutation)(I.If),ie=(0,L.useMutation)(M.qm),oe=(0,L.useMutation)(W.A),ue=(0,L.useMutation)(U.$B);function le(){b().fire({icon:"success",iconColor:S.primary.main,title:"Success",text:"Data Reemoved!!!",confirmButtonColor:"#5aa7a7"})}function ce(e){b().fire({icon:"question",title:"Deleting",text:"Do you want to remove?",timer:5e3,confirmButtonColor:S.primary.main,denyButtonColor:S.secondary.main,showCancelButton:!0}).then((function(r){if(!0===r.isConfirmed)switch(t){case"Department":ae.mutateAsync(e,{onSuccess:function(e){le(),y.invalidateQueries(["department"])}});break;case"Lecturers":ue.mutateAsync(e,{onSuccess:function(e){le(),y.invalidateQueries(["lecturer"])}});break;case"Programme":ie.mutateAsync(e,{onSuccess:function(e){le(),y.invalidateQueries(["programme"])}});break;case"Course":oe.mutateAsync(e,{onSuccess:function(e){le(),y.invalidateQueries(["course"])}});break;default:return null}})).catch((function(e){}))}var de=l.map((function(e){return(0,o.Z)({},e)}));return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(m.Z,{sx:{paddingY:2},children:(0,q.jsx)(c(),{icons:A.P,title:t,isLoading:r,style:{borderTop:"solid 2px #5aa7a7",fontSize:"13px",boxShadow:"0px 0px 13px 0px rgb(82 63 105 / 10%)",borderRadius:"10px"},options:{pageSizeOptions:[5,10,20,50,100],selection:!0,exportButton:!0,exportMenu:[{label:"Export PDF",exportFunc:function(e,r){return(0,d.oK)(e,r,t)}},{label:"Export CSV",exportFunc:function(e,r){return(0,d.b6)(e,r,t)}}]},columns:[].concat((0,i.Z)(de),[{title:"Options",sorting:!1,render:function(e){return(0,q.jsxs)(Q.v2,{style:{zIndex:101},children:[(0,q.jsx)(Q.j2,{style:{backgroundColor:"transparent",outline:"none",border:"none"},children:(0,q.jsx)(h.Z,{})}),(0,q.jsxs)(Q.qy,{children:["Lecturers"===t&&(0,q.jsx)(Q.sN,{onSelect:(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C({type:"assignLecturerID",payload:e.professionalID});case 2:ne(!0);case 3:case"end":return t.stop()}}),t)}))),children:"Assign New Course"}),(0,q.jsx)(Q.sN,{onSelect:(0,a.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C({type:t,payload:e});case 2:r.t0=t,r.next="Department"===r.t0?5:"Programme"===r.t0?7:"Course"===r.t0?9:"Lecturers"===r.t0?11:13;break;case 5:return B(!0),r.abrupt("break",14);case 7:return G(!0),r.abrupt("break",14);case 9:return X(!0),r.abrupt("break",14);case 11:return k(!0),r.abrupt("break",14);case 13:return r.abrupt("return",null);case 14:case"end":return r.stop()}}),r)}))),children:(0,q.jsxs)(f.Z,{direction:"row",children:[(0,q.jsx)(v.Z,{fontSize:"32px"}),(0,q.jsx)("span",{children:"Edit"})]})}),(0,q.jsxs)(Q.sN,{onSelect:function(){ce(e._id)},children:[(0,q.jsx)(x.Z,{fontSize:"32px"}),(0,q.jsx)("span",{children:"Delete"})]})]})]})}}]),data:g,actions:[{position:"toolbar",tooltip:"Refresh",icon:function(){return(0,q.jsx)(Z.Z,{})},isFreeAction:!0,onClick:function(){j()}},{position:"auto",tooltip:"Edit Info",icon:function(){return(0,q.jsx)(v.Z,{})},onClick:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({type:t,payload:a});case 2:e.t0=t,e.next="Department"===e.t0?5:"Programme"===e.t0?7:"Course"===e.t0?9:11;break;case 5:return B(!0),e.abrupt("break",12);case 7:return G(!0),e.abrupt("break",12);case 9:return X(!0),e.abrupt("break",12);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{position:"auto",tooltip:"Delete Info",icon:function(){return(0,q.jsx)(x.Z,{})},onClick:function(e,t){var r=[];t.map((function(e){return r.push(e._id)})),ce(r)}}]})}),(0,q.jsx)(_,{open:P,setOpen:B}),(0,q.jsx)(se,{open:w,setOpen:k}),(0,q.jsx)(O,{open:V,setOpen:G}),(0,q.jsx)(F,{open:K,setOpen:X}),(0,q.jsx)(J,{open:re,setOpen:ne})]})}var ce=s.memo(le)},64130:function(e,t,r){var n=r(64836);t.Z=void 0;var a=n(r(45649)),i=r(80184),o=(0,a.default)((0,i.jsx)("path",{d:"M19 12h3L12 3 2 12h3v8h2v-2h10v2h2v-8zM7.21 10h9.58l.21.19V12H7v-1.81l.21-.19zm7.36-2H9.43L12 5.69 14.57 8zM7 16v-2h10v2H7z"}),"HouseSiding");t.Z=o},41992:function(e,t,r){var n=r(64836);t.Z=void 0;var a=n(r(45649)),i=r(80184),o=(0,a.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=o},68087:function(e,t,r){var n=r(74223),a=r(80184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},4208:function(e,t,r){var n=r(74223),a=r(80184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteSharp")},38820:function(e,t,r){var n=r(74223),a=r(80184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},43992:function(e,t,r){var n=r(74223),a=r(80184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd")}}]);
//# sourceMappingURL=223.ebf60ddf.chunk.js.map
"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[783],{94783:function(e,n,r){r.r(n),r.d(n,{default:function(){return re}});var t=r(29439),a=r(72791),i=r(6907),o=r(4567),s=r(64554),l=r(48312),c=r(65469),u=r(94721),d=r(61474),m=r(91933),h=r(61820),p=r(83449),f=r(47283),x=r(2249),j=r(68087),Z=r(5849),y=r(97892),g=r(1413),v=r(13967),C=r(5574),S=r(65661),b=r(4899),D=r(53767),B=r(46314),z=r(93006),E=r(77386),W=r(12258),P=r(92506),w=r(81724),A=r(64130),O=r(98274),T=r(4799),k=r.n(T),F=r(99873),Q=r(91372),L=r(80184);var N=function(e){var n=e.open,r=e.setOpen,i=((0,a.useContext)(F.D).customState,(0,v.Z)().palette),o=(0,m.useQueryClient)(),s=(0,a.useState)([]),l=(0,t.Z)(s,2),c=l[0],u=l[1],d=(0,a.useState)(null),h=(0,t.Z)(d,2),p=h[0],f=h[1];(0,m.useQuery)(["faculty"],Q.uf,{onSuccess:function(e){var n=e.map((function(e){return e.faculty}));u(n)}});var x={id:"",faculty:p,department:""},j=w.Ry().shape({department:w.Z_().trim().required(),faculty:w.Z_().trim().required().nullable(!0)}),y=(0,m.useMutation)(O.BZ);return(0,L.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return r(!1)},tabIndex:"-1",children:[(0,L.jsxs)(S.Z,{title:"Add Department",children:[(0,L.jsx)(A.Z,{}),"Add Department"]}),(0,L.jsx)(P.J9,{initialValues:x,validationSchema:j,onSubmit:function(e,n){n.setSubmitting(!0),y.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),o.invalidateQueries(["department"])},onSuccess:function(e){k().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Department added!!!",confirmButtonColor:i.primary.main})},onError:function(e){k().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:"Error saving department information.Please try again",confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.values,t=e.errors,a=e.handleChange,i=e.handleSubmit,o=e.handleBlur,s=e.touched,l=e.isSubmitting;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(D.Z,{paddingTop:2,rowGap:3,children:[(0,L.jsx)(B.Z,{id:"faculty",size:"small",options:c,value:p,onChange:function(e,n){return f(n)},renderInput:function(e){return(0,L.jsx)(z.Z,(0,g.Z)((0,g.Z)({label:"Select faculty",size:"small",placeholder:"Select faculty",fullWidth:!0},e),{},{error:Boolean(s.faculty&&t.faculty),helperText:t.faculty,autoFocus:!0}))}}),(0,L.jsx)(z.Z,{label:"Department",size:"small",fullWidth:!0,value:n.department,onChange:a("department"),onBlur:o("department"),error:s.department&&t.department,helperText:t.department})]})}),(0,L.jsxs)(E.Z,{children:[(0,L.jsx)(W.Z,{variant:"contained",loading:l,onClick:i,sx:{minWidth:100},children:"Add"}),(0,L.jsx)(Z.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},V=r(60502);var R=function(){var e=(0,a.useContext)(F.D).customDispatch,n=(0,m.useQuery)(["department"],O.Sj,{onSuccess:function(n){e({type:"departOptions",payload:n})}}),r=(0,a.useState)(!1),i=(0,t.Z)(r,2),o=i[0],l=i[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return l(!0)},startIcon:(0,L.jsx)(j.Z,{}),children:"Add New Department"})}),(0,L.jsx)(y.Z,{isLoading:n.isLoading,heading:"Department",columns:V.pu,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,L.jsx)(N,{open:o,setOpen:l})]})},q=r(10477);var I=function(e){var n=e.open,r=e.setOpen,i=(0,v.Z)().palette,o=(0,a.useContext)(F.D).customState,s=(0,m.useQueryClient)(),l=(0,a.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],h=(0,a.useState)(null),p=(0,t.Z)(h,2),f=p[0],x=p[1],j=(0,a.useState)(""),y=(0,t.Z)(j,2),A=y[0],O=y[1];(0,a.useEffect)((function(){var e=[];o.departmentOptions.forEach((function(n,r){e.push(n.department)})),d(e)}),[o.departmentOptions]);var T={id:"",programme:A,department:f},Q=w.Ry().shape({department:w.Z_().trim().required().nullable(!0),programme:w.Z_().trim().required()}),N=(0,m.useMutation)(q.Eg);return(0,L.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return r(!1)},children:[(0,L.jsx)(S.Z,{title:"Add Department",children:"Add Programme"}),(0,L.jsx)(P.J9,{initialValues:T,validationSchema:Q,onSubmit:function(e,n){n.setSubmitting(!0),N.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),s.invalidateQueries(["programme"])},onSuccess:function(e){k().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Programme addeed!!!",confirmButtonColor:i.primary.main}),s.invalidateQueries(["programme"])},onError:function(e){k().fire({icon:"error",iconColor:i.primary.main,title:"Error",text:"Error saving programme information.Please try again",confirmButtonColor:i.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,t=e.values,a=e.errors,i=e.touched,o=(e.handleChange,e.handleSubmit);e.handleBlur;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(D.Z,{paddingTop:2,rowGap:3,children:[(0,L.jsx)(B.Z,{id:"department",disablePortal:!0,size:"small",options:u,value:f,onChange:function(e,n){return x(n)},renderInput:function(e){return(0,L.jsx)(z.Z,(0,g.Z)((0,g.Z)({label:"Select Department",size:"small",placeholder:"Select Department",fullWidth:!0},e),{},{error:Boolean(i.department&&a.department),helperText:a.department,autoFocus:!0}))}}),(0,L.jsx)(z.Z,{label:"Programme",size:"small",fullWidth:!0,id:"programe",placeholder:"Enter Programme here",value:t.programme,onChange:function(e,n){return O(e.currentTarget.value)},error:Boolean(i.programme&&a.programme),helperText:a.programme})]})}),(0,L.jsxs)(E.Z,{children:[(0,L.jsx)(W.Z,{loading:n,onClick:o,sx:{minWidth:100},variant:"contained",children:"Save"}),(0,L.jsx)(Z.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})};var M=function(){var e=(0,a.useContext)(F.D).customDispatch,n=(0,a.useState)(!1),r=(0,t.Z)(n,2),i=r[0],o=r[1],l=(0,m.useQuery)(["programme"],q.Sc,{onSuccess:function(n){e({type:"progOptions",payload:n})}});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("section",{children:(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,L.jsx)(j.Z,{}),children:"Add New Programme"})}),(0,L.jsx)(y.Z,{heading:"Programme",columns:V.lU,data:l.data,refresh:l.refetch})]})}),(0,L.jsx)(I,{open:i,setOpen:o})]})},_=r(41992),H=r(19895);var J=function(e){var n=e.open,r=e.setOpen,i=(0,a.useContext)(F.D).customState,o=(0,v.Z)().palette,s=(0,m.useQueryClient)(),l=(0,a.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],h=(0,a.useState)(null),p=(0,t.Z)(h,2),f=p[0],x=p[1],j=(0,a.useState)(""),y=(0,t.Z)(j,2),A=y[0],O=y[1],T=(0,a.useState)(""),Q=(0,t.Z)(T,2),N=Q[0],V=Q[1];(0,a.useEffect)((function(){var e=[];i.programmeOptions.forEach((function(n,r){e.push(n.programme)})),d(e)}),[i.programmeOptions]);var R={id:"",programme:f,code:A,course:N},q=w.Ry().shape({programme:w.Z_().trim().required().nullable(!0),code:w.Z_().trim().required(),course:w.Z_().trim().required()}),I=(0,m.useMutation)(H.bq);return(0,L.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return r(!1)},children:[(0,L.jsxs)(S.Z,{title:"Add New Course",children:[(0,L.jsx)(_.Z,{}),"Add New Course"]}),(0,L.jsx)(P.J9,{initialValues:R,validationSchema:q,onSubmit:function(e,n){n.setSubmitting(!0),I.mutateAsync(e,{onSettled:function(){s.invalidateQueries(["course"]),n.setSubmitting(!1)},onSuccess:function(e){k().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"New Course addeed!!!",confirmButtonColor:o.primary.main})},onError:function(e){k().fire({icon:"error",iconColor:o.primary.main,title:"Error",text:"Error saving course information.Please try again",confirmButtonColor:o.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,t=e.values,a=e.errors,i=e.touched,o=e.handleSubmit;e.handleBlur;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(D.Z,{paddingTop:2,rowGap:2,children:[(0,L.jsx)(B.Z,{id:"programme",disablePortal:!0,size:"small",options:u,value:f,onChange:function(e,n){return x(n)},renderInput:function(e){return(0,L.jsx)(z.Z,(0,g.Z)((0,g.Z)({label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(i.programme&&a.programme),helperText:a.programme}))}}),(0,L.jsx)(z.Z,{label:"Course Code",id:"code",size:"small",placeholder:"Enter Course Code here",fullWidth:!0,value:t.code,onChange:function(e,n){return O(e.currentTarget.value)},error:Boolean(i.code&&a.code),helperText:a.code}),(0,L.jsx)(z.Z,{label:"Course",id:"course",size:"small",placeholder:"Enter Course here",fullWidth:!0,value:t.course,onChange:function(e,n){return V(e.currentTarget.value)},error:Boolean(i.course&&a.course),helperText:a.course})]})}),(0,L.jsxs)(E.Z,{children:[(0,L.jsx)(W.Z,{variant:"contained",loading:n,onClick:o,children:"Save"}),(0,L.jsx)(Z.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})};var G=function(){var e=(0,m.useQuery)(["course"],H.V3,{refetchOnWindowFocus:!0,onSuccess:function(e){}}),n=(0,a.useState)(!1),r=(0,t.Z)(n,2),i=r[0],o=r[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,L.jsx)(j.Z,{}),children:"Add New Course"})}),(0,L.jsx)(y.Z,{isLoading:e.isLoading,heading:"Course",columns:V.dc,data:e.data,refresh:e.refetch})]}),(0,L.jsx)(J,{open:i,setOpen:o})]})},U=r(74223),K=(0,U.Z)((0,L.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-6.54 4.09c-.65.41-1.47.41-2.12 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"}),"LocalPostOfficeRounded"),X=(0,U.Z)((0,L.jsx)("path",{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"}),"House"),Y=(0,U.Z)((0,L.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeSharp"),$=(0,U.Z)((0,L.jsx)("path",{d:"M22 3h-3V1h-2v2H7V1H5v2H2v20h20V3zm-2 18H4V8h16v13z"}),"CalendarTodaySharp");var ee=function(e){var n=e.open,r=e.setOpen,t=(0,v.Z)().palette,a=(0,m.useQueryClient)(),i=w.Ry().shape({faculty:w.Z_().trim().required()}),o=(0,m.useMutation)(Q.I5);return(0,L.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:n,onClose:function(){return r(!1)},tabIndex:"-1",children:[(0,L.jsxs)(S.Z,{title:"Add Department",children:[(0,L.jsx)(A.Z,{}),"New Faculty"]}),(0,L.jsx)(P.J9,{initialValues:{id:"",faculty:""},validationSchema:i,onSubmit:function(e,n){n.setSubmitting(!0),o.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),a.invalidateQueries(["faculty"])},onSuccess:function(e){k().fire({icon:"success",iconColor:t.primary.main,title:"Success",text:"New Faculty added!!!",confirmButtonColor:t.primary.main})},onError:function(e){k().fire({icon:"error",iconColor:t.primary.main,title:"Error",text:"Error saving faculty information.Please try again",confirmButtonColor:t.primary.main})}})},children:function(e){return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{children:(0,L.jsx)(D.Z,{paddingTop:2,children:(0,L.jsx)(z.Z,{label:"Faculty",size:"sm",fullWidth:!0,value:e.values.faculty,onChange:e.handleChange("faculty"),onBlur:e.handleBlur("faculty"),error:e.touched.faculty&&e.errors.faculty,helperText:e.errors.faculty})})}),(0,L.jsxs)(E.Z,{children:[(0,L.jsx)(W.Z,{variant:"contained",loading:e.isSubmitting,onClick:e.handleSubmit,sx:{minWidth:100},children:"Save"}),(0,L.jsx)(Z.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})};var ne=function(){var e=(0,a.useContext)(F.D).customDispatch,n=(0,m.useQuery)(["faculty"],Q.uf,{onSuccess:function(n){e({type:"facultyOptions",payload:n})}}),r=(0,a.useState)(!1),i=(0,t.Z)(r,2),o=i[0],l=i[1];return(0,L.jsxs)("section",{children:[(0,L.jsxs)(s.Z,{children:[(0,L.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,L.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return l(!0)},startIcon:(0,L.jsx)(j.Z,{}),children:"New Faculty"})}),(0,L.jsx)(y.Z,{isLoading:n.isLoading,heading:"Faculty",columns:V.WE,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,L.jsx)(ee,{open:o,setOpen:l})]})};var re=function(){var e=a.useState("1"),n=(0,t.Z)(e,2),r=n[0],j=n[1],Z=(0,m.useQuery)(["course"],H.V3,{refetchOnWindowFocus:!0});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(i.ql,{children:(0,L.jsx)("title",{children:"AAMUSTED Results System | Department"})}),(0,L.jsx)("section",{className:"department-container",children:(0,L.jsx)(h.Z,{children:(0,L.jsxs)("section",{children:[(0,L.jsx)(o.Z,{variant:"h4",children:"Department"}),(0,L.jsx)(o.Z,{variant:"body2",children:"Assess and Manage various departments,programmes and courses"}),(0,L.jsx)(s.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,L.jsxs)(l.Z,{children:[(0,L.jsx)(c.Z,{children:"Home"}),(0,L.jsx)(o.Z,{children:"Department"})]})}),(0,L.jsx)(u.Z,{}),(0,L.jsxs)(p.ZP,{value:r,children:[(0,L.jsxs)(f.Z,{onChange:function(e,n){return j(n)},"aria-label":"department tabs",centered:!0,children:[(0,L.jsx)(d.Z,{label:"Faculty",value:"1",icon:(0,L.jsx)(K,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Department",value:"2",icon:(0,L.jsx)(X,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Programme",value:"3",icon:(0,L.jsx)(Y,{}),iconPosition:"start"}),(0,L.jsx)(d.Z,{label:"Course",value:"4",icon:(0,L.jsx)($,{}),iconPosition:"start"})]}),(0,L.jsx)(x.Z,{value:"1",children:(0,L.jsx)(ne,{})}),(0,L.jsx)(x.Z,{value:"2",children:(0,L.jsx)(R,{})}),(0,L.jsx)(x.Z,{value:"3",children:(0,L.jsx)(M,{})}),(0,L.jsx)(x.Z,{value:"4",children:(0,L.jsx)(G,{data:Z})})]})]})})})]})}}}]);
//# sourceMappingURL=783.da58598d.chunk.js.map
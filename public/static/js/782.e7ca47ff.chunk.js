"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[782],{40077:function(e,n,t){t.d(n,{v:function(){return r}});var r=function(e){switch(e){case"A":return 12;case"B+":return 10.5;case"B":return 9;case"C+":return 7.5;case"C":return 6;case"D+":return 4.5;case"D":return 3;case"E":return 1.5;case"F":return 0;default:return""}}},92633:function(e,n,t){var r=t(72791),i=t(94721),l=t(763),s=t.n(l),o=t(40077),d=t(80184);n.Z=function(e){var n=e.studentInfo,t=e.studentRecord,l=[],a=[],u=null===t||void 0===t?void 0:t.map((function(e,n){return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)("table",{width:"100%",border:"0",children:(0,d.jsxs)("tr",{style:{backgroundColor:"#5aa7a7",color:"#fff",padding:"16px"},children:[(0,d.jsxs)("td",{children:[e.year," ACADEMIC YEAR"]}),(0,d.jsxs)("td",{children:["LEVEL ",e.level]}),(0,d.jsxs)("td",{children:[e.semester," SEMESTER"]})]})}),(0,d.jsxs)("table",{width:"100%",border:"0",style:{paddingBottom:"16px"},children:[(0,d.jsx)("thead",{style:{backgroundColor:"#333",color:"#fff",textAlign:"left"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Code"}),(0,d.jsx)("th",{children:"Course"}),(0,d.jsx)("th",{children:"Credit Hours"}),(0,d.jsx)("th",{children:"Score"}),(0,d.jsx)("th",{children:"Grade"}),(0,d.jsx)("th",{children:"Grade Point"})]})}),(0,d.jsx)("tbody",{style:{backgroundColor:"whitesmoke"},children:e.results.map((function(e,n){var t=(0,o.v)(e.grade);return l.push(e.creditHours),a.push(t),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.course.id}),(0,d.jsx)("td",{children:e.course.label}),(0,d.jsx)("td",{children:e.creditHours}),(0,d.jsx)("td",{children:e.score}),(0,d.jsx)("td",{children:e.grade}),(0,d.jsx)("td",{children:t})]},e.course.id)}))}),(0,d.jsxs)("tfoot",{style:{paddingBottom:"200px"},children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsxs)("td",{style:{backgroundColor:"#5aa7a7",color:"#fff"},children:["GPA-",(s().sum(a)/s().sum(l)).toFixed(2)]})]}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"End"})})]})]})]},e._id)}));return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{style:{width:"100%",maxWidth:"600px",margin:"auto",padding:"20px",backgroundColor:"#fff"},id:"printPageA",children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"16px 0"},children:(0,d.jsx)("table",{width:"100%",style:{textAlign:"center"},children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("img",{src:"https://blogger.googleusercontent.com/img/a/AVvXsEjmgQKEPuA2OPPl0sErJ4oijrFu0fOYFIScPxZrtsOKsmN6lTTzi6CsX0TPnqzHCL44VU4ghmzmV6LScpciyOehKGuN9GH9OuIb299rBwE9bsTqmb26Ju6opaR_RkWnQarH6w8bIA9NaRBdZ-hT7UDWcgO5bcFuFneiUZAmvmPU1K998YJ7c83ZNQVHHA=s715",alt:"logo",style:{width:"120px",height:"120px"}})}),(0,d.jsxs)("td",{children:[(0,d.jsx)("h2",{children:"AKENTEN APPIAH-MENKA UNIVERSITY"}),(0,d.jsx)("p",{children:"ACADEMIC AFFAIRS OFFICE"}),(0,d.jsx)("p",{children:"TANOSO-KUMASI"})]})]})})}),(0,d.jsx)("p",{style:{textAlign:"center",color:"#fff",backgroundColor:"#000",padding:"10px 0"},children:"OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD"}),(0,d.jsx)(i.Z,{}),(0,d.jsxs)("table",{width:"100%",style:{textAlign:"center"},children:[(0,d.jsx)("tr",{style:{backgroundColor:"#5aa7a7"},children:(0,d.jsx)("td",{style:{color:"#fff",padding:"8px"},children:"STUDENT INFORMATION"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{style:{padding:"10px 0"}})})]}),(0,d.jsxs)("table",{width:"100%",children:[(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Student Number "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.indexNumber})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:"Full Name"}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.fullname})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Date of Birth "}),(0,d.jsx)("p",{children:new Date(null===n||void 0===n?void 0:n.dob).toLocaleDateString()})]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:"Gender "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.gender})]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("p",{style:{fontWeight:"bold"},children:" Programme "}),(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.programme})]})]})]}),(0,d.jsx)("div",{style:{width:"100%"},children:0===t.length?null:u})]})})}},45782:function(e,n,t){t.r(n),t.d(n,{default:function(){return ge}});var r=t(1413),i=t(29439),l=t(72791),s=t(68087),o=t(54270),d=t(91933),a=t(4567),u=t(64554),c=t(48312),h=t(65469),x=t(94721),p=t(63515),m=t(5849),f=t(46314),j=t(93006),v=t(61820),Z=t(13967),g=t(5574),b=t(65661),S=t(4899),y=t(60220),C=t(81153),E=t(77386),N=t(4799),A=t.n(N),I=t(65639),P=t(88970),T=t(25801),z=t(45363),w=t(17133),D=t(92810),q=t(92506),W=t(81724),k=t(43992),F=t(12258),O=t(90110),R=t(99873),M=t(41286),B=t(80184);var H,_=function(e){var n=e.open,t=e.setOpen,s=(0,l.useContext)(R.D).customState,o=(0,Z.Z)().palette,c=(0,d.useQueryClient)(),h=["100","200","300","400"],p=(0,l.useState)([]),v=(0,i.Z)(p,2),N=v[0],H=v[1],_=(0,l.useState)([]),L=(0,i.Z)(_,2),V=L[0],Y=L[1];(0,l.useEffect)((function(){var e=[],n=[];s.departmentOptions.forEach((function(n,t){e.push(n.department)})),s.programmeOptions.forEach((function(e,t){n.push(e.programme)})),H(e),Y(n)}),[s.programmeOptions,s.departmentOptions]);var G=(0,l.useState)(null),U=(0,i.Z)(G,2),K=U[0],Q=U[1],J=(0,l.useState)(""),X=(0,i.Z)(J,2),$=X[0],ee=X[1],ne=(0,l.useState)("Male"),te=(0,i.Z)(ne,2),re=te[0],ie=te[1],le=(0,l.useState)(""),se=(0,i.Z)(le,2),oe=se[0],de=se[1],ae=(0,l.useState)(""),ue=(0,i.Z)(ae,2),ce=ue[0],he=ue[1],xe=(0,l.useState)(""),pe=(0,i.Z)(xe,2),me=pe[0],fe=pe[1],je=(0,l.useState)(""),ve=(0,i.Z)(je,2),Ze=ve[0],ge=ve[1],be=(0,l.useState)(null),Se=(0,i.Z)(be,2),ye=Se[0],Ce=Se[1],Ee=(0,l.useState)(null),Ne=(0,i.Z)(Ee,2),Ae=Ne[0],Ie=Ne[1],Pe=(0,l.useState)(null),Te=(0,i.Z)(Pe,2),ze=Te[0],we=Te[1],De={profile:K,fullname:$,gender:re,dob:oe,email:ce,address:me,telephoneNo:Ze,department:ye,programme:Ae,level:ze},qe=(0,W.Ry)().shape({fullname:(0,W.Z_)().trim().required("required*"),gender:(0,W.Z_)().trim().required("required*"),dob:(0,W.hT)().required("required*"),email:(0,W.Z_)().trim().required("required").email("Invalid email address"),address:(0,W.Z_)().trim().required("required"),telephoneNo:(0,W.Rx)().required("required*"),department:(0,W.Z_)().trim().required("required*").nullable(!0),programme:(0,W.Z_)().trim().required("required*").nullable(!0),level:(0,W.Z_)().required("required*").nullable(!0)}),We=(0,d.useMutation)(O.tS);return(0,B.jsxs)(g.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,B.jsx)(b.Z,{title:"Add Student",borderBottom:"1px solid #5aa7a7",children:(0,B.jsxs)(a.Z,{children:[(0,B.jsx)(k.Z,{})," Add Student"]})}),(0,B.jsx)(q.J9,{initialValues:De,validationSchema:qe,onSubmit:function(e,n){n.setSubmitting(!0),e.indexNumber=(0,D.Z)().split("-")[0],We.mutateAsync(e,{onSuccess:function(e){A().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"Student saved successfully!!!",confirmButtonColor:"#5aa7a7"}),n.resetForm()},onError:function(e){console.log(e)},onSettled:function(){n.setSubmitting(!1),c.invalidateQueries("student")}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,i=e.values,l=e.errors,s=e.touched,o=e.handleSubmit;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(S.Z,{children:[(0,B.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,B.jsx)(y.Z,{src:null===K?null:URL.createObjectURL(K),sx:{width:100,height:100,position:"relative"}}),(0,B.jsx)(w.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,B.jsx)(M.Z,{sx:{width:16,color:"#fff"}})}),(0,B.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return Q(e.target.files[0])}})]}),(0,B.jsx)(a.Z,{children:"1.Personal Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:$,error:Boolean(s.fullname&&l.fullname),helperText:l.fullname,onChange:function(e){return ee(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:i.dob,error:Boolean(s.dob&&l.dob),helperText:l.dob,onChange:function(e,n){return de(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(z.Z,{children:[(0,B.jsx)(w.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,B.jsxs)(P.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:re,onChange:function(e,n){return ie(n)},children:[(0,B.jsx)(T.Z,{value:"Male",control:(0,B.jsx)(I.Z,{}),label:"Male"}),(0,B.jsx)(T.Z,{value:"Female",control:(0,B.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,B.jsx)(a.Z,{children:"2.Contact Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:ce,error:Boolean(s.email&&l.email),helperText:l.email,onChange:function(e){return he(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:Ze,error:Boolean(s.telephoneNo&&l.telephoneNo),helperText:l.telephoneNo,onChange:function(e,n){return ge(e.currentTarget.value)}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:me,error:Boolean(s.address&&l.address),helperText:l.address,onChange:function(e){return fe(e.currentTarget.value)}})})]}),(0,B.jsx)(a.Z,{children:"3.Academic Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:N,value:ye,onChange:function(e,n){return Ce(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(s.department&&l.department),helperText:l.department}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:V,value:Ae,onChange:function(e,n){return Ie(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(s.programme&&l.programme),helperText:l.programme}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:h,value:ze,onChange:function(e,n){return we(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(s.level&&l.level),helperText:l.level}))}})})]})]}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(F.Z,{sx:{minWidth:100},variant:"contained",onClick:o,loading:n,children:"Save"}),(0,B.jsx)(m.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Close"})]})]})}})]})},L=t(98274),V=t(10477),Y=t(74165),G=t(15861),U=t(15617),K=t.n(U),Q=t(44059),J=t(60183),X=t(53767),$=t(58340),ee=t(81639),ne=t(74223),te=(0,ne.Z)((0,B.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilitySharp"),re=(0,ne.Z)((0,B.jsx)("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4h4zm-7 4h-4l1-4h4l-1 4z"}),"NumbersSharp"),ie=(0,ne.Z)((0,B.jsx)("path",{d:"M7 3H4v3H2V1h5v2zm15 3V1h-5v2h3v3h2zM7 21H4v-3H2v5h5v-2zm13-3v3h-3v2h5v-5h-2zM19 4v16H5V4h14zm-4 4H9v2h6V8zm0 3H9v2h6v-2zm0 3H9v2h6v-2z"}),"DocumentScannerSharp"),le=t(38820),se=t(4208),oe=t(89712),de=t(73767),ae=t(16871),ue=t(90038),ce=t(763),he=t.n(ce);H="https://aamusted-results.herokuapp.com";var xe=function(e){var n=e.open,t=e.setOpen,s=(0,l.useContext)(R.D).customState,o=(0,Z.Z)().palette,c=["100","200","300","400"],h=(0,l.useState)([]),p=(0,i.Z)(h,2),v=p[0],N=p[1],D=(0,l.useState)([]),k=(0,i.Z)(D,2),M=k[0],_=k[1],L=(0,l.useState)(""),V=(0,i.Z)(L,2),Y=V[0],G=V[1],U=(0,l.useState)(null),K=(0,i.Z)(U,2),Q=K[0],J=K[1],X=(0,l.useState)(""),$=(0,i.Z)(X,2),ee=$[0],ne=$[1],te=(0,l.useState)("Male"),re=(0,i.Z)(te,2),ie=re[0],se=re[1],oe=(0,l.useState)(""),de=(0,i.Z)(oe,2),ae=de[0],ue=de[1],ce=(0,l.useState)(""),xe=(0,i.Z)(ce,2),pe=xe[0],me=xe[1],fe=(0,l.useState)(""),je=(0,i.Z)(fe,2),ve=je[0],Ze=je[1],ge=(0,l.useState)(""),be=(0,i.Z)(ge,2),Se=be[0],ye=be[1],Ce=(0,l.useState)(null),Ee=(0,i.Z)(Ce,2),Ne=Ee[0],Ae=Ee[1],Ie=(0,l.useState)(null),Pe=(0,i.Z)(Ie,2),Te=Pe[0],ze=Pe[1],we=(0,l.useState)(null),De=(0,i.Z)(we,2),qe=De[0],We=De[1];(0,l.useEffect)((function(){var e=[],n=[];s.departmentOptions.forEach((function(n,t){e.push(n.department)})),s.programmeOptions.forEach((function(e,t){n.push(e.programme)})),N(e),_(n)}),[s.programmeOptions,s.departmentOptions]),(0,l.useEffect)((function(){var e,n,t,r,i,l,o,d,a,u,c;he().isEmpty(s.studentEditData)||(G(null===s||void 0===s||null===(e=s.studentEditData)||void 0===e?void 0:e._id),J(null===s||void 0===s||null===(n=s.studentEditData)||void 0===n?void 0:n.profile),ne(null===s||void 0===s||null===(t=s.studentEditData)||void 0===t?void 0:t.fullname),se(null===s||void 0===s||null===(r=s.studentEditData)||void 0===r?void 0:r.gender),ue(null===s||void 0===s||null===(i=s.studentEditData)||void 0===i?void 0:i.dob),me(null===s||void 0===s||null===(l=s.studentEditData)||void 0===l?void 0:l.email),Ze(null===s||void 0===s||null===(o=s.studentEditData)||void 0===o?void 0:o.address),ye(null===s||void 0===s||null===(d=s.studentEditData)||void 0===d?void 0:d.telephoneNo),Ae(null===s||void 0===s||null===(a=s.studentEditData)||void 0===a?void 0:a.department),ze(null===s||void 0===s||null===(u=s.studentEditData)||void 0===u?void 0:u.programme),We(null===s||void 0===s||null===(c=s.studentEditData)||void 0===c?void 0:c.level))}),[s.studentEditData]);var ke=(0,W.Ry)().shape({fullname:(0,W.Z_)().trim().required("required*"),gender:(0,W.Z_)().trim().required("required*"),dob:(0,W.hT)().required("required*"),email:(0,W.Z_)().trim().required("required").email("Invalid email address"),address:(0,W.Z_)().trim().required("required"),telephoneNo:(0,W.Rx)().required("required*"),department:(0,W.Z_)().trim().required("required*").nullable(!0),programme:(0,W.Z_)().trim().required("required*").nullable(!0),level:(0,W.Z_)().required("required*").nullable(!0)}),Fe=(0,d.useMutation)(O.Gc);return(0,B.jsxs)(g.Z,{maxWidth:"md",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,B.jsxs)(b.Z,{title:"Add Student",children:[(0,B.jsx)(le.Z,{})," Edit Student"]}),(0,B.jsx)(q.J9,{initialValues:{_id:Y,profile:Q,fullname:ee,gender:ie,dob:ae,email:pe,address:ve,telephoneNo:Se,department:Ne,programme:Te,level:qe},validationSchema:ke,onSubmit:function(e,n){n.setSubmitting(!0),Fe.mutateAsync(e,{onSuccess:function(e){A().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"Student saved successfully!!!",confirmButtonColor:"#5aa7a7"}),n.resetForm()},onError:function(e,n,t){console.log(n)},onSettled:function(){n.setSubmitting(!1)}})},enableReinitialize:!0,children:function(e){var n,i,l,o,d=e.isSubmitting,h=e.values,p=e.errors,Z=e.touched,g=e.handleSubmit;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(S.Z,{children:[(0,B.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto"},children:[(0,B.jsx)(y.Z,{src:""===(null===s||void 0===s||null===(n=s.studentEditData)||void 0===n?void 0:n.profile)||void 0===(null===s||void 0===s||null===(i=s.studentEditData)||void 0===i?void 0:i.profile)||null===(null===s||void 0===s||null===(l=s.studentEditData)||void 0===l?void 0:l.profile)?null:"".concat(H,"/images/").concat(null===s||void 0===s||null===(o=s.studentEditData)||void 0===o?void 0:o.profile),sx:{width:100,height:100,position:"relative"}}),(0,B.jsx)(w.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,B.jsx)(le.Z,{sx:{width:16,color:"#fff"}})}),(0,B.jsx)("input",{type:"file",hidden:!0,id:"profile"})]}),(0,B.jsx)(a.Z,{fontWeight:"bold",children:"1.Personal Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:ee,error:Boolean(Z.fullname&&p.fullname),helperText:p.fullname,onChange:function(e){return ne(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",placeholder:"",type:"date",fullWidth:!0,size:"small",value:h.dob,error:Boolean(Z.dob&&p.dob),helperText:p.dob,onChange:function(e,n){return ue(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(z.Z,{children:[(0,B.jsx)(w.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,B.jsxs)(P.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:ie,onChange:function(e,n){return se(n)},children:[(0,B.jsx)(T.Z,{value:"Male",control:(0,B.jsx)(I.Z,{}),label:"Male"}),(0,B.jsx)(T.Z,{value:"Female",control:(0,B.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,B.jsx)(a.Z,{fontWeight:"bold",children:"2.Contact Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:pe,error:Boolean(Z.email&&p.email),helperText:p.email,onChange:function(e){return me(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:Se,error:Boolean(Z.telephoneNo&&p.telephoneNo),helperText:p.telephoneNo,onChange:function(e,n){return ye(e.currentTarget.value)}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:ve,error:Boolean(Z.address&&p.address),helperText:p.address,onChange:function(e){return Ze(e.currentTarget.value)}})})]}),(0,B.jsx)(a.Z,{fontWeight:"bold",children:"3.Academic Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:v,value:Ne,onChange:function(e,n){return Ae(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(Z.department&&p.department),helperText:p.department}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:M,value:Te,onChange:function(e,n){return ze(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(Z.programme&&p.programme),helperText:p.programme}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:c,value:qe,onChange:function(e,n){return We(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(Z.level&&p.level),helperText:p.level}))}})})]})]}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(F.Z,{sx:{color:"#fff",minWidth:100},variant:"contained",onClick:g,loading:d,children:"Save"}),(0,B.jsx)(m.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var pe,me=function(e){var n=e.open,t=e.setOpen,r=(0,l.useContext)(R.D).customState,s=(0,l.useState)(""),o=(0,i.Z)(s,2),a=o[0],c=o[1],h=(0,l.useState)(" Assign New Index Number"),x=(0,i.Z)(h,2),p=x[0],f=x[1];(0,l.useEffect)((function(){"object"===typeof r.assignedIndexNo&&f("Start Index Number")}),[r.assignedIndexNo]);var v=(0,d.useMutation)(O.KV);return(0,B.jsxs)(g.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return t(!1)},children:[(0,B.jsx)(b.Z,{title:p,textAlign:"center",children:p}),(0,B.jsx)(S.Z,{children:(0,B.jsx)(u.Z,{padding:2,children:(0,B.jsx)(j.Z,{label:"Index Number",fullWidth:!0,value:a,onChange:function(e){return c(e.currentTarget.value)}})})}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(m.Z,{onClick:function(){var e=r.assignedIndexNo,n=[];if("object"===typeof e){var t=a;e.map((function(e){var r={indexNumber:t,id:e._id};return n.push(r),t++,r}))}else n.push({indexNumber:a,id:r.assignedIndexNo});v.mutateAsync(n,{onSuccess:function(e){alert("Index number Updated")}})},children:"Save"}),(0,B.jsx)(m.Z,{onClick:function(){return t(!1)},children:"Cancel"})]})]})},fe=t(76385),je=t(92633);function ve(e){var n=e.heading,t=e.isLoading,s=e.data,o=e.refresh,a=e.sortComponent,c=(0,ae.s0)(),h=(0,l.useContext)(R.D).customDispatch,x=(0,l.useState)("none"),m=(0,i.Z)(x,2),f=m[0],j=m[1],v=(0,l.useState)(!1),Z=(0,i.Z)(v,2),g=Z[0],b=Z[1],S=(0,l.useState)(!1),C=(0,i.Z)(S,2),E=C[0],N=C[1],A=(0,l.useState)([]),I=(0,i.Z)(A,2),P=I[0],T=I[1],z=(0,l.useState)([]),w=(0,i.Z)(z,2),D=w[0],q=w[1],W=(0,l.useState)(!1),k=(0,i.Z)(W,2),M=k[0],H=k[1],_=(0,l.useState)(!1),L=(0,i.Z)(_,2),V=L[0],ne=L[1],ce=(0,l.useState)({severity:"",msg:""}),he=(0,i.Z)(ce,2),ve=he[0],Ze=he[1];(0,l.useEffect)((function(){return window.addEventListener("scroll",ge),function(){window.removeEventListener("scroll",ge)}}));var ge=function(e){var n=window.scrollY;j(n>=340?"block":"none")},be=(0,d.useMutation)(O.MA),Se=(0,d.useMutation)(fe.bN),ye=(0,d.useMutation)(fe.G);function Ce(e){be.mutateAsync(e,{onSuccess:function(e){alert("Data deleted")}})}function Ee(e){H(!0);var n=e.map((function(e){return e.indexNumber}));Promise.all(n).then((function(e){Se.mutateAsync(e,{onSettled:function(){H(!1)},onSuccess:function(e){q(e),Ze({severity:"info",msg:"Results of ".concat(e.length," students generated!!")})}})}))}var Ne=function(){ne(!0),console.log(D);var e=D.map((function(e){var n=(0,$.uS)((0,B.jsx)(je.Z,{studentInfo:e.student,studentRecord:e.result}));return{indexNumber:e.student.indexNumber,email:e.student.email,htmlText:n}}));Promise.all(e).then((function(e){ye.mutateAsync(e,{onSettled:function(){ne(!1)},onSuccess:function(e){Ze({severity:"success",msg:"Results of ".concat(e.length," students published!!")}),T([]),q([])}})}))},Ae=function(){Ze({severity:"",msg:""})};return(0,B.jsxs)(B.Fragment,{children:[ve.msg&&(0,B.jsx)(p.Z,{severity:ve.severity,onClose:Ae,children:ve.msg}),(0,B.jsxs)(u.Z,{sx:{paddingY:2},children:[(0,B.jsxs)(u.Z,{sx:{display:f,width:"100%",backgroundColor:"#fff",transition:"all 500ms ease-in-out",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"sticky",top:160,zIndex:100},children:[(0,B.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,B.jsx)(F.Z,{loading:M,variant:"contained",onClick:function(){return Ee(P)},disabled:0===P.length,children:"Generate Results"}),(0,B.jsx)(F.Z,{loading:V,variant:"contained",onClick:Ne,disabled:0===D.length,children:"Publish Results"})]}),ve.msg&&(0,B.jsx)(p.Z,{severity:ve.severity,onClose:Ae,children:ve.msg})]}),(0,B.jsx)(K(),{icons:ue.P,title:n,isLoading:t,components:{Toolbar:function(e){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(U.MTableToolbar,(0,r.Z)({},e)),a,(0,B.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,B.jsx)(F.Z,{loading:M,variant:"contained",onClick:function(){return Ee(P)},disabled:0===P.length,children:"Generate Results"}),(0,B.jsx)(F.Z,{loading:V,variant:"contained",onClick:Ne,disabled:0===D.length,children:"Publish Results"})]})]})}},style:{borderTop:"solid 2px #5aa7a7",boxShadow:"0px 0px 13px 0px rgb(82 63 105 / 10%)",borderRadius:"10px",transition:"all 1000ms linear ease-in-out"},options:{selection:!0,pageSizeOptions:[5,10,20,50,100],exportButton:!0,exportMenu:[{label:"Export PDF",exportFunc:function(e,t){return(0,Q.oK)(e,t,n)}},{label:"Export CSV",exportFunc:function(e,t){return(0,Q.b6)(e,t,n)}}]},columns:[{title:"ID",field:"_id",hidden:!0},{title:"Index Number",field:"indexNumber"},{title:"Profile",field:"profile",render:function(e){return(0,B.jsx)(y.Z,{src:""===e.profile||void 0===e.profile||null===e.profile?null:"".concat(pe,"/images/").concat(e.profile)})},grouping:!1,export:!1},{title:"Fullname",field:"fullname"},{title:"Gender",field:"gender"},{title:"DOB",field:"dob",hidden:!0},{title:"Email",field:"email",width:"100px"},{title:"Telephone No.",field:"telephoneNo",hidden:!0},{title:"Department",field:"department",hidden:!0},{title:"Programme",field:"programme"},{title:"Level",field:"level"},{title:"Options",sorting:!1,export:!1,grouping:!1,render:function(e){return(0,B.jsxs)(de.v2,{style:{zIndex:2e3},children:[(0,B.jsx)(de.j2,{style:{backgroundColor:"transparent",outline:"none",border:"none"},children:(0,B.jsx)(ee.Z,{})}),(0,B.jsxs)(de.qy,{children:[(0,B.jsxs)(de.sN,{onSelect:function(){localStorage.setItem("indexNumber",e.indexNumber),h({type:"currentStudentIndexNumber",payload:e.indexNumber}),c("/info/student-personal-info",{replace:!0})},children:[(0,B.jsx)(te,{fontSize:"32px"}),(0,B.jsx)("span",{children:"View Student Info"})]}),(0,B.jsxs)(de.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function n(){return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h({type:"assignIndexNo",payload:e._id});case 2:N(!0);case 3:case"end":return n.stop()}}),n)}))),children:[(0,B.jsx)(re,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Assign Index Number"})]}),(0,B.jsxs)(de.sN,{onSelect:function(){c("/info/data-entry",{state:{student:{id:e._id,fullname:e.fullname,indexNumber:e.indexNumber,profile:e.profile}}})},children:[(0,B.jsx)(ie,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Add Results"})]}),(0,B.jsx)(de.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function t(){return(0,Y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({type:n,payload:e});case 2:b(!0);case 3:case"end":return t.stop()}}),t)}))),children:(0,B.jsxs)(X.Z,{direction:"row",children:[(0,B.jsx)(le.Z,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Edit"})]})}),(0,B.jsxs)(de.sN,{onSelect:function(){Ce(e._id)},children:[(0,B.jsx)(se.Z,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Delete"})]})]})]})}}],data:s,actions:[{position:"toolbar",icon:function(){return(0,B.jsx)(oe.Z,{})},tooltip:"Refresh",isFreeAction:!0,onClick:function(){o()}},{position:"auto",tooltip:"Assign Index Number",icon:function(){return(0,B.jsx)(re,{fontSize:"32px"})},onClick:function(){var e=(0,G.Z)((0,Y.Z)().mark((function e(n,t){return(0,Y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({type:"assignIndexNo",payload:t});case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{position:"auto",tooltip:"Delete Students",icon:function(){return(0,B.jsx)(se.Z,{})},onClick:function(e,n){var t=[];n.map((function(e){return t.push(e._id)})),Ce(t)}}],onSelectionChange:function(e){T(e)}})]}),(0,B.jsx)(xe,{open:g,setOpen:b}),(0,B.jsx)(me,{open:E,setOpen:N})]})}pe="https://aamusted-results.herokuapp.com";var Ze=l.memo(ve),ge=function(){var e=(0,l.useContext)(R.D),n=e.customState,t=e.customDispatch,Z=(0,l.useState)(!1),g=(0,i.Z)(Z,2),b=g[0],S=g[1],y=(0,l.useState)(""),C=(0,i.Z)(y,2),E=C[0],N=C[1],A=(0,l.useState)({department:"",programme:"",level:""}),I=(0,i.Z)(A,2),P=I[0],T=I[1],z=(0,l.useState)([]),w=(0,i.Z)(z,2),D=w[0],q=w[1],W=(0,l.useState)([]),k=(0,i.Z)(W,2),F=k[0],M=k[1],H=(0,d.useQuery)(["student",P],(function(){return(0,O.uH)(P)}),{retry:3,onSuccess:function(e){t({type:"allStudents",payload:e})},onError:function(e){N(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,d.useQuery)(["department"],L.Sj,{retry:3,onSuccess:function(e){t({type:"departOptions",payload:e})}}),(0,d.useQuery)(["programme"],V.Sc,{retry:3,onSuccess:function(e){t({type:"progOptions",payload:e})}}),(0,l.useEffect)((function(){var e=[],t=[];n.departmentOptions.forEach((function(n,t){e.push(n.department)})),n.programmeOptions.forEach((function(e,n){t.push(e.programme)})),q(e),M(t)}),[n.programmeOptions,n.departmentOptions]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.Z,{children:(0,B.jsx)("title",{children:"AAMUSTED AAMUSTED Results System | Student"})}),(0,B.jsxs)("section",{className:"student-container",children:[(0,B.jsx)(v.Z,{children:(0,B.jsxs)("section",{children:[(0,B.jsx)(a.Z,{variant:"h5",children:"Students"}),(0,B.jsx)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,B.jsxs)(c.Z,{children:[(0,B.jsx)(h.Z,{children:"Home"}),(0,B.jsx)(a.Z,{children:"Student"})]})}),(0,B.jsx)(x.Z,{}),H.isLoading&&(0,B.jsx)(p.Z,{severity:"info",children:"Loading"}),E&&(0,B.jsx)(p.Z,{severity:"error",children:E}),(0,B.jsx)(u.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,B.jsx)(m.Z,{variant:"contained",disableElevation:!0,color:"secondary",startIcon:(0,B.jsx)(s.Z,{}),onClick:function(){return S(!0)},children:"Add Student"})}),(0,B.jsx)(a.Z,{gutterBottom:!0,children:"Sort by :"}),(0,B.jsxs)(u.Z,{sx:{display:"flex",justifyContent:{xs:"center",md:"flex-start"},alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,B.jsx)(f.Z,{disablePortal:!0,options:D,onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},P),{},{department:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Department",size:"small",fullWidth:!0}))}}),(0,B.jsx)(f.Z,{disablePortal:!0,options:F,onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},P),{},{programme:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Programme",size:"small",fullWidth:!0}))}}),(0,B.jsx)(f.Z,{disablePortal:!0,options:["100","200","300","400"],onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},P),{},{level:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Level",size:"small",fullWidth:!0}))}})]}),(0,B.jsx)(Ze,{isLoading:H.isLoading,heading:"Student",data:H.data,refresh:H.refetch})]})}),(0,B.jsx)(_,{open:b,setOpen:S})]})]})}},68087:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},4208:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteSharp")},38820:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},43992:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd")}}]);
//# sourceMappingURL=782.e7ca47ff.chunk.js.map
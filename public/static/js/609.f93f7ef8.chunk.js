"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[609],{19609:function(e,n,r){r.r(n),r.d(n,{default:function(){return Y}});var t=r(29439),a=r(72791),i=r(54270),s=r(4567),o=r(64554),l=r(48312),c=r(65469),u=r(94721),d=r(61474),m=r(61820),h=r(83449),p=r(47283),x=r(2249),f=r(68087),j=r(5849),Z=r(45289),v=r(13967),g=r(5574),C=r(65661),S=r(4899),y=r(53767),b=r(93006),D=r(77386),z=r(12258),A=r(92506),P=r(81724),B=r(64130),T=r(91933),W=r(98274),k=r(4799),w=r.n(k),E=r(80184);var O=function(e){var n=e.open,r=e.setOpen,t=(0,v.Z)().palette,a=(0,T.useQueryClient)(),i=P.Ry().shape({department:P.Z_().trim().required()}),s=(0,T.useMutation)(W.BZ);return(0,E.jsxs)(g.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return r(!1)},tabIndex:"-1",children:[(0,E.jsxs)(C.Z,{title:"Add Department",children:[(0,E.jsx)(B.Z,{}),"Add Department"]}),(0,E.jsx)(A.J9,{initialValues:{id:"",department:""},validationSchema:i,onSubmit:function(e,n){n.setSubmitting(!0),s.mutateAsync(e,{onSuccess:function(e){w().fire({icon:"success",iconColor:t.primary.main,title:"Success",text:"New Department addeed!!!",confirmButtonColor:t.primary.main}),a.invalidateQueries("department")},onError:function(e,n,r){console.log(n)},onSettled:function(){n.setSubmitting(!1)}})},children:function(e){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(S.Z,{children:(0,E.jsx)(y.Z,{paddingTop:2,children:(0,E.jsx)(b.Z,{variant:"filled",label:"Department",size:"sm",fullWidth:!0,value:e.values.department,onChange:e.handleChange("department"),onBlur:e.handleBlur("department"),error:e.touched.department&&e.errors.department,helperText:e.errors.department})})}),(0,E.jsxs)(D.Z,{children:[(0,E.jsx)(z.Z,{variant:"contained",loading:e.isSubmitting,onClick:e.handleSubmit,sx:{minWidth:100},children:"Save"}),(0,E.jsx)(j.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})},V=r(60502),N=r(99873);var Q=function(){var e=(0,a.useContext)(N.D).customDispatch,n=(0,T.useQuery)(["department"],W.Sj,{onSuccess:function(n){e({type:"departOptions",payload:n})}}),r=(0,a.useState)(!1),i=(0,t.Z)(r,2),s=i[0],l=i[1];return(0,E.jsxs)("section",{children:[(0,E.jsxs)(o.Z,{children:[(0,E.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return l(!0)},startIcon:(0,E.jsx)(f.Z,{}),children:"Add New Department"})}),(0,E.jsx)(Z.Z,{isLoading:n.isLoading,heading:"Department",columns:V.pu,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,E.jsx)(O,{open:s,setOpen:l})]})},q=r(1413),M=r(46314),_=r(10477);var H=function(e){var n=e.open,r=e.setOpen,i=(0,v.Z)().palette,s=(0,a.useContext)(N.D).customState,o=(0,T.useQueryClient)(),l=(0,a.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],m=(0,a.useState)(null),h=(0,t.Z)(m,2),p=h[0],x=h[1],f=(0,a.useState)(""),Z=(0,t.Z)(f,2),B=Z[0],W=Z[1];(0,a.useEffect)((function(){var e=[];s.departmentOptions.forEach((function(n,r){e.push(n.department)})),d(e)}),[s.departmentOptions]);var k={id:"",programme:B,department:p},O=P.Ry().shape({department:P.Z_().trim().required().nullable(!0),programme:P.Z_().trim().required()}),V=(0,T.useMutation)(_.Eg);return(0,E.jsxs)(g.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return r(!1)},children:[(0,E.jsx)(C.Z,{title:"Add Department",children:"Add Programme"}),(0,E.jsx)(A.J9,{initialValues:k,validationSchema:O,onSubmit:function(e,n){n.setSubmitting(!0),V.mutateAsync(e,{onSuccess:function(e){w().fire({icon:"success",iconColor:i.primary.main,title:"Success",text:"New Programme addeed!!!",confirmButtonColor:i.primary.main}),o.invalidateQueries("programme")},onError:function(e,n,r){console.log(n)},onSettled:function(){n.setSubmitting(!1)}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,t=e.values,a=e.errors,i=e.touched,s=(e.handleChange,e.handleSubmit);e.handleBlur;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(S.Z,{children:(0,E.jsxs)(y.Z,{paddingTop:2,rowGap:3,children:[(0,E.jsx)(M.Z,{id:"department",disablePortal:!0,size:"small",options:u,value:p,onChange:function(e,n){return x(n)},renderInput:function(e){return(0,E.jsx)(b.Z,(0,q.Z)((0,q.Z)({variant:"filled",label:"Select Department",size:"small",placeholder:"Select Department",fullWidth:!0},e),{},{error:Boolean(i.department&&a.department),helperText:a.department,autoFocus:!0}))}}),(0,E.jsx)(b.Z,{variant:"filled",label:"Programme",size:"small",fullWidth:!0,id:"programe",placeholder:"Enter Programme here",value:t.programme,onChange:function(e,n){return W(e.currentTarget.value)},error:Boolean(i.programme&&a.programme),helperText:a.programme})]})}),(0,E.jsxs)(D.Z,{children:[(0,E.jsx)(z.Z,{loading:n,onClick:s,sx:{minWidth:100},variant:"contained",children:"Save"}),(0,E.jsx)(j.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})};var L=function(){var e=(0,a.useContext)(N.D).customDispatch,n=(0,a.useState)(!1),r=(0,t.Z)(n,2),i=r[0],s=r[1],l=(0,T.useQuery)(["programme"],_.Sc,{onSuccess:function(n){e({type:"progOptions",payload:n})}});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("section",{children:(0,E.jsxs)(o.Z,{children:[(0,E.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return s(!0)},startIcon:(0,E.jsx)(f.Z,{}),children:"Add New Programme"})}),(0,E.jsx)(Z.Z,{heading:"Programme",columns:V.lU,data:l.data,refresh:l.refetch})]})}),(0,E.jsx)(H,{open:i,setOpen:s})]})},R=r(41992),F=r(19895);var I=function(e){var n=e.open,r=e.setOpen,i=(0,a.useContext)(N.D).customState,s=(0,v.Z)().palette,o=(0,T.useQueryClient)(),l=(0,a.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],m=(0,a.useState)(null),h=(0,t.Z)(m,2),p=h[0],x=h[1],f=(0,a.useState)(""),Z=(0,t.Z)(f,2),B=Z[0],W=Z[1],k=(0,a.useState)(""),O=(0,t.Z)(k,2),V=O[0],Q=O[1];(0,a.useEffect)((function(){var e=[];i.programmeOptions.forEach((function(n,r){e.push(n.programme)})),d(e)}),[i.programmeOptions]);var _={id:"",programme:p,code:B,course:V},H=P.Ry().shape({programme:P.Z_().trim().required().nullable(!0),code:P.Z_().trim().required(),course:P.Z_().trim().required()}),L=(0,T.useMutation)(F.bq);return(0,E.jsxs)(g.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return r(!1)},children:[(0,E.jsxs)(C.Z,{title:"Add New Course",children:[(0,E.jsx)(R.Z,{}),"Add New Course"]}),(0,E.jsx)(A.J9,{initialValues:_,validationSchema:H,onSubmit:function(e,n){n.setSubmitting(!0),L.mutateAsync(e,{onSuccess:function(e){w().fire({icon:"success",iconColor:s.primary.main,title:"Success",text:"New Course addeed!!!",confirmButtonColor:s.primary.main}),o.invalidateQueries("course")},onError:function(e,n,r){console.log(n)},onSettled:function(){n.setSubmitting(!1)}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,t=e.values,a=e.errors,i=e.touched,s=e.handleSubmit;e.handleBlur;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(S.Z,{children:(0,E.jsxs)(y.Z,{paddingTop:2,rowGap:2,children:[(0,E.jsx)(M.Z,{id:"programme",disablePortal:!0,size:"small",options:u,value:p,onChange:function(e,n){return x(n)},renderInput:function(e){return(0,E.jsx)(b.Z,(0,q.Z)((0,q.Z)({variant:"filled",label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(i.programme&&a.programme),helperText:a.programme}))}}),(0,E.jsx)(b.Z,{variant:"filled",label:"Course Code",id:"code",size:"small",placeholder:"Enter Course Code here",fullWidth:!0,value:t.code,onChange:function(e,n){return W(e.currentTarget.value)},error:Boolean(i.code&&a.code),helperText:a.code}),(0,E.jsx)(b.Z,{variant:"filled",label:"Course",id:"course",size:"small",placeholder:"Enter Course here",fullWidth:!0,value:t.course,onChange:function(e,n){return Q(e.currentTarget.value)},error:Boolean(i.course&&a.course),helperText:a.course})]})}),(0,E.jsxs)(D.Z,{children:[(0,E.jsx)(z.Z,{variant:"contained",loading:n,onClick:s,children:"Save"}),(0,E.jsx)(j.Z,{color:"secondary",onClick:function(){return r(!1)},children:"Cancel"})]})]})}})]})};var J=function(){var e=(0,T.useQuery)(["course"],F.V3),n=(0,a.useState)(!1),r=(0,t.Z)(n,2),i=r[0],s=r[1];return(0,E.jsxs)("section",{children:[(0,E.jsxs)(o.Z,{children:[(0,E.jsx)(o.Z,{display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(j.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return s(!0)},startIcon:(0,E.jsx)(f.Z,{}),children:"Add New Course"})}),(0,E.jsx)(Z.Z,{isLoading:e.isLoading,heading:"Course",columns:V.dc,data:e.data,refresh:e.refetch})]}),(0,E.jsx)(I,{open:i,setOpen:s})]})},G=r(74223),U=(0,G.Z)((0,E.jsx)("path",{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"}),"House"),K=(0,G.Z)((0,E.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeSharp"),X=(0,G.Z)((0,E.jsx)("path",{d:"M22 3h-3V1h-2v2H7V1H5v2H2v20h20V3zm-2 18H4V8h16v13z"}),"CalendarTodaySharp");var Y=function(){var e=a.useState("1"),n=(0,t.Z)(e,2),r=n[0],f=n[1];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(i.q,{children:(0,E.jsx)("title",{children:"AAMUSTED Results System | Department"})}),(0,E.jsx)("section",{className:"department-container",children:(0,E.jsx)(m.Z,{children:(0,E.jsxs)("section",{children:[(0,E.jsx)(s.Z,{variant:"h4",children:"Department"}),(0,E.jsx)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,E.jsxs)(l.Z,{children:[(0,E.jsx)(c.Z,{children:"Home"}),(0,E.jsx)(s.Z,{children:"Department"})]})}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(h.ZP,{value:r,children:[(0,E.jsxs)(p.Z,{onChange:function(e,n){return f(n)},"aria-label":"department tabs",centered:!0,children:[(0,E.jsx)(d.Z,{label:"Department",value:"1",icon:(0,E.jsx)(U,{}),iconPosition:"start"}),(0,E.jsx)(d.Z,{label:"Programme",value:"2",icon:(0,E.jsx)(K,{}),iconPosition:"start"}),(0,E.jsx)(d.Z,{label:"Course",value:"3",icon:(0,E.jsx)(X,{}),iconPosition:"start"})]}),(0,E.jsx)(x.Z,{value:"1",children:(0,E.jsx)(Q,{})}),(0,E.jsx)(x.Z,{value:"2",children:(0,E.jsx)(L,{})}),(0,E.jsx)(x.Z,{value:"3",children:(0,E.jsx)(J,{})})]})]})})})]})}},68087:function(e,n,r){var t=r(74223),a=r(80184);n.Z=(0,t.Z)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")}}]);
//# sourceMappingURL=609.f93f7ef8.chunk.js.map
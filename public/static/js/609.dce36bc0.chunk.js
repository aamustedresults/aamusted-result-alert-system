"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[609],{19609:function(e,r,n){n.r(r),n.d(r,{default:function(){return Y}});var t=n(29439),i=n(72791),a=n(6907),o=n(4567),s=n(64554),l=n(48312),c=n(65469),u=n(94721),d=n(61474),m=n(91933),h=n(61820),p=n(83449),x=n(47283),f=n(2249),j=n(68087),Z=n(5849),g=n(76884),v=n(13967),C=n(5574),S=n(65661),y=n(4899),b=n(53767),D=n(93006),E=n(77386),P=n(12258),B=n(92506),z=n(81724),W=n(64130),w=n(98274),A=n(4799),O=n.n(A),T=n(80184);var k=function(e){var r=e.open,n=e.setOpen,t=(0,v.Z)().palette,i=(0,m.useQueryClient)(),a=z.Ry().shape({department:z.Z_().trim().required()}),o=(0,m.useMutation)(w.BZ);return(0,T.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:r,onClose:function(){return n(!1)},tabIndex:"-1",children:[(0,T.jsxs)(S.Z,{title:"Add Department",children:[(0,T.jsx)(W.Z,{}),"Add Department"]}),(0,T.jsx)(B.J9,{initialValues:{id:"",department:""},validationSchema:a,onSubmit:function(e,r){r.setSubmitting(!0),o.mutateAsync(e,{onSettled:function(){r.setSubmitting(!1),i.invalidateQueries(["department"])},onSuccess:function(e){O().fire({icon:"success",iconColor:t.primary.main,title:"Success",text:"New Department added!!!",confirmButtonColor:t.primary.main})},onError:function(e){O().fire({icon:"error",iconColor:t.primary.main,title:"Error",text:"Error saving department information.Please try again",confirmButtonColor:t.primary.main})}})},children:function(e){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{children:(0,T.jsx)(b.Z,{paddingTop:2,children:(0,T.jsx)(D.Z,{variant:"filled",label:"Department",size:"sm",fullWidth:!0,value:e.values.department,onChange:e.handleChange("department"),onBlur:e.handleBlur("department"),error:e.touched.department&&e.errors.department,helperText:e.errors.department})})}),(0,T.jsxs)(E.Z,{children:[(0,T.jsx)(P.Z,{variant:"contained",loading:e.isSubmitting,onClick:e.handleSubmit,sx:{minWidth:100},children:"Save"}),(0,T.jsx)(Z.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})}})]})},Q=n(60502),V=n(99873);var N=function(e){e.data;var r=(0,i.useContext)(V.D).customDispatch,n=(0,m.useQuery)(["department"],w.Sj,{onSuccess:function(e){r({type:"departOptions",payload:e})}}),a=(0,i.useState)(!1),o=(0,t.Z)(a,2),l=o[0],c=o[1];return(0,T.jsxs)("section",{children:[(0,T.jsxs)(s.Z,{children:[(0,T.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,T.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return c(!0)},startIcon:(0,T.jsx)(j.Z,{}),children:"Add New Department"})}),(0,T.jsx)(g.Z,{isLoading:n.isLoading,heading:"Department",columns:Q.pu,data:n.data,showResultsButton:!1,refresh:n.refetch})]}),(0,T.jsx)(k,{open:l,setOpen:c})]})},q=n(1413),F=n(46314),_=n(10477);var L=function(e){var r=e.open,n=e.setOpen,a=(0,v.Z)().palette,o=(0,i.useContext)(V.D).customState,s=(0,m.useQueryClient)(),l=(0,i.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],h=(0,i.useState)(null),p=(0,t.Z)(h,2),x=p[0],f=p[1],j=(0,i.useState)(""),g=(0,t.Z)(j,2),W=g[0],w=g[1];(0,i.useEffect)((function(){var e=[];o.departmentOptions.forEach((function(r,n){e.push(r.department)})),d(e)}),[o.departmentOptions]);var A={id:"",programme:W,department:x},k=z.Ry().shape({department:z.Z_().trim().required().nullable(!0),programme:z.Z_().trim().required()}),Q=(0,m.useMutation)(_.Eg);return(0,T.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:r,onClose:function(){return n(!1)},children:[(0,T.jsx)(S.Z,{title:"Add Department",children:"Add Programme"}),(0,T.jsx)(B.J9,{initialValues:A,validationSchema:k,onSubmit:function(e,r){r.setSubmitting(!0),Q.mutateAsync(e,{onSettled:function(){r.setSubmitting(!1),s.invalidateQueries(["programme"])},onSuccess:function(e){O().fire({icon:"success",iconColor:a.primary.main,title:"Success",text:"New Programme addeed!!!",confirmButtonColor:a.primary.main}),s.invalidateQueries(["programme"])},onError:function(e){O().fire({icon:"error",iconColor:a.primary.main,title:"Error",text:"Error saving programme information.Please try again",confirmButtonColor:a.primary.main})}})},enableReinitialize:!0,children:function(e){var r=e.isSubmitting,t=e.values,i=e.errors,a=e.touched,o=(e.handleChange,e.handleSubmit);e.handleBlur;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{children:(0,T.jsxs)(b.Z,{paddingTop:2,rowGap:3,children:[(0,T.jsx)(F.Z,{id:"department",disablePortal:!0,size:"small",options:u,value:x,onChange:function(e,r){return f(r)},renderInput:function(e){return(0,T.jsx)(D.Z,(0,q.Z)((0,q.Z)({variant:"filled",label:"Select Department",size:"small",placeholder:"Select Department",fullWidth:!0},e),{},{error:Boolean(a.department&&i.department),helperText:i.department,autoFocus:!0}))}}),(0,T.jsx)(D.Z,{variant:"filled",label:"Programme",size:"small",fullWidth:!0,id:"programe",placeholder:"Enter Programme here",value:t.programme,onChange:function(e,r){return w(e.currentTarget.value)},error:Boolean(a.programme&&i.programme),helperText:i.programme})]})}),(0,T.jsxs)(E.Z,{children:[(0,T.jsx)(P.Z,{loading:r,onClick:o,sx:{minWidth:100},variant:"contained",children:"Save"}),(0,T.jsx)(Z.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})}})]})};var M=function(){var e=(0,i.useContext)(V.D).customDispatch,r=(0,i.useState)(!1),n=(0,t.Z)(r,2),a=n[0],o=n[1],l=(0,m.useQuery)(["programme"],_.Sc,{onSuccess:function(r){e({type:"progOptions",payload:r})}});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("section",{children:(0,T.jsxs)(s.Z,{children:[(0,T.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,T.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,T.jsx)(j.Z,{}),children:"Add New Programme"})}),(0,T.jsx)(g.Z,{heading:"Programme",columns:Q.lU,data:l.data,refresh:l.refetch})]})}),(0,T.jsx)(L,{open:a,setOpen:o})]})},R=n(41992),H=n(19895);var I=function(e){var r=e.open,n=e.setOpen,a=(0,i.useContext)(V.D).customState,o=(0,v.Z)().palette,s=(0,m.useQueryClient)(),l=(0,i.useState)([]),c=(0,t.Z)(l,2),u=c[0],d=c[1],h=(0,i.useState)(null),p=(0,t.Z)(h,2),x=p[0],f=p[1],j=(0,i.useState)(""),g=(0,t.Z)(j,2),W=g[0],w=g[1],A=(0,i.useState)(""),k=(0,t.Z)(A,2),Q=k[0],N=k[1];(0,i.useEffect)((function(){var e=[];a.programmeOptions.forEach((function(r,n){e.push(r.programme)})),d(e)}),[a.programmeOptions]);var _={id:"",programme:x,code:W,course:Q},L=z.Ry().shape({programme:z.Z_().trim().required().nullable(!0),code:z.Z_().trim().required(),course:z.Z_().trim().required()}),M=(0,m.useMutation)(H.bq);return(0,T.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:r,onClose:function(){return n(!1)},children:[(0,T.jsxs)(S.Z,{title:"Add New Course",children:[(0,T.jsx)(R.Z,{}),"Add New Course"]}),(0,T.jsx)(B.J9,{initialValues:_,validationSchema:L,onSubmit:function(e,r){r.setSubmitting(!0),M.mutateAsync(e,{onSettled:function(){s.invalidateQueries(["course"]),r.setSubmitting(!1)},onSuccess:function(e){O().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"New Course addeed!!!",confirmButtonColor:o.primary.main})},onError:function(e){O().fire({icon:"error",iconColor:o.primary.main,title:"Error",text:"Error saving course information.Please try again",confirmButtonColor:o.primary.main})}})},enableReinitialize:!0,children:function(e){var r=e.isSubmitting,t=e.values,i=e.errors,a=e.touched,o=e.handleSubmit;e.handleBlur;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{children:(0,T.jsxs)(b.Z,{paddingTop:2,rowGap:2,children:[(0,T.jsx)(F.Z,{id:"programme",disablePortal:!0,size:"small",options:u,value:x,onChange:function(e,r){return f(r)},renderInput:function(e){return(0,T.jsx)(D.Z,(0,q.Z)((0,q.Z)({variant:"filled",label:"Select Programme",size:"small",placeholder:"Select Programme",fullWidth:!0},e),{},{error:Boolean(a.programme&&i.programme),helperText:i.programme}))}}),(0,T.jsx)(D.Z,{variant:"filled",label:"Course Code",id:"code",size:"small",placeholder:"Enter Course Code here",fullWidth:!0,value:t.code,onChange:function(e,r){return w(e.currentTarget.value)},error:Boolean(a.code&&i.code),helperText:i.code}),(0,T.jsx)(D.Z,{variant:"filled",label:"Course",id:"course",size:"small",placeholder:"Enter Course here",fullWidth:!0,value:t.course,onChange:function(e,r){return N(e.currentTarget.value)},error:Boolean(a.course&&i.course),helperText:i.course})]})}),(0,T.jsxs)(E.Z,{children:[(0,T.jsx)(P.Z,{variant:"contained",loading:r,onClick:o,children:"Save"}),(0,T.jsx)(Z.Z,{color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})}})]})};var J=function(){var e=(0,m.useQuery)(["course"],H.V3,{refetchOnWindowFocus:!0,onSuccess:function(e){}}),r=(0,i.useState)(!1),n=(0,t.Z)(r,2),a=n[0],o=n[1];return(0,T.jsxs)("section",{children:[(0,T.jsxs)(s.Z,{children:[(0,T.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",children:(0,T.jsx)(Z.Z,{color:"secondary",variant:"contained",sx:{color:"#fff"},onClick:function(){return o(!0)},startIcon:(0,T.jsx)(j.Z,{}),children:"Add New Course"})}),(0,T.jsx)(g.Z,{isLoading:e.isLoading,heading:"Course",columns:Q.dc,data:e.data,refresh:e.refetch})]}),(0,T.jsx)(I,{open:a,setOpen:o})]})},G=n(74223),U=(0,G.Z)((0,T.jsx)("path",{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"}),"House"),K=(0,G.Z)((0,T.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeSharp"),X=(0,G.Z)((0,T.jsx)("path",{d:"M22 3h-3V1h-2v2H7V1H5v2H2v20h20V3zm-2 18H4V8h16v13z"}),"CalendarTodaySharp");var Y=function(){var e=i.useState("1"),r=(0,t.Z)(e,2),n=r[0],j=r[1],Z=(0,m.useQuery)(["course"],H.V3,{refetchOnWindowFocus:!0});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(a.ql,{children:(0,T.jsx)("title",{children:"AAMUSTED Results System | Department"})}),(0,T.jsx)("section",{className:"department-container",children:(0,T.jsx)(h.Z,{children:(0,T.jsxs)("section",{children:[(0,T.jsx)(o.Z,{variant:"h4",children:"Department"}),(0,T.jsx)(s.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,T.jsxs)(l.Z,{children:[(0,T.jsx)(c.Z,{children:"Home"}),(0,T.jsx)(o.Z,{children:"Department"})]})}),(0,T.jsx)(u.Z,{}),(0,T.jsxs)(p.ZP,{value:n,children:[(0,T.jsxs)(x.Z,{onChange:function(e,r){return j(r)},"aria-label":"department tabs",centered:!0,children:[(0,T.jsx)(d.Z,{label:"Department",value:"1",icon:(0,T.jsx)(U,{}),iconPosition:"start"}),(0,T.jsx)(d.Z,{label:"Programme",value:"2",icon:(0,T.jsx)(K,{}),iconPosition:"start"}),(0,T.jsx)(d.Z,{label:"Course",value:"3",icon:(0,T.jsx)(X,{}),iconPosition:"start"})]}),(0,T.jsx)(f.Z,{value:"1",children:(0,T.jsx)(N,{})}),(0,T.jsx)(f.Z,{value:"2",children:(0,T.jsx)(M,{})}),(0,T.jsx)(f.Z,{value:"3",children:(0,T.jsx)(J,{data:Z})})]})]})})})]})}}}]);
//# sourceMappingURL=609.dce36bc0.chunk.js.map
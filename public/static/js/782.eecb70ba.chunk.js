"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[782],{40077:function(e,n,t){t.d(n,{v:function(){return r}});var r=function(e){switch(e){case"A":return 12;case"B+":return 10.5;case"B":return 9;case"C+":return 7.5;case"C":return 6;case"D+":return 4.5;case"D":return 3;case"E":return 1.5;case"F":return 0;default:return""}}},92633:function(e,n,t){var r=t(72791),i=t(94721),l=t(763),s=t.n(l),o=t(40077),a=t(80184);n.Z=function(e){var n=e.studentInfo,t=e.studentRecord,l=[],d=[],u=null===t||void 0===t?void 0:t.map((function(e,n){return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("table",{width:"100%",border:"0",children:(0,a.jsxs)("tr",{style:{backgroundColor:"#5aa7a7",color:"#fff",padding:"16px"},children:[(0,a.jsxs)("td",{children:[e.year," ACADEMIC YEAR"]}),(0,a.jsxs)("td",{children:["LEVEL ",e.level]}),(0,a.jsxs)("td",{children:[e.semester," SEMESTER"]})]})}),(0,a.jsxs)("table",{width:"100%",border:"0",style:{paddingBottom:"16px"},children:[(0,a.jsx)("thead",{style:{backgroundColor:"#333",color:"#fff",textAlign:"left"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Code"}),(0,a.jsx)("th",{children:"Course"}),(0,a.jsx)("th",{children:"Credit Hours"}),(0,a.jsx)("th",{children:"Score"}),(0,a.jsx)("th",{children:"Grade"}),(0,a.jsx)("th",{children:"Grade Point"})]})}),(0,a.jsx)("tbody",{style:{backgroundColor:"whitesmoke"},children:e.results.map((function(e,n){var t=(0,o.v)(e.grade);return l.push(e.creditHours),d.push(t),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.course.id}),(0,a.jsx)("td",{children:e.course.label}),(0,a.jsx)("td",{children:e.creditHours}),(0,a.jsx)("td",{children:e.score}),(0,a.jsx)("td",{children:e.grade}),(0,a.jsx)("td",{children:t})]},e.course.id)}))}),(0,a.jsxs)("tfoot",{style:{paddingBottom:"200px"},children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsxs)("td",{style:{backgroundColor:"#5aa7a7",color:"#fff"},children:["GPA-",(s().sum(d)/s().sum(l)).toFixed(2)]})]}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{children:"End"})})]})]})]},e._id)}));return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{width:"100%",maxWidth:"600px",margin:"auto",padding:"20px",backgroundColor:"#fff"},id:"printPageA",children:[(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"16px 0"},children:(0,a.jsx)("table",{width:"100%",style:{textAlign:"center"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("img",{src:"https://blogger.googleusercontent.com/img/a/AVvXsEjmgQKEPuA2OPPl0sErJ4oijrFu0fOYFIScPxZrtsOKsmN6lTTzi6CsX0TPnqzHCL44VU4ghmzmV6LScpciyOehKGuN9GH9OuIb299rBwE9bsTqmb26Ju6opaR_RkWnQarH6w8bIA9NaRBdZ-hT7UDWcgO5bcFuFneiUZAmvmPU1K998YJ7c83ZNQVHHA=s715",alt:"logo",style:{width:"120px",height:"120px"}})}),(0,a.jsxs)("td",{children:[(0,a.jsx)("h2",{children:"AKENTEN APPIAH-MENKA UNIVERSITY"}),(0,a.jsx)("p",{children:"ACADEMIC AFFAIRS OFFICE"}),(0,a.jsx)("p",{children:"TANOSO-KUMASI"})]})]})})}),(0,a.jsx)("p",{style:{textAlign:"center",color:"#fff",backgroundColor:"#000",padding:"10px 0"},children:"OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD"}),(0,a.jsx)(i.Z,{}),(0,a.jsxs)("table",{width:"100%",style:{textAlign:"center"},children:[(0,a.jsx)("tr",{style:{backgroundColor:"#5aa7a7"},children:(0,a.jsx)("td",{style:{color:"#fff",padding:"8px"},children:"STUDENT INFORMATION"})}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{style:{padding:"10px 0"}})})]}),(0,a.jsxs)("table",{width:"100%",children:[(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)("p",{style:{fontWeight:"bold"},children:" Student Number "}),(0,a.jsx)("p",{children:null===n||void 0===n?void 0:n.indexNumber})]}),(0,a.jsxs)("td",{children:[(0,a.jsx)("p",{style:{fontWeight:"bold"},children:"Full Name"}),(0,a.jsx)("p",{children:null===n||void 0===n?void 0:n.fullname})]}),(0,a.jsxs)("td",{children:[(0,a.jsx)("p",{style:{fontWeight:"bold"},children:" Date of Birth "}),(0,a.jsx)("p",{children:new Date(null===n||void 0===n?void 0:n.dob).toLocaleDateString()})]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)("p",{style:{fontWeight:"bold"},children:"Gender "}),(0,a.jsx)("p",{children:null===n||void 0===n?void 0:n.gender})]}),(0,a.jsxs)("td",{children:[(0,a.jsx)("p",{style:{fontWeight:"bold"},children:" Programme "}),(0,a.jsx)("p",{children:null===n||void 0===n?void 0:n.programme})]})]})]}),(0,a.jsx)("div",{style:{width:"100%"},children:0===t.length?null:u})]})})}},45782:function(e,n,t){t.r(n),t.d(n,{default:function(){return ge}});var r=t(1413),i=t(29439),l=t(72791),s=t(68087),o=t(54270),a=t(91933),d=t(4567),u=t(64554),c=t(48312),h=t(65469),x=t(94721),m=t(63515),p=t(5849),f=t(46314),j=t(93006),v=t(61820),Z=t(13967),g=t(5574),b=t(65661),S=t(4899),y=t(60220),C=t(81153),E=t(77386),N=t(4799),P=t.n(N),I=t(65639),A=t(88970),T=t(25801),z=t(45363),w=t(17133),D=t(92810),q=t(92506),k=t(81724),F=t(43992),W=t(12258),O=t(90110),R=t(99873),M=t(41286),B=t(80184);var _,H=function(e){var n=e.open,t=e.setOpen,s=(0,l.useContext)(R.D).customState,o=(0,Z.Z)().palette,c=(0,a.useQueryClient)(),h=["100","200","300","400"],m=(0,l.useState)([]),v=(0,i.Z)(m,2),N=v[0],_=v[1],H=(0,l.useState)([]),L=(0,i.Z)(H,2),V=L[0],Y=L[1];(0,l.useEffect)((function(){var e=[],n=[];s.departmentOptions.forEach((function(n,t){e.push(n.department)})),s.programmeOptions.forEach((function(e,t){n.push(e.programme)})),_(e),Y(n)}),[s.programmeOptions,s.departmentOptions]);var G=(0,l.useState)(null),U=(0,i.Z)(G,2),Q=U[0],K=U[1],J=(0,l.useState)(""),X=(0,i.Z)(J,2),$=X[0],ee=X[1],ne=(0,l.useState)("Male"),te=(0,i.Z)(ne,2),re=te[0],ie=te[1],le=(0,l.useState)(""),se=(0,i.Z)(le,2),oe=se[0],ae=se[1],de=(0,l.useState)(""),ue=(0,i.Z)(de,2),ce=ue[0],he=ue[1],xe=(0,l.useState)(""),me=(0,i.Z)(xe,2),pe=me[0],fe=me[1],je=(0,l.useState)(""),ve=(0,i.Z)(je,2),Ze=ve[0],ge=ve[1],be=(0,l.useState)(null),Se=(0,i.Z)(be,2),ye=Se[0],Ce=Se[1],Ee=(0,l.useState)(null),Ne=(0,i.Z)(Ee,2),Pe=Ne[0],Ie=Ne[1],Ae=(0,l.useState)(null),Te=(0,i.Z)(Ae,2),ze=Te[0],we=Te[1],De={profile:Q,fullname:$,gender:re,dob:oe,email:ce,address:pe,telephoneNo:Ze,department:ye,programme:Pe,level:ze},qe=(0,k.Ry)().shape({fullname:(0,k.Z_)().trim().required("required*"),gender:(0,k.Z_)().trim().required("required*"),dob:(0,k.hT)().required("required*"),email:(0,k.Z_)().trim().required("required").email("Invalid email address"),address:(0,k.Z_)().trim().required("required"),telephoneNo:(0,k.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,k.Z_)().trim().required("required*").nullable(!0),programme:(0,k.Z_)().trim().required("required*").nullable(!0),level:(0,k.Z_)().required("required*").nullable(!0)}),ke=(0,a.useMutation)(O.tS);return(0,B.jsxs)(g.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,B.jsx)(b.Z,{title:"Add Student",borderBottom:"1px solid #5aa7a7",children:(0,B.jsxs)(d.Z,{children:[(0,B.jsx)(F.Z,{})," Add Student"]})}),(0,B.jsx)(q.J9,{initialValues:De,validationSchema:qe,onSubmit:function(e,n){n.setSubmitting(!0),e.indexNumber=(0,D.Z)().split("-")[0],ke.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),c.invalidateQueries(["student"])},onSuccess:function(e){P().fire({icon:"success",iconColor:o.primary.main,title:"Success",text:"Student saved successfully!!!",confirmButtonColor:"#5aa7a7"}),n.resetForm()},onError:function(e){P().fire({icon:"error",iconColor:o.primary.main,title:"Error",text:"Error saving programme information.Please try again",confirmButtonColor:o.primary.main})}})},enableReinitialize:!0,children:function(e){var n=e.isSubmitting,i=e.values,l=e.errors,s=e.touched,o=e.handleSubmit;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(S.Z,{children:[(0,B.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",marginTop:2},children:[(0,B.jsx)(y.Z,{src:null===Q?null:URL.createObjectURL(Q),sx:{width:100,height:100,position:"relative"}}),(0,B.jsx)(w.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,B.jsx)(M.Z,{sx:{width:16,color:"#fff"}})}),(0,B.jsx)("input",{type:"file",hidden:!0,id:"profile",onChange:function(e){return K(e.target.files[0])}})]}),(0,B.jsx)(d.Z,{children:"1.Personal Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:$,error:Boolean(s.fullname&&l.fullname),helperText:l.fullname,onChange:function(e){return ee(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Date of birth",placeholder:"",type:"date",fullWidth:!0,size:"small",value:i.dob,error:Boolean(s.dob&&l.dob),helperText:l.dob,onChange:function(e,n){return ae(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(z.Z,{children:[(0,B.jsx)(w.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,B.jsxs)(A.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:re,onChange:function(e,n){return ie(n)},children:[(0,B.jsx)(T.Z,{value:"Male",control:(0,B.jsx)(I.Z,{}),label:"Male"}),(0,B.jsx)(T.Z,{value:"Female",control:(0,B.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,B.jsx)(d.Z,{children:"2.Contact Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:ce,error:Boolean(s.email&&l.email),helperText:l.email,onChange:function(e){return he(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:Ze,error:Boolean(s.telephoneNo&&l.telephoneNo),helperText:l.telephoneNo,onChange:function(e,n){return ge(e.currentTarget.value)}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:pe,error:Boolean(s.address&&l.address),helperText:l.address,onChange:function(e){return fe(e.currentTarget.value)}})})]}),(0,B.jsx)(d.Z,{children:"3.Academic Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:N,value:ye,onChange:function(e,n){return Ce(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(s.department&&l.department),helperText:l.department}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:V,value:Pe,onChange:function(e,n){return Ie(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(s.programme&&l.programme),helperText:l.programme}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:h,value:ze,onChange:function(e,n){return we(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(s.level&&l.level),helperText:l.level}))}})})]})]}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(W.Z,{disabled:n,variant:"contained",onClick:o,loading:n,children:"Save"}),(0,B.jsx)(p.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})},L=t(98274),V=t(10477),Y=t(74165),G=t(15861),U=t(15617),Q=t.n(U),K=t(44059),J=t(60183),X=t(53767),$=t(58340),ee=t(81639),ne=t(74223),te=(0,ne.Z)((0,B.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilitySharp"),re=(0,ne.Z)((0,B.jsx)("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4h4zm-7 4h-4l1-4h4l-1 4z"}),"NumbersSharp"),ie=(0,ne.Z)((0,B.jsx)("path",{d:"M7 3H4v3H2V1h5v2zm15 3V1h-5v2h3v3h2zM7 21H4v-3H2v5h5v-2zm13-3v3h-3v2h5v-5h-2zM19 4v16H5V4h14zm-4 4H9v2h6V8zm0 3H9v2h6v-2zm0 3H9v2h6v-2z"}),"DocumentScannerSharp"),le=t(38820),se=t(4208),oe=t(89712),ae=t(73767),de=t(16871),ue=t(90038),ce=t(763),he=t.n(ce);_="https://aamusted-results.herokuapp.com";var xe=function(e){var n=e.open,t=e.setOpen,s=(0,a.useQueryClient)(),o=(0,l.useContext)(R.D).customState,c=(0,Z.Z)().palette,h=["100","200","300","400"],m=(0,l.useState)([]),v=(0,i.Z)(m,2),N=v[0],D=v[1],F=(0,l.useState)([]),M=(0,i.Z)(F,2),H=M[0],L=M[1],V=(0,l.useState)(""),Y=(0,i.Z)(V,2),G=Y[0],U=Y[1],Q=(0,l.useState)(null),K=(0,i.Z)(Q,2),J=K[0],X=K[1],$=(0,l.useState)(""),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1],re=(0,l.useState)("Male"),ie=(0,i.Z)(re,2),se=ie[0],oe=ie[1],ae=(0,l.useState)(""),de=(0,i.Z)(ae,2),ue=de[0],ce=de[1],xe=(0,l.useState)(""),me=(0,i.Z)(xe,2),pe=me[0],fe=me[1],je=(0,l.useState)(""),ve=(0,i.Z)(je,2),Ze=ve[0],ge=ve[1],be=(0,l.useState)(""),Se=(0,i.Z)(be,2),ye=Se[0],Ce=Se[1],Ee=(0,l.useState)(null),Ne=(0,i.Z)(Ee,2),Pe=Ne[0],Ie=Ne[1],Ae=(0,l.useState)(null),Te=(0,i.Z)(Ae,2),ze=Te[0],we=Te[1],De=(0,l.useState)(null),qe=(0,i.Z)(De,2),ke=qe[0],Fe=qe[1];(0,l.useEffect)((function(){var e=[],n=[];o.departmentOptions.forEach((function(n,t){e.push(n.department)})),o.programmeOptions.forEach((function(e,t){n.push(e.programme)})),D(e),L(n)}),[o.programmeOptions,o.departmentOptions]),(0,l.useEffect)((function(){var e,n,t,r,i,l,s,a,d,u,c;he().isEmpty(o.studentEditData)||(U(null===o||void 0===o||null===(e=o.studentEditData)||void 0===e?void 0:e._id),X(null===o||void 0===o||null===(n=o.studentEditData)||void 0===n?void 0:n.profile),te(null===o||void 0===o||null===(t=o.studentEditData)||void 0===t?void 0:t.fullname),oe(null===o||void 0===o||null===(r=o.studentEditData)||void 0===r?void 0:r.gender),ce(null===o||void 0===o||null===(i=o.studentEditData)||void 0===i?void 0:i.dob),fe(null===o||void 0===o||null===(l=o.studentEditData)||void 0===l?void 0:l.email),ge(null===o||void 0===o||null===(s=o.studentEditData)||void 0===s?void 0:s.address),Ce(null===o||void 0===o||null===(a=o.studentEditData)||void 0===a?void 0:a.telephoneNo),Ie(null===o||void 0===o||null===(d=o.studentEditData)||void 0===d?void 0:d.department),we(null===o||void 0===o||null===(u=o.studentEditData)||void 0===u?void 0:u.programme),Fe(null===o||void 0===o||null===(c=o.studentEditData)||void 0===c?void 0:c.level))}),[o.studentEditData]);var We=(0,k.Ry)().shape({fullname:(0,k.Z_)().trim().required("required*"),gender:(0,k.Z_)().trim().required("required*"),dob:(0,k.hT)().required("required*"),email:(0,k.Z_)().trim().required("required").email("Invalid email address"),address:(0,k.Z_)().trim().required("required"),telephoneNo:(0,k.Z_)().trim().required("Required*").matches(/^(\+\d{1,3})?\(?\d{3}\)?\d{3}\d{4}$/,"Invalid Phone number"),department:(0,k.Z_)().trim().required("required*").nullable(!0),programme:(0,k.Z_)().trim().required("required*").nullable(!0),level:(0,k.Z_)().required("required*").nullable(!0)}),Oe=(0,a.useMutation)(O.Gc);return(0,B.jsxs)(g.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){return t(!1)},children:[(0,B.jsxs)(b.Z,{children:[(0,B.jsx)(le.Z,{})," Edit Student"]}),(0,B.jsx)(q.J9,{initialValues:{_id:G,profile:J,fullname:ne,gender:se,dob:ue,email:pe,address:Ze,telephoneNo:ye,department:Pe,programme:ze,level:ke},validationSchema:We,onSubmit:function(e,n){n.setSubmitting(!0),Oe.mutateAsync(e,{onSettled:function(){n.setSubmitting(!1),s.invalidateQueries(["student"])},onSuccess:function(e){P().fire({icon:"success",iconColor:c.primary.main,title:"Success",text:"Student information updated!",confirmButtonColor:c.primary.main}),n.resetForm()},onError:function(e){P().fire({icon:"error",iconColor:c.primary.main,title:"Error",text:"Error updating student info.Please try again",confirmButtonColor:c.primary.main})}})},enableReinitialize:!0,children:function(e){var n,i,l,s,a=e.isSubmitting,c=e.values,m=e.errors,v=e.touched,Z=e.handleSubmit;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(S.Z,{children:[(0,B.jsxs)(u.Z,{sx:{width:120,height:120,backgroundColor:"#fff",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto"},children:[(0,B.jsx)(y.Z,{src:""===(null===o||void 0===o||null===(n=o.studentEditData)||void 0===n?void 0:n.profile)||void 0===(null===o||void 0===o||null===(i=o.studentEditData)||void 0===i?void 0:i.profile)||null===(null===o||void 0===o||null===(l=o.studentEditData)||void 0===l?void 0:l.profile)?null:"".concat(_,"/images/").concat(null===o||void 0===o||null===(s=o.studentEditData)||void 0===s?void 0:s.profile),sx:{width:100,height:100,position:"relative"}}),(0,B.jsx)(w.Z,{htmlFor:"profile",title:"Attach Your Photo",sx:{width:"30px",height:"30px",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",position:"absolute",top:0,right:0,backgroundColor:"#5aa7a7"},children:(0,B.jsx)(le.Z,{sx:{width:16,color:"#fff"}})}),(0,B.jsx)("input",{type:"file",hidden:!0,id:"profile"})]}),(0,B.jsx)(d.Z,{fontWeight:"bold",children:"1.Personal Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"FullName",placeholder:"FullName here",id:"fullname",fullWidth:!0,size:"small",value:ne,error:Boolean(v.fullname&&m.fullname),helperText:m.fullname,onChange:function(e){return te(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",placeholder:"",type:"date",fullWidth:!0,size:"small",value:c.dob,error:Boolean(v.dob&&m.dob),helperText:m.dob,onChange:function(e,n){return ce(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(z.Z,{children:[(0,B.jsx)(w.Z,{id:"demo-controlled-radio-buttons-group",children:"Gender"}),(0,B.jsxs)(A.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",row:!0,value:se,onChange:function(e,n){return oe(n)},children:[(0,B.jsx)(T.Z,{value:"Male",control:(0,B.jsx)(I.Z,{}),label:"Male"}),(0,B.jsx)(T.Z,{value:"Female",control:(0,B.jsx)(I.Z,{}),label:"Female"})]})]})})]}),(0,B.jsx)(d.Z,{fontWeight:"bold",children:"2.Contact Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Email Address",placeholder:"Email Address here",fullWidth:!0,size:"small",value:pe,error:Boolean(v.email&&m.email),helperText:m.email,onChange:function(e){return fe(e.currentTarget.value)},required:!0})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Telephone",placeholder:"Telephone here",fullWidth:!0,size:"small",value:ye,error:Boolean(v.telephoneNo&&m.telephoneNo),helperText:m.telephoneNo,onChange:function(e,n){return Ce(e.currentTarget.value)}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(j.Z,{variant:"filled",label:"Address",placeholder:"Address here",multiline:!0,maxRows:4,fullWidth:!0,size:"small",value:Ze,error:Boolean(v.address&&m.address),helperText:m.address,onChange:function(e){return ge(e.currentTarget.value)}})})]}),(0,B.jsx)(d.Z,{fontWeight:"bold",children:"3.Academic Information"}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(C.ZP,{container:!0,spacing:3,paddingY:2,children:[(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:N,value:Pe,onChange:function(e,n){return Ie(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Department",fullWidth:!0,size:"small",error:Boolean(v.department&&m.department),helperText:m.department}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:H,value:ze,onChange:function(e,n){return we(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Programme",fullWidth:!0,size:"small",error:Boolean(v.programme&&m.programme),helperText:m.programme}))}})}),(0,B.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(f.Z,{disablePortal:!0,options:h,value:ke,onChange:function(e,n){return Fe(n)},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({variant:"filled"},e),{},{label:"Level",fullWidth:!0,size:"small",error:Boolean(v.level&&m.level),helperText:m.level}))}})})]})]}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(W.Z,{disabled:a,variant:"contained",onClick:Z,loading:a,children:"Save Changes"}),(0,B.jsx)(p.Z,{color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})}})]})};var me,pe=function(e){var n=e.open,t=e.setOpen,r=(0,l.useContext)(R.D).customState,s=(0,l.useState)(""),o=(0,i.Z)(s,2),d=o[0],c=o[1],h=(0,l.useState)(" Assign New Index Number"),x=(0,i.Z)(h,2),m=x[0],f=x[1];(0,l.useEffect)((function(){"object"===typeof r.assignedIndexNo&&f("Start Index Number")}),[r.assignedIndexNo]);var v=(0,a.useMutation)(O.KV);return(0,B.jsxs)(g.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:function(){return t(!1)},children:[(0,B.jsx)(b.Z,{title:m,textAlign:"center",children:m}),(0,B.jsx)(S.Z,{children:(0,B.jsx)(u.Z,{padding:2,children:(0,B.jsx)(j.Z,{label:"Index Number",fullWidth:!0,value:d,onChange:function(e){return c(e.currentTarget.value)}})})}),(0,B.jsxs)(E.Z,{children:[(0,B.jsx)(p.Z,{onClick:function(){var e=r.assignedIndexNo,n=[];if("object"===typeof e){var t=d;e.map((function(e){var r={indexNumber:t,id:e._id};return n.push(r),t++,r}))}else n.push({indexNumber:d,id:r.assignedIndexNo});v.mutateAsync(n,{onSuccess:function(e){alert("Index number Updated")}})},children:"Save"}),(0,B.jsx)(p.Z,{onClick:function(){return t(!1)},children:"Cancel"})]})]})},fe=t(76385),je=t(92633);function ve(e){var n=e.heading,t=e.isLoading,s=e.data,o=e.refresh,d=e.sortComponent,c=(0,de.s0)(),h=(0,l.useContext)(R.D).customDispatch,x=(0,l.useState)("none"),p=(0,i.Z)(x,2),f=p[0],j=p[1],v=(0,l.useState)(!1),Z=(0,i.Z)(v,2),g=Z[0],b=Z[1],S=(0,l.useState)(!1),C=(0,i.Z)(S,2),E=C[0],N=C[1],I=(0,l.useState)([]),A=(0,i.Z)(I,2),T=A[0],z=A[1],w=(0,l.useState)([]),D=(0,i.Z)(w,2),q=D[0],k=D[1],F=(0,l.useState)(!1),M=(0,i.Z)(F,2),_=M[0],H=M[1],L=(0,l.useState)(!1),V=(0,i.Z)(L,2),ne=V[0],ce=V[1],he=(0,l.useState)({severity:"",msg:""}),ve=(0,i.Z)(he,2),Ze=ve[0],ge=ve[1];(0,l.useEffect)((function(){return window.addEventListener("scroll",be),function(){window.removeEventListener("scroll",be)}}));var be=function(e){var n=window.scrollY;j(n>=340?"block":"none")},Se=(0,a.useMutation)(O.MA),ye=(0,a.useMutation)(fe.bN),Ce=(0,a.useMutation)(fe.G);function Ee(e){Se.mutateAsync(e,{onSuccess:function(e){alert("Data deleted")}})}function Ne(e){H(!0);var n=e.map((function(e){return e.indexNumber}));Promise.all(n).then((function(e){ye.mutateAsync(e,{onSettled:function(){H(!1)},onSuccess:function(e){k(e),ge({severity:"info",msg:"Results of ".concat(e.length," students generated!!")})}})}))}var Pe=function(){ce(!0);var e=q.map((function(e){var n=(0,$.uS)((0,B.jsx)(je.Z,{studentInfo:e.student,studentRecord:e.result}));return{fullname:e.student.fullname,indexNumber:e.student.indexNumber,email:e.student.email,telephoneNo:e.student.telephoneNo,htmlText:n}}));Promise.all(e).then((function(e){Ce.mutateAsync(e,{onSettled:function(){ce(!1)},onSuccess:function(e){ge({severity:"success",msg:"Results of ".concat(e.length," students published!!")}),P().fire({icon:"success",iconColor:"#5aa7a7",title:"Success",text:"Results of ".concat(e.length," students published!!"),confirmButtonColor:"#5aa7a7"}),z([]),k([]),o()}})}))},Ie=function(){ge({severity:"",msg:""})};return(0,B.jsxs)(B.Fragment,{children:[Ze.msg&&(0,B.jsx)(m.Z,{severity:Ze.severity,onClose:Ie,children:Ze.msg}),(0,B.jsxs)(u.Z,{sx:{paddingY:2},children:[(0,B.jsxs)(u.Z,{sx:{display:f,width:"100%",backgroundColor:"#fff",transition:"all 500ms ease-in-out",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"sticky",top:160,zIndex:100},children:[(0,B.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,B.jsx)(W.Z,{loading:_,variant:"contained",onClick:function(){return Ne(T)},disabled:0===T.length,children:"Generate Results"}),(0,B.jsx)(W.Z,{loading:ne,variant:"contained",onClick:Pe,disabled:0===q.length,children:"Publish Results"})]}),Ze.msg&&(0,B.jsx)(m.Z,{severity:Ze.severity,onClose:Ie,children:Ze.msg})]}),(0,B.jsx)(Q(),{icons:ue.P,title:n,isLoading:t,components:{Toolbar:function(e){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(U.MTableToolbar,(0,r.Z)({},e)),d,(0,B.jsxs)(J.Z,{disableElevation:!0,variant:"contained",sx:{margin:2},children:[(0,B.jsx)(W.Z,{loading:_,variant:"contained",onClick:function(){return Ne(T)},disabled:0===T.length,children:"Generate Results"}),(0,B.jsx)(W.Z,{loading:ne,variant:"contained",onClick:Pe,disabled:0===q.length,children:"Publish Results"})]})]})}},style:{borderTop:"solid 2px #5aa7a7",boxShadow:"0px 0px 13px 0px rgb(82 63 105 / 10%)",borderRadius:"10px",transition:"all 1000ms linear ease-in-out"},options:{selection:!0,pageSizeOptions:[5,10,20,50,100],exportButton:!0,exportMenu:[{label:"Export PDF",exportFunc:function(e,t){return(0,K.oK)(e,t,n)}},{label:"Export CSV",exportFunc:function(e,t){return(0,K.b6)(e,t,n)}}]},columns:[{title:"ID",field:"_id",hidden:!0},{title:"Index Number",field:"indexNumber"},{title:"Profile",field:"profile",render:function(e){return(0,B.jsx)(y.Z,{src:""===e.profile||void 0===e.profile||null===e.profile?null:"".concat(me,"/images/").concat(e.profile)})},grouping:!1,export:!1},{title:"Fullname",field:"fullname"},{title:"Gender",field:"gender"},{title:"DOB",field:"dob",hidden:!0},{title:"Email",field:"email",width:"100px"},{title:"Telephone No.",field:"telephoneNo",hidden:!0},{title:"Department",field:"department",hidden:!0},{title:"Programme",field:"programme"},{title:"Level",field:"level"},{title:"Options",sorting:!1,export:!1,grouping:!1,render:function(e){return(0,B.jsxs)(ae.v2,{style:{zIndex:2e3},children:[(0,B.jsx)(ae.j2,{style:{backgroundColor:"transparent",outline:"none",border:"none"},children:(0,B.jsx)(ee.Z,{})}),(0,B.jsxs)(ae.qy,{children:[(0,B.jsxs)(ae.sN,{onSelect:function(){localStorage.setItem("indexNumber",e.indexNumber),h({type:"currentStudentIndexNumber",payload:e.indexNumber}),c("/info/student-personal-info",{replace:!0})},children:[(0,B.jsx)(te,{fontSize:"32px"}),(0,B.jsx)("span",{children:"View Student Info"})]}),(0,B.jsxs)(ae.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function n(){return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h({type:"assignIndexNo",payload:e._id});case 2:N(!0);case 3:case"end":return n.stop()}}),n)}))),children:[(0,B.jsx)(re,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Assign Index Number"})]}),(0,B.jsxs)(ae.sN,{onSelect:function(){c("/info/data-entry",{state:{student:{id:e._id,fullname:e.fullname,indexNumber:e.indexNumber,profile:e.profile}}})},children:[(0,B.jsx)(ie,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Add Results"})]}),(0,B.jsx)(ae.sN,{onSelect:(0,G.Z)((0,Y.Z)().mark((function t(){return(0,Y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({type:n,payload:e});case 2:b(!0);case 3:case"end":return t.stop()}}),t)}))),children:(0,B.jsxs)(X.Z,{direction:"row",children:[(0,B.jsx)(le.Z,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Edit"})]})}),(0,B.jsxs)(ae.sN,{onSelect:function(){Ee(e._id)},children:[(0,B.jsx)(se.Z,{fontSize:"32px"}),(0,B.jsx)("span",{children:"Delete"})]})]})]})}}],data:s,actions:[{position:"toolbar",icon:function(){return(0,B.jsx)(oe.Z,{})},tooltip:"Refresh",isFreeAction:!0,onClick:function(){o()}},{position:"auto",tooltip:"Assign Index Number",icon:function(){return(0,B.jsx)(re,{fontSize:"32px"})},onClick:function(){var e=(0,G.Z)((0,Y.Z)().mark((function e(n,t){return(0,Y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({type:"assignIndexNo",payload:t});case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{position:"auto",tooltip:"Delete Students",icon:function(){return(0,B.jsx)(se.Z,{})},onClick:function(e,n){var t=[];n.map((function(e){return t.push(e._id)})),Ee(t)}}],onSelectionChange:function(e){z(e)}})]}),(0,B.jsx)(xe,{open:g,setOpen:b}),(0,B.jsx)(pe,{open:E,setOpen:N})]})}me="https://aamusted-results.herokuapp.com";var Ze=l.memo(ve),ge=function(){var e=(0,l.useContext)(R.D),n=e.customState,t=e.customDispatch,Z=(0,l.useState)(!1),g=(0,i.Z)(Z,2),b=g[0],S=g[1],y=(0,l.useState)(""),C=(0,i.Z)(y,2),E=C[0],N=C[1],P=(0,l.useState)({department:"",programme:"",level:""}),I=(0,i.Z)(P,2),A=I[0],T=I[1],z=(0,l.useState)([]),w=(0,i.Z)(z,2),D=w[0],q=w[1],k=(0,l.useState)([]),F=(0,i.Z)(k,2),W=F[0],M=F[1],_=(0,a.useQuery)(["student",A],(function(){return(0,O.uH)(A)}),{retry:3,onSuccess:function(e){t({type:"allStudents",payload:e})},onError:function(e){N(void 0!==e?e:"Connection failed.We can\u2019t connect to the server.Try again later")}});return(0,a.useQuery)(["department"],L.Sj,{retry:3,onSuccess:function(e){t({type:"departOptions",payload:e})}}),(0,a.useQuery)(["programme"],V.Sc,{retry:3,onSuccess:function(e){t({type:"progOptions",payload:e})}}),(0,l.useEffect)((function(){var e=[],t=[];n.departmentOptions.forEach((function(n,t){e.push(n.department)})),n.programmeOptions.forEach((function(e,n){t.push(e.programme)})),q(e),M(t)}),[n.programmeOptions,n.departmentOptions]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.Z,{children:(0,B.jsx)("title",{children:" AAMUSTED Results System | Student"})}),(0,B.jsxs)("section",{className:"student-container",children:[(0,B.jsx)(v.Z,{children:(0,B.jsxs)("section",{children:[(0,B.jsx)(d.Z,{variant:"h5",children:"Students"}),(0,B.jsx)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,B.jsxs)(c.Z,{children:[(0,B.jsx)(h.Z,{children:"Home"}),(0,B.jsx)(d.Z,{children:"Student"})]})}),(0,B.jsx)(x.Z,{}),_.isLoading&&(0,B.jsx)(m.Z,{severity:"info",children:"Loading"}),E&&(0,B.jsx)(m.Z,{severity:"error",children:E}),(0,B.jsx)(u.Z,{display:"flex",justifyContent:"flex-end",paddingY:4,children:(0,B.jsx)(p.Z,{variant:"contained",disableElevation:!0,color:"secondary",startIcon:(0,B.jsx)(s.Z,{}),onClick:function(){return S(!0)},children:"Add Student"})}),(0,B.jsx)(d.Z,{gutterBottom:!0,children:"Sort by :"}),(0,B.jsxs)(u.Z,{sx:{display:"flex",justifyContent:{xs:"center",md:"flex-start"},alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,B.jsx)(f.Z,{disablePortal:!0,options:D,onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},A),{},{department:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Department",size:"small",fullWidth:!0}))}}),(0,B.jsx)(f.Z,{disablePortal:!0,options:W,onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},A),{},{programme:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Programme",size:"small",fullWidth:!0}))}}),(0,B.jsx)(f.Z,{disablePortal:!0,options:["100","200","300","400"],onChange:function(e,n){return T((0,r.Z)((0,r.Z)({},A),{},{level:n}))},sx:{width:250},renderInput:function(e){return(0,B.jsx)(j.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Level",size:"small",fullWidth:!0}))}})]}),(0,B.jsx)(Ze,{isLoading:_.isLoading,heading:"Student",data:_.data,refresh:_.refetch})]})}),(0,B.jsx)(H,{open:b,setOpen:S})]})]})}},68087:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},4208:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteSharp")},38820:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},43992:function(e,n,t){var r=t(74223),i=t(80184);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd")}}]);
//# sourceMappingURL=782.eecb70ba.chunk.js.map
"use strict";(self.webpackChunkresults_system=self.webpackChunkresults_system||[]).push([[332],{40077:function(e,t,n){n.d(t,{v:function(){return r}});var r=function(e){switch(e){case"A":return 12;case"B+":return 10.5;case"B":return 9;case"C+":return 7.5;case"C":return 6;case"D+":return 4.5;case"D":return 3;case"E":return 1.5;case"F":return 0;default:return""}}},70332:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(29439),s=n(72791),d=n(53767),i=n(90977),l=n(60183),c=n(5849),o=n(25498),x=n.n(o),h=n(35125),a=n(91933),u=n(16871),j=n(99873),p=n(58340),f=n(763),g=n.n(f),m=n(94721),v=n(37654),b=n(40077),y=n(80184);var C=function(e){var t=e.studentInfo,n=e.studentRecord,r=[],d=[],i=void 0!==n?null===n||void 0===n?void 0:n.map((function(e,t){return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{style:{backgroundColor:"#8C1438",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px"},children:[(0,y.jsxs)("p",{style:{fontSize:"12px"},children:[e.year," ACADEMIC YEAR"]}),(0,y.jsxs)("p",{style:{fontSize:"12px"},children:["LEVEL ",e.level]}),(0,y.jsxs)("p",{style:{fontSize:"12px"},children:[e.semester," SEMESTER"]})]})}),(0,y.jsxs)("table",{cellPadding:"10px",width:"100%",children:[(0,y.jsx)("thead",{style:{backgroundColor:"#000",color:"#fff",textAlign:"left"},children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Code"}),(0,y.jsx)("th",{children:"Course"}),(0,y.jsx)("th",{children:"Credit Hours"}),(0,y.jsx)("th",{children:"Score"}),(0,y.jsx)("th",{children:"Grade"}),(0,y.jsx)("th",{children:"Grade Point"})]})}),(0,y.jsx)("tbody",{style:{backgroundColor:"whitesmoke"},children:e.results.map((function(e,t){var n=(0,b.v)(e.grade);return r.push(Number(e.creditHours)),d.push(Number(n)),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.course.id}),(0,y.jsx)("td",{children:e.course.label}),(0,y.jsx)("td",{children:e.creditHours}),(0,y.jsx)("td",{children:e.score}),(0,y.jsx)("td",{children:e.grade}),(0,y.jsx)("td",{children:n})]},e.course.id)}))}),(0,y.jsx)("tfoot",{style:{paddingBottom:"200px"},children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsx)("td",{}),(0,y.jsxs)("td",{style:{backgroundColor:"#8C1438",color:"#fff"},children:["GPA-",(g().sum(d)/g().sum(r)).toFixed(2)]})]})})]})]},e._id)})):null;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{style:{width:"9in",minHeight:"11.5in",margin:"auto",marginTop:"16px",backgroundColor:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:(0,y.jsxs)("div",{style:{width:"8.5in",minHeight:"11in",margin:"auto",padding:"16px",background:"linear-gradient(rgba(255,255,255,0.96),rgba(255,255,255,0.96)),url(".concat(v,") no-repeat center center"),backgroundSize:"350px 350px"},id:"printPage",children:[(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"32px 0"},children:[(0,y.jsx)("img",{src:v,alt:"logo",style:{width:"120px",height:"120px"}}),(0,y.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,y.jsxs)("div",{style:{textAlign:"center"},children:[(0,y.jsx)("h2",{children:"AKENTEN APPIAH-MENKA UNIVERSITY"}),(0,y.jsx)("p",{children:"ACADEMIC AFFAIRS OFFICE"}),(0,y.jsx)("p",{children:"TANOSO-KUMASI"})]})})]}),(0,y.jsx)("p",{style:{textAlign:"center",color:"#fff",backgroundColor:"#000",padding:"10px 0"},children:"OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD"}),(0,y.jsx)(m.Z,{}),(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",columnGap:"20px",rowGap:"10px",paddingTop:"20px"},children:[(0,y.jsxs)("div",{style:{flexBasis:"700px"},children:[(0,y.jsx)("p",{style:{fontWeight:"bold"},children:" Student Number "}),(0,y.jsx)("p",{children:null===t||void 0===t?void 0:t.indexNumber})]}),(0,y.jsxs)("div",{style:{flexBasis:"150px"},children:[(0,y.jsx)("p",{style:{fontWeight:"bold"},children:"Full Name"}),(0,y.jsx)("p",{children:null===t||void 0===t?void 0:t.fullname})]}),(0,y.jsxs)("div",{style:{flexBasis:"150px"},children:[(0,y.jsx)("p",{style:{fontWeight:"bold"},children:" Date of Birth "}),(0,y.jsx)("p",{children:new Date(null===t||void 0===t?void 0:t.dob).toLocaleDateString()})]}),(0,y.jsxs)("div",{style:{flexBasis:"150px"},children:[(0,y.jsx)("p",{style:{fontWeight:"bold"},children:"Gender "}),(0,y.jsx)("p",{children:null===t||void 0===t?void 0:t.gender})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{style:{fontWeight:"bold"},children:" Programme "}),(0,y.jsx)("p",{children:null===t||void 0===t?void 0:t.programme})]})]}),(0,y.jsx)("div",{style:{width:"100%",padding:"40px 0"},children:0===n.length||void 0===n?null:i})]})})})},A=n(92633),I=n(76385),E=n(6907),S=n(4799),w=n.n(S),F=n(28713);var N=function(){var e=(0,u.s0)(),t=(0,s.useContext)(j.D).customState,n=(0,s.useState)(""),o=(0,r.Z)(n,2),f=o[0],g=o[1],m=(0,s.useState)(t.currentStudentIndexNumber),v=(0,r.Z)(m,2),b=v[0],S=v[1];(0,s.useEffect)((function(){var e=localStorage.getItem("indexNumber");null!==e&&S(e)}),[b]);var N=(0,a.useQuery)(["publish"],(function(){return(0,I.Fk)(b,f)}),{enabled:!1,onSuccess:function(e){w().fire({icon:"success",iconColor:"#8C1438",title:"Success",text:"Results Published!!!",confirmButtonColor:"#8C1438"})}}).refetch;return(0,s.useEffect)((function(){0===t.studentInfo.length&&e("/info/student",{replace:!0})}),[e,t.studentInfo]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.ql,{children:(0,y.jsx)("title",{children:"AAMUSTED Results System | Preview"})}),(0,y.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",padding:2,children:[(0,y.jsx)(i.Z,{onClick:function(){return e("/info/student-personal-info",{replace:!0})},children:(0,y.jsx)(F.Z,{})}),(0,y.jsxs)(l.Z,{variant:"contained",children:[(0,y.jsx)(c.Z,{onClick:function(){var e=document.getElementById("printPage");x()(e).then((function(e){var t=e.toDataURL("image/png"),n=new h.jsPDF({orientation:"portrait",unit:"in",format:[8.5,11]});n.addImage(t,"JPEG",0,0),n.save("".concat(b,".pdf"))}))},id:"print",children:"Print"}),"administrator"===t.user.role&&(0,y.jsx)(c.Z,{c:!0,id:"publish",onClick:function(){var e=(0,p.uS)((0,y.jsx)(A.Z,{studentInfo:t.studentInfo,studentRecord:t.studentRecord}));g(e),N()},children:"Publish"})]})]}),(0,y.jsx)(C,{studentInfo:t.studentInfo,studentRecord:t.studentRecord})]})}},92633:function(e,t,n){var r=n(72791),s=n(94721),d=n(763),i=n.n(d),l=n(40077),c=n(80184);t.Z=function(e){var t=e.studentInfo,n=e.studentRecord,d=[],o=[];function x(){var e=i().sum(o)/i().sum(d);return console.log(e),e.toFixed(2)}var h=null===n||void 0===n?void 0:n.map((function(e,t){return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)("table",{width:"100%",border:"0",children:(0,c.jsxs)("tr",{style:{backgroundColor:"#8C1438",color:"#fff",padding:"16px"},children:[(0,c.jsxs)("td",{children:[e.year," ACADEMIC YEAR"]}),(0,c.jsxs)("td",{children:["LEVEL ",e.level]}),(0,c.jsxs)("td",{children:[e.semester," SEMESTER"]})]})}),(0,c.jsxs)("table",{width:"100%",border:"0",style:{paddingBottom:"16px"},children:[(0,c.jsx)("thead",{style:{backgroundColor:"#333",color:"#fff",textAlign:"left"},children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Code"}),(0,c.jsx)("th",{children:"Course"}),(0,c.jsx)("th",{children:"Credit Hours"}),(0,c.jsx)("th",{children:"Score"}),(0,c.jsx)("th",{children:"Grade"}),(0,c.jsx)("th",{children:"Grade Point"})]})}),(0,c.jsx)("tbody",{style:{backgroundColor:"whitesmoke"},children:e.results.map((function(e,t){var n=(0,l.v)(e.grade);return d.push(Number(e.creditHours)),o.push(Number(n)),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.course.id}),(0,c.jsx)("td",{children:e.course.label}),(0,c.jsx)("td",{children:e.creditHours}),(0,c.jsx)("td",{children:e.score}),(0,c.jsx)("td",{children:e.grade}),(0,c.jsx)("td",{children:n})]},e.course.id)}))}),(0,c.jsxs)("tfoot",{style:{paddingBottom:"200px"},children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsxs)("td",{style:{backgroundColor:"#8C1438",color:"#fff"},children:["GPA-",x()]})]}),(0,c.jsx)("tr",{children:(0,c.jsx)("td",{children:"End"})})]})]})]},e._id)}));return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{width:"100%",maxWidth:"600px",margin:"auto",padding:"20px",backgroundColor:"#fff"},id:"printPageA",children:[(0,c.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"16px 0"},children:(0,c.jsx)("table",{width:"100%",style:{textAlign:"center"},children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("img",{src:"https://blogger.googleusercontent.com/img/a/AVvXsEjmgQKEPuA2OPPl0sErJ4oijrFu0fOYFIScPxZrtsOKsmN6lTTzi6CsX0TPnqzHCL44VU4ghmzmV6LScpciyOehKGuN9GH9OuIb299rBwE9bsTqmb26Ju6opaR_RkWnQarH6w8bIA9NaRBdZ-hT7UDWcgO5bcFuFneiUZAmvmPU1K998YJ7c83ZNQVHHA=s715",alt:"logo",style:{width:"120px",height:"120px"}})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("h2",{children:"AKENTEN APPIAH-MENKA UNIVERSITY"}),(0,c.jsx)("p",{children:"ACADEMIC AFFAIRS OFFICE"}),(0,c.jsx)("p",{children:"TANOSO-KUMASI"})]})]})})}),(0,c.jsx)("p",{style:{textAlign:"center",color:"#fff",backgroundColor:"#000",padding:"10px 0"},children:"OFFICIAL TRANSCRIPT FOR ACADEMIC RECORD"}),(0,c.jsx)(s.Z,{}),(0,c.jsxs)("table",{width:"100%",style:{textAlign:"center"},children:[(0,c.jsx)("tr",{style:{backgroundColor:"#8C1438"},children:(0,c.jsx)("td",{style:{color:"#fff",padding:"8px"},children:"STUDENT INFORMATION"})}),(0,c.jsx)("tr",{children:(0,c.jsx)("td",{style:{padding:"10px 0"}})})]}),(0,c.jsxs)("table",{width:"100%",children:[(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{children:[(0,c.jsx)("p",{style:{fontWeight:"bold"},children:" Student Number "}),(0,c.jsx)("p",{children:null===t||void 0===t?void 0:t.indexNumber})]}),(0,c.jsxs)("td",{children:[(0,c.jsx)("p",{style:{fontWeight:"bold"},children:"Full Name"}),(0,c.jsx)("p",{children:null===t||void 0===t?void 0:t.fullname})]}),(0,c.jsxs)("td",{children:[(0,c.jsx)("p",{style:{fontWeight:"bold"},children:" Date of Birth "}),(0,c.jsx)("p",{children:new Date(null===t||void 0===t?void 0:t.dob).toLocaleDateString()})]})]}),(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{children:[(0,c.jsx)("p",{style:{fontWeight:"bold"},children:"Gender "}),(0,c.jsx)("p",{children:null===t||void 0===t?void 0:t.gender})]}),(0,c.jsxs)("td",{children:[(0,c.jsx)("p",{style:{fontWeight:"bold"},children:" Programme "}),(0,c.jsx)("p",{children:null===t||void 0===t?void 0:t.programme})]})]})]}),(0,c.jsx)("div",{style:{width:"100%"},children:0===n.length?null:h})]})})}},28713:function(e,t,n){var r=n(74223),s=n(80184);t.Z=(0,r.Z)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackSharp")}}]);
//# sourceMappingURL=332.c5053195.chunk.js.map